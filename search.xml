<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[web crawler share]]></title>
    <url>%2Fposts%2F835c8e5b%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;ç®€å•çš„çˆ¬è™«åˆ†äº«ï¼Œæœªå®Œå¾…ç»­â€¦çˆ¬è™«+pandoraåˆ†äº«spideræœç´¢å¼•æ“Žä½¿ç”¨ç½‘ç»œçˆ¬è™«çˆ¬å–ç½‘ç«™ä¿¡æ¯ï¼Œç”¨äºŽå»ºç«‹ç´¢å¼•ä¾›ç”¨æˆ·æœç´¢googlerobots.txt googleçˆ¬å–é¡µé¢/æŽ¥å£ï¼Œæå–æœ‰æ•ˆä¿¡æ¯èƒŒæ™¯å¿«é€’ä¸šåŠ¡å„å¤§å¿«é€’ç½‘ç‚¹ä¿¡æ¯ yundaé¥¿äº†ä¹ˆã€ç¾Žå›¢å¤–å–å•†å®¶å•†å®¶ä¿¡æ¯åŠé…é€ç›¸å…³ä¿¡æ¯åŠ¨æ‰‹node-crawler githubè®¿é—®é¡µé¢ï¼Œå¤„ç†è¿”å›žï¼Œæå–æ•°æ®12345678910111213141516// åˆ—è¡¨çˆ¬è™«const spider = new Carwler(&#123; callback(err, res, done) &#123; // do sth const detailQueue = [] detailSpider.queue(detailQueue) &#125;&#125;)// è¯¦æƒ…çˆ¬è™«const detailSpider = new Crawler()// å¼€å§‹const run = () =&gt; &#123; const listQueue = [] // éœ€è¦çˆ¬å–çš„å†…å®¹é˜Ÿåˆ— spider.queue(listQueue)&#125;cheerioåŽ»é™¤äº†æµè§ˆå™¨ç«¯ç›¸å…³éƒ¨åˆ†çš„jQueryï¼Œèƒ½å¤Ÿè§£æžæ ‡ç­¾ï¼Œåœ¨serverç«¯å¯¹htmlè¿›è¡Œä¸€äº›å’Œå®¢æˆ·ç«¯jQueryä¸€æ ·çš„æ“ä½œpuppeteerè°·æ­Œå‡ºå“ï¼Œå¿…å±žç²¾å“æ‰“å¼€ä¸€ä¸ªheadless chromeï¼Œæ¨¡æ‹Ÿè®¿é—®ï¼Œé¡µé¢æ‰§è¡Œ123456789101112131415161718async start() &#123; // launch browser this.browser = await puppeteer.launch(); this.logger.info("Service puppeteerService Started");&#125;async take(url) &#123; // create page const page = await this.browser.newPage(); page.setViewport(&#123; width: 1920, height: 1080 &#125;); await page.goto(url); // screenshot const buf = await page.screenshot(&#123; type: "jpeg", quality: 60 &#125;); await page.close(); return &#123; // çŽ°åœ¨ IPC Hub ä¸èƒ½ç›´æŽ¥ä¼ é€’ Bufferï¼Œéœ€è¦ base64ã€‚ list: buf.toString("base64") &#125;;&#125;example articleapi docé—®é¢˜é¥¿äº†ä¹ˆå•†å®¶åŒºåŸŸè¦†ç›–ä»£ç†é‡è¯•ï¼ŒåŠ æ—¥å¿—ä»£ç†åŠ¨æ€æ›¿æ¢morepandoraservice]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>crawler</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç½‘åŸºç¡€ æŒç»­æ›´æ–°ing]]></title>
    <url>%2Fposts%2F52924cd5%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å¹´åº•äº†ï¼Œæ— å¿ƒå†™ä»£ç ï¼Œå›žå¤´çœ‹çœ‹ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼ŒæŒç»­æ›´æ–°ä¸­â€¦ç½‘ç»œå±‚çº§å®žä½“å±‚å…‰çº¤ï¼ŒåŒç»žçº¿ï¼Œæ— çº¿ç”µæ³¢ç­‰ä¼ è¾“ä»‹è´¨å®žä½“å±‚çš„ä½¿å‘½æ˜¯å®žçŽ°ç‰©ç†è¿žæŽ¥æ•°æ®é“¾è·¯å±‚0 1è¡¨ç¤ºä½Žé«˜ç”µä½ï¼Œæ ¹æ®0 1åˆ†ç»„å½¢å¼æž„æˆä¸€ç»„ç‹¬ç‰¹çš„ç”µä¿¡å·é“¾è·¯å±‚çš„ä½¿å‘½æ˜¯ç¡®å®š0 1åˆ†ç»„ä»¥å¤ªç½‘åè®®ï¼šä¸€ç»„ç”µä¿¡å·æž„æˆä¸€ä¸ªæ•°æ®åŒ…ï¼Œç§°ä¸ºä¸€å¸§ï¼Œä¸€å¸§åŒ…å«æ ‡å¤´(head)å’Œæ•°æ®åŒ…(data)ä¸€å¸§æž„æˆï¼š6ä¸ªå­—èŠ‚ï¼ˆ6*8ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå¯¹åº”12ä¸ªåå…­è¿›åˆ¶ä½ï¼Œå¯¹åº”ç½‘å¡åœ°å€ï¼‰ç›®çš„ç‰©ç†åœ°å€6ä¸ªå­—èŠ‚ æºç‰©ç†åœ°å€ ï¼ˆMACåœ°å€å‰6ä½æ˜¯åŽ‚å•†ç¼–å·ï¼ŒåŽ6ä½æ˜¯åŽ‚å•†çš„ç½‘å¡æµæ°´å·ï¼‰2ä¸ªå­—èŠ‚ ç±»åž‹ï¼ˆæ ‡è¯†å¸§ä¸­æ‰€å«ä¿¡æ¯çš„ä¸Šå±‚åè®®ï¼‰46-1500ä¸ªå­—èŠ‚ æ•°æ®4ä¸ªå­—èŠ‚ CRCï¼ˆå¾ªçŽ¯å†—ä½™æ£€æµ‹ï¼‰æ ¡éªŒç å¹¿æ’­ï¼šä»¥å¹¿æ’­å½¢å¼å‘æœ¬ç½‘ç»œå†…æ‰€æœ‰è®¡ç®—æœºå‘é€æ•°æ®åŒ…ï¼Œè®¡ç®—æœºæ ¹æ®headé‡Œçš„ç›®çš„åœ°å€å¯¹æ¯”è‡ªèº«ï¼Œç›¸åŒåˆ™æŽ¥æ”¶ç½‘ç»œå±‚é“¾è·¯å±‚èƒ½å®žçŽ°åŒä¸€å­ç½‘å†…çš„è®¡ç®—æœºé—´é€šä¿¡ï¼Œä½†å¯¹äºŽä¸åŒå­ç½‘çš„ä¸¤å°è®¡ç®—æœºï¼Œä¸èƒ½é€šè¿‡å¹¿æ’­å’ŒMACåœ°å€è”ç³»èµ·æ¥äºŽæ˜¯ç½‘ç»œå±‚å®šä¹‰äº†ç½‘ç»œåœ°å€ï¼Œç”¨äºŽåˆ¤æ–­è®¡ç®—æœºæ‰€å¤„å­ç½‘ç½‘ç»œå±‚çš„ä½¿å‘½æ˜¯å®žçŽ°ä¸åŒå­ç½‘çš„ä¸»æœºåˆ°ä¸»æœºé—´çš„é€šä¿¡IPåè®®ï¼šIPæ•°æ®åŒ…æ”¾åˆ°ä»¥å¤ªç½‘æ•°æ®åŒ…çš„dataéƒ¨åˆ†ï¼ŒåŒæ ·åŒ…å«headå’Œdataä¸¤éƒ¨åˆ†IPV4è§„å®šç½‘ç»œåœ°å€ç”±32ä¸ªäºŒè¿›åˆ¶ä½ç»„æˆï¼ˆ0.0.0.0 - 255.255.255.255ï¼‰IPåœ°å€åŒ…æ‹¬ç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†ï¼Œå­ç½‘æŽ©ç ä¸º11111(ç½‘ç»œéƒ¨åˆ†ä½)000(ä¸»æœºéƒ¨åˆ†ä½)ï¼Œä»¥IPåœ°å€å’Œå­ç½‘æŽ©ç ç›¸åŠ åˆ¤æ–­æ˜¯å¦ä½äºŽåŒä¸€å­ç½‘IPæ•°æ®åŒ…headä¸º20-60å­—èŠ‚ï¼Œhead+dataæœ€å¤§ä¸º65535å­—èŠ‚ï¼Œè¶…è¿‡1500å­—èŠ‚éœ€è¦åˆ†å‰²å‘é€ï¼ˆé“¾è·¯å±‚ä»¥å¤ªç½‘åè®®ï¼‰ARPåè®®ï¼šé€šè¿‡IPåœ°å€èŽ·å–MACåœ°å€åŒä¸€å­ç½‘çš„æ‰€æœ‰è®¡ç®—æœºæŽ¥æ”¶åˆ°ä¸€ä¸ªåŒ…å«ç›®æ ‡IPåœ°å€å’Œä¸€ä¸ªç½®ç©ºçš„MACåœ°å€(FF:FF:FF:FF)çš„æ•°æ®åŒ…ï¼Œæ¯”å¯¹IPåœ°å€åŽä½œå‡ºå›žåº”ï¼ŒæŠ¥å‘Šè‡ªå·±çš„MACåœ°å€ä¸åŒå­ç½‘äº¤ç”±ç½‘å…³å¤„ç†æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡IPåœ°å€è·¨åŸŸå­ç½‘é—´å±éšœï¼Œé€šè¿‡ARPåè®®æ ¹æ®IPåœ°å€å†æ‰¾åˆ°ç›®æ ‡ç‰©ç†åœ°å€ï¼Œå®žçŽ°äº’è”ç½‘ä¸Šä»»æ„ä¸¤å°ä¸»æœºçš„é€šä¿¡ä¼ è¾“å±‚ç«¯å£æ˜¯ä½¿ç”¨ç½‘å¡çš„ç¨‹åºçš„ç¼–å·ä¸»æœº+ç«¯å£ = socketå¥—æŽ¥å­—ä¼ è¾“å±‚ä½¿å‘½æ˜¯å®žçŽ°ç«¯å£åˆ°ç«¯å£çš„é€šä¿¡UDPåè®®ï¼šæ•°æ®åŒ…ç”±headå’Œdataç»„æˆï¼Œheadä¸º8å­—èŠ‚ï¼Œæ€»é•¿ä¸è¶…è¿‡65535ï¼Œä¸€èµ·æ”¾äºŽIPæ•°æ®åŒ…çš„dataéƒ¨åˆ†TCPåè®®ï¼šæœ‰ç¡®è®¤æœºåˆ¶çš„UDPï¼Œç›¸æ¯”å‰è€…å¤šäº†ç¡®è®¤è¿‡ç¨‹ï¼Œæ›´å¤æ‚ä¹Ÿæ›´å¯é åº”ç”¨å±‚åº”ç”¨å±‚ä½¿å‘½æ˜¯è§„å®šåº”ç”¨ç¨‹åºçš„æ•°æ®æ ¼å¼ï¼ˆDHCP,DNS,HTTP,FTP,SSHç­‰ï¼‰]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dz-pj åœ¨çº¿éŸ³ä¹SPA]]></title>
    <url>%2Fposts%2Ff0693436%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;ä¸€æ—¶å…´èµ·ï¼Œå†™äº†ä¸ªç®€å•çš„éŸ³ä¹ç«™ï¼Œæ»¡è¶³è‡ªå·±å¹³æ—¶å¬æ­Œçš„éœ€è¦ã€‚æ¬¢è¿Žæœ‹å‹ä»¬è¯•ç”¨ã€æissueã€star~ç›¸å…³æŠ€æœ¯ç‚¹viewreactantdå¹³æ—¶åšä¸­åŽå°ä¸šåŠ¡ä¹ æƒ¯äº†ï¼Œå›¾ä¸ªæ–¹ä¾¿ç›´æŽ¥æ‹¿æ¥ç”¨äº†ï¼Œä¹Ÿä¸æ˜¯å¾ˆä¸‘â€¦storemobxç›¸æ¯”äºŽreduxæ›´è½»ï¼Œä»£ç ä¾µå…¥å°ï¼Œè™½ç„¶æ²¡æœ‰ä¸­é—´ä»¶ï¼Œä½†å°åº”ç”¨ä¹Ÿå¤Ÿç”¨æ¥ç®¡ç†å‰ç«¯çŠ¶æ€äº†serveraxioså›¾ä¸ªæ–¹ä¾¿ç®€å•â€¦åŽç»­å°è£…ä¸ªå®Œå–„çš„è¯·æ±‚æ¨¡å—NeteaseCloudMusicApiåœ¨è‡ªå·±çš„serverä¸Šcloneäº†å¤§ä½¬çš„è¿™ä¸ªé¡¹ç›®ï¼Œè·‘èµ·æ¥ä»¥åŽä¸ºå‰ç«¯æä¾›apiï¼ŒèŽ·å–æ•°æ®æºæ‰“åŒ…éƒ¨ç½²parcelå¦‚å®˜ç½‘æ‰€è¯´ï¼Œé›¶é…ç½®ï¼Œä½œä¸ºå«Œå¼ƒwebpackéº»çƒ¦åˆ°æ­»çš„æˆ‘æ¥è¯´çœŸçš„æ˜¯å¤Ÿç”¨äº†ã€‚ä¼˜åŠ¿è‡ªå¸¦çƒ­æ›´æ–°é›¶é…ç½®é€Ÿåº¦å¿«åŠ£åŠ¿çƒ­æ›´æ–°æœ‰é—®é¢˜æ²¡æœ‰sourceMapï¼Œè°ƒè¯•å¾ˆéº»çƒ¦nginxç®€å•é…ç½®stepsæœ¬åœ°buildä¸Šä¼ github reposerverä¸Šgit pullé¡¹ç›®æ ¸å¿ƒ&emsp;&emsp;ç”±äºŽaudioå’Œlyricæ˜¯ä¸¤ä¸ªåˆ†å¼€çš„ç»„ä»¶ï¼Œä¸ºäº†ç»´æŠ¤çŠ¶æ€ï¼Œè¿™ä¸¤ä¸ªç»„ä»¶çœ‹èµ·æ¥éƒ½ä¸æ˜¯å¾ˆç‹¬ç«‹ã€‚&emsp;&emsp;åŽç»­è€ƒè™‘å°è£…æˆä¸€ä¸ªæ›´åˆç†ï¼Œæ›´å°é—­çš„ç»„ä»¶ï¼Œæ¯”å¦‚å¯¹ä½¿ç”¨è€…æ¥è¯´åªè¦ä¼ å…¥musicListå°±å¯ç”¨ã€‚audioç»„ä»¶æ€è·¯ç›‘å¬audioç»„ä»¶çš„äº‹ä»¶ä¸¾ä¸ªæ —å­123456789101112131415// å®žæ—¶è¿›åº¦æ¡this.audio.addEventListener('timeupdate', () =&gt; &#123; let progress = 0 // ä¸‹ä¸€é¦–çš„æ—¶å€™ä¼šå…ˆè¿›åˆ°è¿™é‡Œï¼Ÿï¼æ²¡èŽ·å–åˆ°é•¿åº¦çš„æ—¶å€™ä¼šæŠ¥é”™ if (!!this.audio.duration) &#123; progress = (this.audio.currentTime / this.audio.duration) * 100 &#125; this.props.passTime(this.audio.currentTime) this.props.form.setFieldsValue(&#123; slider: progress &#125;) this.setState(&#123; progress &#125;)&#125;)æ’­æ”¾è¿‡ç¨‹ä¸­ç›‘å¬æ—¶é—´å˜åŒ–ï¼Œæ˜¾ç¤ºå®žæ—¶è¿›åº¦æ¡ã€å®šä½å®žæ—¶æ­Œè¯ä½ç½®ã€‚ä½¿ç”¨propspassTime (func)ï¼Œç”¨äºŽå°†å½“å‰æ—¶é—´ä¼ å‡ºï¼Œå­˜å…¥storeï¼Œæ–¹ä¾¿lyricå®šä½æ­Œè¯ä½ç½®musicListï¼Œæ’­æ”¾åˆ—è¡¨insertMarkï¼Œæ’å…¥æ’­æ”¾åˆ—è¡¨æ ‡å¿—ä½ // åŽç»­è€ƒè™‘ä¼˜åŒ–changeMark (func)ï¼Œç”¨äºŽå°†å½“å‰æ­Œæ›²åœ¨æ’­æ”¾åˆ—è¡¨ä¸­ä½ç½®ä¼ å‡ºï¼Œå­˜å…¥storeï¼Œæ–¹ä¾¿lyricèŽ·å–æ­Œè¯åŠŸèƒ½æ”¯æŒæœç´¢æ­Œæ›²ï¼Œæ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨æ”¯æŒæ’­æ”¾æ­Œæ›²ã€åˆ‡æ¢ä¸Šä¸‹é¦–ã€åˆ‡æ¢å¾ªçŽ¯å•æ›²å’Œåˆ—è¡¨é¡ºåºæ¨¡å¼æ”¯æŒæ’­æ”¾ä¸­æ‹–åŠ¨è¿›åº¦æ¡ã€æ˜¾ç¤ºå½“å‰æ—¶é—´ã€è°ƒèŠ‚æ’­æ”¾éŸ³é‡lyric flowç»„ä»¶æ€è·¯parseæ­Œè¯å­—ç¬¦ä¸²ä»Žç½‘æ˜“äº‘èŽ·å–åˆ°çš„æ­Œè¯é•¿è¿™æ ·ï¼šæˆ‘æƒ³è¦çš„æ˜¯è¿™æ ·çš„ï¼šparseç»†èŠ‚å¦‚ä¸‹ï¼Œå…¶å®žä¹Ÿå¾ˆç®€å•ï¼Œåªè¦æŠŠå¯¹åº”æ­Œè¯å’Œæ—¶é—´å¯¹åº”ä¸Šå°±å¥½äº†1234567891011121314151617181920212223242526export default function parse(text) &#123; const lines = text.split('\n') const pattern = /\[\d&#123;2&#125;:\d&#123;2&#125;.\d*\]/g const lyrics = [] lines.map(line =&gt; &#123; const timeLines = line.match(pattern) const lyricLine = line.replace(pattern, "") if(timeLines &amp;&amp; timeLines.length) &#123; for (let i=0; i&lt;timeLines.length; i++) &#123; const timeLine = timeLines[i] const min = timeLine.replace(/(\[|\:|\]|\.)/g, "").slice(0, 2) const sec = timeLine.replace(/(\[|\:|\]|\.)/g, "").slice(2, 4) const seconds = (+min) * 60 + (+sec) lyrics.push(&#123; [seconds]: lyricLine || '......' &#125;) &#125; &#125; &#125;) lyrics.sort((a, b) =&gt; &#123; const keyA = +Object.keys(a)[0] const keyB = +Object.keys(b)[0] return keyA - keyB &#125;) return lyrics&#125;ç›‘å¬æ’­æ”¾æ—¶é—´ï¼Œæ ¹æ®æ—¶é—´å¯¹åº”æ‰¾åˆ°è½åœ¨çš„æ­Œè¯ä½ç½®ï¼Œæ˜¾ç¤ºæ—è¾¹ä¸¤æ¡æ­Œè¯ä½¿ç”¨propslyric å½“å‰æ­Œæ›²çš„æ­Œè¯currentTime å½“å‰æ’­æ”¾æ—¶é—´åŠŸèƒ½çŽ°åœ¨æ˜¯æ˜¾ç¤ºä¸¤æ¡ï¼ŒåŽç»­è€ƒè™‘åšæˆæ–‡å­—èµ°é©¬ç¯ï¼Œé«˜äº®å½“å‰æ’­æ”¾çš„ä¸€æ¡æ”¶èŽ·æŠ€æœ¯audioä»¥å‰åŸºæœ¬æ²¡ç”¨è¿‡ï¼ŒçŽ°åœ¨è‡³å°‘çŸ¥é“äº†ä¸€äº›ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ä»¥åŠå¸¸ç”¨å±žæ€§çš„mobxå’Œreduxæ€æƒ³æ„Ÿè§‰æ˜¯è›®æŽ¥è¿‘çš„ï¼Œéƒ½æ˜¯å•ä¸€æ•°æ®æºï¼Œéƒ½ç¬¦åˆfluxæ€æƒ³ç»„ä»¶éƒ½éœ€è¦åŽ»è®¢é˜…storeï¼Œmobxç”¨injectï¼Œreduxéœ€è¦connectreduxæŠŠstoreæžæˆä¸€ä¸ªå¤§å—å¤´ï¼ŒmobxæŠŠå¤šä¸ªstoreåˆ†å¼€mobxç›´æŽ¥é€šè¿‡actionæ›´æ–°storeï¼Œreduxåˆ™é€šè¿‡actionåŽ»è°ƒç”¨reduceræ›´æ–°storereduxæ•°æ®æµçš„æ¦‚å¿µä½¿å¾—å¯ä»¥åŠ å…¥ä¸­é—´ä»¶ï¼Œæ›´å¥½åœ°å¤„ç†å¼‚æ­¥è¯·æ±‚å°åž‹åº”ç”¨ç”¨mobxç»å¯¹æ˜¯æ–¹ä¾¿å¿«æ·çš„æ­£åˆ™æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œè™½ç„¶ä»¥å‰åŸºæœ¬ä¸å†™ï¼Œä½†æ„Ÿè§‰è¿˜æ˜¯è¦å¥½å¥½å­¦ï¼Œå­¦å¥½å°†å—ç›Šæ— ç©·å•ŠwillReceivePropsä»¥å‰ç”¨å¾—å°‘ï¼Œæœ€è¿‘ç–¯ç‹‚åœ¨ç”¨ï¼Œæ˜¯æ—¶å€™å›žé¡¾ä¸‹reactç”Ÿå‘½å‘¨æœŸäº†å¾…æŒ–æŽ˜react-router 4react 16parcelè¿™äº›ä¸œè¥¿éƒ½ç”¨ä¸Šäº†ï¼Œä½†æ˜¯æ²¡æœ‰åŽ»å…·ä½“äº†è§£ï¼ŒæŽ¥ä¸‹æ¥ä¼šæ‰¾ä¸ªé¡¹ç›®çš„æœºä¼šå¥½å¥½ç ”ç©¶ä¸‹ã€‚]]></content>
      <categories>
        <category>projects</category>
      </categories>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[node-v8 Isolateå’ŒGC]]></title>
    <url>%2Fposts%2F5f9de541%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;Node/V8å­¦ä¹ ç¬”è®°ç³»åˆ—1ï¼Œå…³äºŽIsolateï¼ˆV8å®žä¾‹ï¼‰å’ŒGCï¼ˆåžƒåœ¾å›žæ”¶æœºåˆ¶ï¼‰ã€‚JavaScriptå¼•æ“Žjså¼•æ“Žï¼šæºä»£ç -&gt;æŠ½è±¡è¯­æ³•æ ‘AST-&gt;å­—èŠ‚ç -&gt;JIT-&gt;æœ¬åœ°ä»£ç V8ï¼šAST-&gt;JIT-&gt;æœ¬åœ°ä»£ç V8Isolate&emsp;&emsp;V8å¼•æ“Žå®žä¾‹ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è™šæ‹Ÿæœºï¼Œå¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œä½†åŒæ—¶åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ã€‚Isolateä¹‹é—´å®Œå…¨éš”ç¦»ï¼Œä¸å…±äº«ä»»ä½•èµ„æºã€‚Handle&emsp;&emsp;V8å¯¹æ‰€æœ‰jså€¼å’Œå¯¹è±¡çš„å†…å­˜åˆ†é…éƒ½æ˜¯åœ¨Heapå†…ï¼ŒHeapç”±V8ç‹¬ç«‹ç»´æŠ¤ï¼Œå¤±åŽ»å¼•ç”¨çš„å¯¹è±¡ä¼šè¢«GCå›žæ”¶ã€‚Handleæ˜¯å¯¹Heapä¸­å¯¹è±¡çš„å¼•ç”¨ï¼ŒGCéœ€è¦ç®¡ç†Handleï¼Œå¯¹è±¡çš„Handleå¼•ç”¨å˜åŒ–æ—¶GCå¯ä»¥å›žæ”¶è¯¥å¯¹è±¡æˆ–è€…ç§»åŠ¨è¯¥å¯¹è±¡çš„åˆ†åŒºã€‚&emsp;&emsp;Handleåˆ†ä¸ºLocalå’ŒPersistanceä¸¤ç§ã€‚å‰è€…ä¸ºå±€éƒ¨å¯¹è±¡ï¼ŒåŽè€…ç±»ä¼¼å…¨å±€å¯¹è±¡ï¼Œéœ€è¦ç±»ä¼¼äºŽC++çš„newå’Œdeleteçš„æ“ä½œPersistent::New, Persistent::Disposeè¿›è¡Œå†…å­˜ç®¡ç†ã€‚&emsp;&emsp;Persistent::MakeWeakå¯ä»¥å¼±åŒ–å¼•ç”¨ï¼Œè§¦å‘GCå¯¹è¢«å¼•ç”¨å¯¹è±¡çš„å›žæ”¶ã€‚Scope&emsp;&emsp;ä½œç”¨åŸŸï¼Œæ˜¯Handleï¼ˆå¥æŸ„ï¼‰çš„å®¹å™¨ï¼Œä¸€ä¸ªä½œç”¨åŸŸå†…å¯ä»¥æœ‰å¾ˆå¤šå¥æŸ„ã€‚&emsp;&emsp;HandleScopeç”¨äºŽç®¡ç†Handleï¼ŒContext::Scopeç”¨äºŽç®¡ç†Contextå¯¹è±¡Context&emsp;&emsp;ä¸Šä¸‹æ–‡çŽ¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºè¿è¡ŒçŽ¯å¢ƒã€‚&emsp;&emsp;ä¾‹å¦‚ï¼šåœ¨Aå‡½æ•°å†…æœ‰ä¸€ä¸ªContextï¼Œè°ƒç”¨Bå‡½æ•°ï¼Œåˆæœ‰ä¸€ä¸ªContextï¼Œé€€å‡ºBå›žåˆ°Aæ—¶åˆæ¢å¤äº†Açš„Contextã€‚GC&emsp;&emsp;åŸºæœ¬é—®é¢˜ï¼šè¯†åˆ«éœ€è¦å›žæ”¶çš„å†…å­˜ã€‚&emsp;&emsp;æ ¹å¯¹è±¡æˆ–è€…è¢«å¦ä¸€ä¸ªæ´»è·ƒå¯¹è±¡å¼•ç”¨çš„å¯¹è±¡æ˜¯æ´»è·ƒçš„ã€‚V8çš„å †æž„æˆè¯†åˆ«æŒ‡é’ˆ&emsp;&emsp;é€šè¿‡åœ¨æŒ‡é’ˆçš„æœ«ä½æ ‡è®°è¿™ä¸ªå­—æ˜¯æŒ‡é’ˆè¿˜æ˜¯å¯¹è±¡å¯¹è±¡æ™‹å‡&emsp;&emsp;å¯¹è±¡åœ¨ç»åŽ†äº†å¤šæ¬¡æ–°ç”Ÿä»£çš„æ¸…ç†åŽè¿˜å¹¸å­˜çš„æ—¶å€™ï¼Œä¼šè¢«ç§»åŠ¨åˆ°è€ç”Ÿä»£ï¼Œå³è¢«æ™‹å‡è·¨åŒºæŒ‡å‘&emsp;&emsp;æ–°å¯¹è±¡è¯žç”Ÿæ—¶å¹¶æ²¡æœ‰æŒ‡å‘ä»–çš„æŒ‡é’ˆï¼Œæ¯”å¦‚åœ¨è€ç”ŸåŒºå¯¹è±¡å†™æ“ä½œçš„æ—¶å€™ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªé˜Ÿæ–°å¯¹è±¡çš„å¼•ç”¨ï¼Œæ­¤æ—¶åœ¨å†™ç¼“å†²åŒºè¢«è®°å½•ä¸‹è¿™æ ·çš„è·¨åŒºæŒ‡å‘ã€‚GCä¸‰æ­¥æ›²æžšä¸¾æ ¹èŠ‚ç‚¹å¼•ç”¨å‘çŽ°å¹¶æ ‡è®°æ´»è·ƒå¯¹è±¡åžƒåœ¾å†…å­˜æ¸…ç†åˆ†ä»£å›žæ”¶åˆ†ä¸¤ç§ï¼šScavengeå’ŒMark-SweepScavenge åˆ†é…æŒ‡é’ˆè¾¾åˆ°æ–°ç”Ÿä»£æœ«å°¾æ—¶æ¸…ç†Mark-Sweep æ´»è·ƒè¶…è¿‡ä¸¤ä¸ªå°å‘¨æœŸçš„å¯¹è±¡ï¼Œéœ€è¦å°†å…¶ç§»åŠ¨åˆ°è€ç”ŸåŒº]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>node</tag>
        <tag>v8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dz's ä½ å¥½2018]]></title>
    <url>%2Fposts%2F8b1fc7d6%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å¯èƒ½å¾ˆéš¾å®žçŽ°ä½†è¿˜æ˜¯æ€€ç€å¸Œæœ›è®¤è®¤çœŸçœŸå†™ä¸‹æ¥çš„æ–°å¹´è®¡åˆ’ã€‚å­¦ä¹ å‰ç«¯javaScriptå’ŒtypeScript2018å¸Œæœ›èƒ½è¿½ä¸Šjsçš„è„šæ­¥ï¼ŒæŽŒæ¡jsè¿™é—¨è¯­è¨€çš„æœ¬è´¨å’Œes6-8çš„ä¸€äº›æ–°ä¸œè¥¿typeScriptå¸Œæœ›èƒ½ç”¨èµ·æ¥ï¼Œç”¨å¾—6èµ·æ¥nodeæ·±å…¥ç†è§£nodeçš„å¼‚æ­¥I/Oå®žçŽ°ï¼Œè¯»ä¸€è¯»libuvæºç è¯»ä¸€è¯»nodeçš„å‡ ä¸ªå…§å»ºæ¨¡å—æºç å°è¯•å†™npmåŒ…ç”¨nodeæ‰‹æ’¸serverï¼Œæ¯”å¦‚æžä¸ªçˆ¬è™«æµè§ˆå™¨å°è¯•äº†è§£V8å®žçŽ°æ¡†æž¶ç±»åº“reactæºç å­¦ä¹ ï¼ŒæŽŒæ¡reactå’Œå…¨å®¶æ¡¶æ‰“åŒ…å·¥å…·å¦‚webpack/Parcelç†Ÿç»ƒdubboæ¡†æž¶æ·±å…¥ç†è§£maybeweexå°æ¸¸æˆã€å°ç¨‹åºå…¶ä»–å…´è¶£ç‚¹å…¨æ ˆä¹‹è·¯è®¡ç®—æœºå‡ é—¨è¯¾ç¨‹è®¡ç®—æœºåŽŸç†è®¡ç®—æœºç½‘ç»œç¼–è¯‘åŽŸç†æ•°æ®ç»“æž„ã€ç®—æ³•å­¦ä¸€é—¨å¤–è¯­Python/goè¯­è¨€åŸºç¡€ç”¨å­¦çš„è¿™é—¨è¯­è¨€å®žçŽ°ä¸€ä¸ªç³»ç»Ÿå…¶ä»–å…´è¶£ç‚¹å…¶ä»–githubå†™å‡ ä¸ªè‡ªå·±çš„é¡¹ç›®æŠ€æœ¯åšå®¢è®°å½•æ¯å¤©çš„æŠ€æœ¯ç§¯ç´¯è‹±è¯­å­¦ä¹ ç”Ÿæ´»èº«ä½“è¿åŠ¨æ¯å‘¨è‡³å°‘è¿åŠ¨ä¸¤æ¬¡è·‘æ­¥ã€å‘¨æœ«çˆ¬å±±ã€æ‰“çƒéƒ½å¯ä»¥æ—©ç¡æ—©èµ·ï¼Œå¥½åƒå¥½å–å¹³æ—¶8ç‚¹èµ·åºŠï¼Œ12ç‚¹ç¡è§‰æ—©é¤éƒ½è¦åƒï¼Œå‘¨æœ«åœ¨å®¶å¥½å¥½å¤šåƒç‚¹çµé­‚é˜…è¯»å†™ä½œæ¯å¤©è‡³å°‘é˜…è¯»åŠå°æ—¶éžæŠ€æœ¯ç±»ä¹¦ç±æ¯å¤©ä¸€ä»½å·¥ä½œç¬”è®°ï¼ˆquiverï¼‰ï¼Œä¸€ä»½æ—¥è®°ï¼ˆæ‰‹å†™æ—¥è®°æœ¬ï¼‰æ¯å‘¨è‡³å°‘ä¸€ç¯‡æŠ€æœ¯æ–‡ç« ï¼Œä¸€ç¯‡ä¸ªäººæ–‡ç« å¨±ä¹å¹³æ—¶æ¯å¤©çŽ©æ¸¸æˆæ—¶é—´ä¸è¶…è¿‡1å°æ—¶å¤šå¬å¬æ­Œï¼Œçœ‹çœ‹ç”µå½±ï¼Œè¿½è¿½å‰§è¿˜èƒ½ç»ƒç»ƒå¬åŠ›æ‘„å½±å­¦ä¹ å­¦ä¹ å…¶ä»–æ¯å‘¨ç»™å®¶é‡Œè‡³å°‘æ‰“ä¸€æ¬¡ç”µè¯è®°ä½å®å®çš„å–œå¥½ï¼Œè®°ä¸‹æ¯ä¸€æ¬¡æ—…è¡Œï¼Œæ¯ä¸€ä¸ªç‰¹æ®Šçš„æ—¶åˆ»è®°è´¦ï¼Œä¸ä¹±èŠ±é’±ï¼Œå­¦ä¼šæ”’é’±ï¼Œæœ‰æœºä¼šå­¦å­¦ç†è´¢]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>thinking</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dz's 2017é‚£äº›äº‹]]></title>
    <url>%2Fposts%2F815e4034%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;è¿™æ˜¯ä¸€ç¯‡æ­£ç»çš„éœ€è¦ä¸Šäº¤çš„å¹´åº¦æ€»ç»“ã€‚å‰è¨€&emsp;&emsp;å¤§æ¦‚æ˜¯ç¬¬ä¸€æ¬¡å¹´åº¦æ€»ç»“ï¼Œå¤§æ¦‚çŽ‡è¿˜ä¼šæœ‰ç¬¬äºŒæ¬¡ï¼Œå¸Œæœ›æœ‰ç¬¬äºŒåæ¬¡ã€‚&emsp;&emsp;æç¬”å‰å¾ˆè‡ªç„¶åœ°æƒ³ï¼Œè¿™ä¸€å¹´ç»åŽ†äº†äº›ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆæ˜¯å€¼å¾—å†™ä¸‹æ¥çš„ï¼Œä¸ºä»€ä¹ˆå€¼å¾—ï¼Œä¸ºä»€ä¹ˆè¦å†™ä¸‹æ¥ï¼Ÿ&emsp;&emsp;å€Ÿç€è¿™æ¬¡å›¢é˜Ÿä½œä¸šçš„æœºä¼šï¼Œé—®é—®è‡ªå·±è¿™äº›é—®é¢˜ï¼Œå†™ä¸‹æ¥å¤‡å¿˜ã€‚è‹¥æœ‰è¯»æ¥æ„Ÿåˆ°ä¸é€‚çš„å†…å®¹ï¼Œè¯»è€…å¤§å¤§ä»¬å¯ä»¥è‡ªç”±ç•¥è¿‡å•¦~&emsp;&emsp;æ›¾ç»æœ‰è¿‡æ¯å¤©æ‰“å¼€ONEï¼ˆæ²¡é”™ï¼Œå°±æ˜¯å²³çˆ¶çš„é‚£ä¸ªoneï¼‰çœ‹ä¸€å¥è¯çš„ä¹ æƒ¯ï¼ŒåŽæ¥å¤§æ¦‚æ‡’äº†å¿˜äº†ï¼Œå¼€å§‹å¥½å‡ å¤©çœ‹ä¸€æ¬¡ï¼Œä¸€æ¬¡è¯»å®Œé”™è¿‡çš„é‚£äº›å¤©ã€‚äºŽæ˜¯ä¼šæƒ³æ—¶é—´æ¯å¤©ã€æ¯ç§’åŒ€é€Ÿåœ°æµåŠ¨ï¼Œå®žé™…ä¸Šæ¯å¤©éƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¸ºäº†è®©æ—¶é—´çš„æµåŠ¨å¯æ„Ÿå—ï¼Œæˆ‘ä»¬ç»“åˆåœ°çƒè¿è¡Œçš„è§„å¾‹å®šä¹‰äº†æˆ‘ä»¬æ—¥å¸¸çš„æ—¶é—´ï¼šä»Žç§’åˆ°å¹´ã€‚æˆ‘ä»¬æŠŠæ¯å¹´çš„å¼€å§‹ä½œä¸ºèŠ‚æ—¥ï¼Œä½œä¸ºä¸€ä¸ªé‡è¦çš„åˆ»åº¦ï¼Œèµ‹äºˆè¿™ä¸€å¤©ç‰¹æ®Šçš„èº«ä»½ï¼Œå¯å®žé™…ä¸ŠæŠ›åŽ»æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„æ—¶é—´è§‚å¿µï¼Œè¿™ä¸€å¤©å…¶å®žæ—¢å¹³å‡¡åˆæ¸ºå°ã€‚&emsp;&emsp;é€‰æ‹©åœ¨è¿™ä¸€å¤©æ¥åšæ€»ç»“ï¼Œä¸æ˜¯å› ä¸ºè¿™ä¸€å¤©å¤šä¹ˆé‡è¦ï¼Œè€Œæ˜¯å› ä¸ºçŸ¥æ™“è¿™ä¸€å¹´ä½ çš„æ„Ÿå—ã€ç»åŽ†éžå¸¸é‡è¦ã€‚æ—¶é—´ä¼šè®©äººé—å¿˜ï¼Œé—å¿˜çš„ä¸æ­¢æ˜¯åšè¿‡ä»€ä¹ˆï¼Œå­¦è¿‡ä»€ä¹ˆï¼Œæ›´é‡è¦çš„æ˜¯è‡ªå·±å‡­å€Ÿå¯¹è‡ªå·±çš„æ‹·é—®è€Œå®šä¸‹çš„ä»Žå¼€å§‹åˆ°ç»“æŸçš„ç›®æ ‡ã€‚å³ä¾¿æ²¡æœ‰æ˜Žç¡®çš„ç›®æ ‡ï¼Œä¹Ÿæœ‰ä¸€æ¡èƒ½å¤ŸæŽ¨å¯¼åˆ°è¿™ä¸€ç›®æ ‡çš„çº¿ç´¢ï¼Œå³äººå¯¹äºŽè‡ªæˆ‘çš„è®¤è¯†ï¼Œè¿™ç§è®¤è¯†åœ¨æˆé•¿è¿‡ç¨‹ä¸­ä¹Ÿè®¸ä¼šä¸€ç‚¹ç‚¹ä¿®æ­£ï¼Œä¹Ÿè®¸å§‹ç»ˆå¦‚ä¸€ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªç‰¹å®šæ—¶åˆ»æ¥æ€»ç»“å’Œè®°ä½çš„å¤§æ¦‚å°±æ˜¯è¿™æ ·çš„å¯¹è‡ªæˆ‘çš„è®¤è¯†ã€‚ï¼ˆå¯¹è‡ªæˆ‘çš„è®¤çŸ¥å½“ç„¶åŒ…æ‹¬è‡ªæˆ‘æ„Ÿæƒ…çš„è®¤çŸ¥å•¦ï¼Œä¾‹å¦‚å¯¹æŸæŸçš„çˆ±æ„ï¼Œä»‹äºŽè¿™æ˜¯ä¸€ç¯‡æ­£ç»çš„éœ€è¦ä¸Šäº¤çš„å¹´åº¦æ€»ç»“ï¼Œè¿˜æ˜¯è·³è¿‡è¿™éƒ¨åˆ†å•¦ï¼‰&emsp;&emsp;è¿™æ˜¯æˆ‘ç†è§£çš„å¿…è¦æ€§ã€‚èµ·æº&emsp;&emsp;è¦è¯´åŽ»å¹´ä»Šå¤©çš„å¿ƒæƒ…ï¼Œè¿˜å¾—æä¸€æå¤§å­¦ã€‚ä»‹äºŽçŽ°åœ¨å¹¶ä¸æƒ³å›žå¿†å¤§å­¦æ—¶å…‰ï¼Œç®€å•æ€»ç»“åˆ°ä¸€å¥è¯ï¼šå­¦æ²¡å­¦å¥½ï¼ŒçŽ©æ²¡çŽ©å¤Ÿã€‚&emsp;&emsp;2016å¹´æ¯•ä¸šï¼Œæ¯•ä¸šå‰æ˜¯å¤„å¢ƒè‰°éš¾çš„å­¦æ¸£é˜¶çº§ï¼Œç»©ç‚¹è™½ç„¶æ²¡æƒ¨åˆ°æ¯•ä¸äº†ä¸šï¼Œä½†ç¦»ä¿ç ”çš„åº•çº¿è¿˜æ˜¯å·®äº†ä¸€äº›ï¼Œç¾Žå…¶åä¸ºä¸å–œæ¬¢å®žéªŒå®¤åšç ”ç©¶ï¼Œå‡†å¤‡è½è‰å·¥ä¸šç•Œå å±±ä¸ºçŽ‹ã€‚4æœˆè¾¹åšæ¯•è®¾è¾¹å®žä¹ ï¼Œå†™ä¸‹ç¬¬ä¸€è¡Œjsä»£ç ï¼Œæ¯•ä¸šåŽè½¬æ­£ï¼Œå±¥åŽ†ä¸Šå¤šäº†ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆçš„titleã€‚ä½œä¸ºä¸€åªå¯¹åŠ›é‡ä¸€æ— æ‰€çŸ¥çš„å°ç»µç¾Šï¼Œå¾ˆå¹¸è¿çš„ä¸€ç‚¹æ˜¯ç¢°ä¸Šäº†ä¸€ä¸ªtrust youngçš„å›¢é˜Ÿã€‚ä¸€å¼€å§‹ä»€ä¹ˆéƒ½ä¸ä¼šå†™çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä»€ä¹ˆéƒ½å¯ä»¥å†™çš„æ—¶å€™ï¼Œæ­£å¥½åˆ›ä¸šå…¬å¸åˆç¼ºäººï¼Œå‡ ä¸ªæœˆä¸‹æ¥ï¼Œå‰ç«¯ã€åŽå°ã€æ•°æ®ç»„ç”šè‡³è¿ç»´å¤§å“¥éƒ½æˆäº†å¯ä»¥ä¸€èµ·å¹²æ´»çš„å°ä¼™ä¼´ã€‚é‚£ä¸ªæ—¶å€™è®¤è¯†äº†ä¸ªåŽ‰å®³çš„è¯å«å…¨æ ˆï¼ŒåŽæ¥çŸ¥é“æˆ‘ä»¬çš„åœˆå­å¤ªå°ï¼Œæˆ‘çš„çœ¼å…‰å¤ªçª„ï¼Œæˆ‘ä»¥ä¸ºçš„å…¨æ ˆä¸ŽçœŸæ­£çš„å…¨æ ˆç›¸åŽ»ç”šè¿œã€‚&emsp;&emsp;å¤§å­¦çš„æ—¶å€™å¯¹ä»€ä¹ˆéƒ½ä¸æ„Ÿå…´è¶£ï¼Œå·¥ä½œä»¥åŽå´å¥½åƒå¯¹ä»€ä¹ˆéƒ½æ„Ÿå…´è¶£ï¼Œç„¶è€Œäº‹å®žæˆ‘å¿ƒçŸ¥è‚šæ˜Žï¼Œæˆ‘åªæ˜¯ä¸çŸ¥é“è¯¥å¹²ä»€ä¹ˆè€Œå·²ã€‚&emsp;&emsp;2017å¹´1æœˆ1æ—¥ï¼Œæˆ‘å¿ƒé‡Œæ²¡æœ‰ç­”æ¡ˆã€‚æ¥æ­å‰&emsp;&emsp;æ˜¥èŠ‚å‰ï¼Œleaderçº¦è°ˆç»©æ•ˆï¼Œç¬¬ä¸€æ¬¡æœ‰äººæ‰¾æˆ‘èŠæ–¹å‘ã€‚&emsp;&emsp;leaderæé†’æˆ‘ï¼Œæˆ‘åœ¨åšçš„äº‹æƒ…æœ‰ç‚¹æ‚äº†ã€‚æˆ‘æ˜Žç™½ä»–çš„å¥½æ„ï¼ˆleaderäººå¾ˆå¥½ï¼Œéžå¸¸åº†å¹¸èƒ½åœ¨ç¬¬ä¸€ä»½å·¥ä½œé‡ä¸Šä»–è¿™æ ·çš„é¢†è·¯äººï¼‰ï¼Œæˆ‘è®°å¾—å½“æ—¶ç»™ä»–çš„å›žç­”æ˜¯æŽ¥ä¸‹æ¥ä¼šæ·±å…¥å‰ç«¯ã€‚æˆ‘ç¡®å®žæ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œåªæ˜¯å¿ƒé‡Œè¿˜æŠ±ç€ä¸€ä¸ªç–‘é—®æ²¡æœ‰å’Œä»»ä½•äººæèµ·ï¼šæˆ‘ä¸ºä»€ä¹ˆè¦é€‰æ‹©å†™ä»£ç ï¼Ÿ&emsp;&emsp;å¤§å­¦è®¡ç®—æœºä¸“ä¸šï¼Œçœ‹èµ·æ¥å†™ä»£ç åˆæƒ…åˆç†ï¼Œä½†å®žé™…ä¸Šä»»ä½•æ—¶å€™é€‰æ‹©éƒ½æœ‰å¾ˆå¤šï¼Œåªæ˜¯çœ‹è‡ªå·±æ„¿ä¸æ„¿æ„ã€‚æˆ‘çš„ä¸æ„¿æ„æ˜¯å› ä¸ºå®³æ€•å’Œå¯¹è‡ªå·±çš„ä¸äº†è§£ï¼Œå®³æ€•å¤±è´¥ï¼Œå®³æ€•è®©å®¶äººå¤±æœ›ï¼Œä¸äº†è§£è‡ªå·±çš„å…´è¶£ã€é•¿å¤„å’Œèƒ½åŠ›å¼ºå¼±ã€‚è¿™äº›æ˜¯å¤§å­¦é‡Œä¸éœ€è¦æ€è€ƒçš„é—®é¢˜ï¼Œæ‡’äº†å‡ å¹´çš„æˆ‘åœ¨çŒä¸åŠé˜²çš„æ¯•ä¸šåˆ°æ¥æ—¶æ²¡æœ‰å‹‡æ°”åšå‡ºåˆ«çš„é€‰æ‹©ã€‚&emsp;&emsp;å®Œæˆç¬¬ä¸€ä¸ªéœ€æ±‚ä»¥åŽï¼Œäº‹æƒ…å¼€å§‹å˜å¾—ä¸å¤ªä¸€æ ·äº†ã€‚&emsp;&emsp;éœ€æ±‚æœ¬èº«å¯èƒ½å¾ˆç®€å•ï¼Œä½†åœ¨å¼€å‘è€…çœ¼é‡Œï¼Œçœ‹åˆ°çš„å¯èƒ½æ˜¯å¤æ‚çš„é€»è¾‘ã€æ— å¥ˆçš„å®žçŽ°ï¼Œç”šè‡³æ˜¯éšè—çš„bugã€‚æˆ‘ä»¬ä¹Ÿè®¸ä¸å…³å¿ƒä¸€è¡Œä»£ç å¯¹åº”å“ªäº›æŒ‡ä»¤ï¼Œæ“ä½œå“ªå‡ ä¸ªå¯„å­˜å™¨ï¼Œç»åŽ†å¤šå°‘æ—¶é’Ÿå‘¨æœŸï¼Œä½†æˆ‘ä»¬ä¸èƒ½é—å¿˜è¿™è¡Œä»£ç é•¿é€”è·‹æ¶‰ï¼ŒåŽ†ç»åƒå±±ä¸‡æ°´æœ€ç»ˆä¸ºæˆ‘ä»¬å®žçŽ°åŠŸèƒ½çš„è‰°è¾›å’Œæ‰§ç€ã€‚ï¼ˆè¯»åˆ°è¿™é‡Œæ„Ÿè§‰ä¸é€‚è¯·å¿«è¿›ã€‚ã€‚ã€‚ï¼‰è¿™äº›éƒ½æ˜¯å±žäºŽå¼€å‘è€…çš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯æˆ‘åœ¨å·¥ä½œæœ€åˆçš„ä¸€æ®µæ—¶é—´å†…æ„Ÿåˆ°å……å®žçš„åŽŸå› ã€‚çº¯æ´å¦‚ç™½çº¸çš„æˆ‘ä¸ºäº†å®žçŽ°ç¬¬ä¸€ä¸ªéœ€æ±‚å¼€å¯äº†è®¡ç®—æœºäººçš„è‡ªå­¦æ¨¡å¼ï¼Œå‘çŽ°ä»Žä¸ä¼šåˆ°æƒ³åŠžæ³•è§£å†³çš„è¿‡ç¨‹ä¸­è‡ªå·±å¼‚å¸¸çš„ä¸“æ³¨ï¼Œä¸ç®¡é—®é¢˜æœ‰æ²¡æœ‰è§£å†³ï¼Œè‡³å°‘æ„Ÿè§‰æ—¶é—´æ²¡æœ‰è™šåº¦ã€‚&emsp;&emsp;è¿™ç§å……å®žåœ¨åŽæ¥å‡ ä¸ªæœˆå´æ¸æ¸æ¶ˆå¤±äº†ï¼Œå› ä¸ºç†Ÿæ‚‰äº†ä»¥åŽå¼€å§‹åšé‡å¤çš„å·¥ä½œï¼Œè€Œä¸”å› ä¸ºé‡å¤§ï¼Œè¿™æ ·çš„å·¥ä½œå æ®äº†ä¸€å¤©ç»å¤§å¤šæ•°æ—¶é—´ã€‚ä¸ä»…æ²¡æœ‰æŒ‘æˆ˜ï¼Œä¸éœ€è¦å­¦ä¹ ï¼Œè€Œä¸”æ²¡æœ‰å¤šå°‘æ—¶é—´å‰©ä½™åŽ»å­¦è‡ªå·±æƒ³å­¦çš„ï¼Œå†™è‡ªå·±çš„ä»£ç ã€‚ï¼ˆæ‰€ä»¥ä¸ªäººè§‰å¾—å¯¹äºŽç¨‹åºå‘˜æ¥è¯´ä¸€ä»½å¥½çš„å·¥ä½œè¦ä¹ˆåº”è¯¥æ˜¯å……æ»¡æŒ‘æˆ˜çš„ï¼Œè¦ä¹ˆæ˜¯èƒ½è®©ä½ æœ‰å¯Œä½™æ—¶é—´åšè‡ªå·±çš„ï¼‰&emsp;&emsp;æ˜¥èŠ‚è¿‡åŽï¼Œå…¬å¸çªç„¶æ…¢äº†ä¸‹æ¥ï¼Œå·¥ä½œå¤–çš„æ—¶é—´å˜å¤šäº†ï¼Œå°±åˆå¼€å§‹åšäº›æœ‰è¶£çš„äº‹æƒ…äº†ã€‚&emsp;&emsp;æ²¡è®°é”™çš„è¯é‚£æ—¶å€™åœ¨å’Œå¾®ä¿¡æ‰“äº¤é“ï¼Œå°ç¨‹åºå•Šå…¬ä¼—å·å•Šï¼Œè§‰å¾—æŒºæ–°å¥‡çš„ã€‚ï¼ˆå½“åˆè‡ªä½œä¸»å¼ ç»™å…¬å¸çš„å…¬ä¼—å·æŽ¥äº†ä¸ªç¬¬ä¸‰æ–¹çš„èŠå¤©æœºå™¨äººï¼Œè‡³ä»Šå¥½åƒè¿˜æ²¡è¢«å¤§ä½¬ä»¬å‘çŽ°â€¦ï¼‰ç¨‹åºå‘˜çš„ä¸–ç•Œæ˜¯è¿™æ ·çš„ï¼Œä¸€ä¸ªé—®é¢˜æŠ›å‡ºæ¥ï¼Œå¯èƒ½ä¼šå˜æˆä¸€å¼ ç½‘ï¼Œæƒ³è¦å½»åº•å¼„æ¸…æ¥šä¸€ä»¶äº‹æƒ…ï¼Œä½ ä¼šå‘çŽ°ä½ çš„é—®é¢˜è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥éœ€è¦ä¸æ–­åœ°å…¨é¢åœ°åŽ»å­¦ä¹ ç†è§£ã€‚è¿™æ˜¯æˆ‘è§‰å¾—å¾ˆæœ‰æ„æ€ï¼Œä¹Ÿå¾ˆæƒ³åšçš„äº‹æƒ…ï¼Œæˆ‘ç†è§£çš„æ˜¯è¦å½¢æˆä¸€ä¸ªå®Œæ•´çš„çŸ¥è¯†ä½“ç³»éœ€è¦æŒç»­çš„ä¸æ‡ˆçš„å­¦ä¹ ï¼Œä»Žå…´è¶£ç‚¹å‡ºå‘åŽ»å¾€å¤–ä¸€ç‚¹ç‚¹æ‹“å±•è€Œä¸æ˜¯åˆ»æ„åŽ»æŒ‰éƒ¨å°±ç­å­¦ï¼Œä¼šæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚&emsp;&emsp;3æœˆçš„æ—¶å€™ï¼Œå…¬å¸ä¸šç»©è¢«è¨å¾·å½±å“å´æ˜¾å¾—å¼‚å¸¸å¹³é™ï¼Œè€Œæˆ‘åˆ™æŽ¥äº†ä¸ªæ•´ç«™é‡æž„çš„éœ€æ±‚ï¼Œå’ŒåŽå°å¤§å…„å¼Ÿä¸¤äººååœ¨ä¸€å—ï¼Œèµ·æ—©è´ªé»‘æ’¸èµ·è¢–å­å¹²å¾—ä¸äº¦ä¹ä¹Žã€‚å¯èƒ½é‡æž„çš„æ—¶å€™å¤ªæŠ•å…¥äº†ï¼Œå¹¶æ²¡æœ‰è§‰å¾—å…¬å¸ä¼šå€’ä¸‹ã€‚ã€‚ã€‚&emsp;&emsp;4æœˆï¼Œæš´é£Žé›¨è¢­æ¥ï¼Œå…¬å¸å¼€å§‹å¤§è§„æ¨¡è£å‘˜ï¼Œä»ŽCTOåˆ°æ™®é€šå‘˜å·¥æŽ¥è¿žå‡ºèµ°ã€‚å…¶å®žå†³å®šç¦»å¼€çš„æ—¶å€™è¿˜æ˜¯æœ‰äº›ä¸èˆçš„ï¼Œæ¯•ç«Ÿæ˜¯æ¯•ä¸šåŽç¬¬ä¸€ä»½å·¥ä½œï¼Œé‡ä¸Šçš„ç¬¬ä¸€æ‰¹å…±äº‹çš„å¯çˆ±çš„äººä»¬ï¼Œä¸€ä¸ªè¿˜ä¸é”™çš„å·¥ä½œæ°›å›´ã€‚&emsp;&emsp;ç¦»èŒå‰çš„ä¸€ä¸ªæœˆï¼Œå¤„äºŽæ”¾å…»çŠ¶æ€çš„æˆ‘å¼€å§‹æ‰‹æ’¸åšå®¢ï¼Œç”¨çš„æ­£æ˜¯ä¸ºå…¬å¸å®˜ç½‘é‡æž„æ—¶å­¦ä¹ çš„nuxtæ¡†æž¶ã€‚ä½œä¸ºä¸€åæ¸£æ¸£å‰ç«¯æ–°äººï¼Œé ç€åƒå¤§å­¦ä»…æœ‰çš„ä¸€ç‚¹è€æœ¬å®Œæˆå¼€å‘ã€éƒ¨ç½²ï¼Œæžäº†ä¸ªè‡ªå·±çš„æœåŠ¡å™¨ï¼Œè‡ªå·±çš„åšå®¢ç«™ã€‚å“‡ï¼Œå½“æ—¶çœŸæ˜¯å¼€å¿ƒå¾—ä¸è¡Œï¼Œä¸‰å¤©ä¸¤å¤´çœ‹é˜¿é‡Œäº‘æœåŠ¡å™¨è®¿é—®æ—¥å¿—ï¼Œç»“æžœå¯æƒ³è€ŒçŸ¥ï¼Œåªæœ‰æˆ‘è‡ªå·±ã€‚æŠŠè¿™ä¸ªä¸œè¥¿å‹‰å¼ºç§°ä¸ºä½œå“çš„è¯ï¼Œè™½ç„¶éžå¸¸å¸Œæœ›æœ‰äººè®¤å¯ï¼Œä½†æ›´é‡è¦çš„è¿˜æ˜¯ä½œå“å®žçŽ°çš„è¿‡ç¨‹ä¸­åšå‡ºçš„åŠªåŠ›å’Œå­¦åˆ°çš„ä¸œè¥¿ã€‚&emsp;&emsp;ç”Ÿæ´»çš„ç†æƒ³æ˜¯ä¸ºäº†ç†æƒ³çš„ç”Ÿæ´»ï¼Œå¯¹äºŽäººç”Ÿç»åŽ†å°šæµ…çš„æˆ‘æ¥è¯´ï¼Œè¿™æ˜¯ç›®å‰æœ€èƒ½æŽ¥å—çš„ä¸€å¥è¯äº†ã€‚å·¥ä½œè®©æˆ‘è¡£é£Ÿæ— å¿§ï¼Œç¢°å·§ç¨‹åºå‘˜çš„ä¸–ç•Œé‡Œåˆä¸ç¼ºæŒ‘æˆ˜ï¼Œè¿™äº›æŒ‘æˆ˜è®©æˆ‘çš„ä¸€å¹´ä¸æ˜¯1*365å¤©çš„é‡å¤ï¼Œè€Œæ˜¯æ¯å¤©éƒ½èƒ½é€šè¿‡å­¦ä¹ è€Œæ”¶èŽ·ï¼Œè¿›è€Œä¸°å¯Œè‡ªå·±çš„è®¤çŸ¥ã€‚å­¦ä¹ ä¸­é‡è¦çš„ä¸æ˜¯ä»…ä»…å‡ ä¸ªæ¡†æž¶ã€å‡ é—¨è¯­è¨€ï¼Œè€Œæ˜¯å®žçŽ°ç›®æ ‡çš„æ€ç»´æ–¹å¼å’Œé€»è¾‘è¿‡ç¨‹ï¼Œèƒ½å¤Ÿæ”¶èŽ·è¿™äº›ï¼Œå¤§æ¦‚å°±æ˜¯æˆ‘çŽ°é˜¶æ®µç†æƒ³çš„ç”Ÿæ´»äº†ã€‚é¦™æ³¢åœ°&emsp;&emsp;6æœˆè½¬ç§»é˜µåœ°æ¥æ­å·žï¼ŒåŠ å…¥ç‚¹æˆ‘è¾¾å¤§å®¶åº­ã€‚&emsp;&emsp;å¼€å§‹çš„å‡ å¤©æ„Ÿè§‰åƒæ˜¯ä¹¡ä¸‹å­©å­è¿›åŸŽï¼Œçœ¼å‰çœ‹åˆ°çš„éƒ½æ˜¯æ–°å¥‡æœ‰è¶£çš„äº‹æƒ…ï¼Œæ‰å‘çŽ°è‡ªå·±çš„æ± å­æœ‰å¤šæµ…ï¼Œä»¥è‡³äºŽä¸€æ—¶æ²‰è¿·å­¦ä¹ æ— æ³•è‡ªæ‹”ã€‚ç¢—é‡Œæ°´å°‘çš„ä¸€ä¸ªå¥½å¤„åœ¨äºŽèƒ½å¤šè£…ï¼Œå­¦ä¹ react/redux/dubboè¿™äº›ä¸œè¥¿çš„è¿‡ç¨‹æ¯”æˆ‘æƒ³è±¡å¾—è¦é¡ºåˆ©äº›ã€‚çœ‹é¡¹ç›®çš„æ—¶å€™å‘çŽ°å¾ˆå¤šä»¥å‰æ ¹æœ¬ä¸çŸ¥é“çš„ä¸œè¥¿ï¼Œçž¬é—´è§‰å¾—è‡ªå·±æ€Žä¹ˆè¿™ä¹ˆèœï¼Œå‰ç«¯çš„æ°´æ¯”è‡ªå·±æƒ³å¾—æ·±å¤ªå¤šå¤ªå¤šäº†ã€‚&emsp;&emsp;æ–°æ‰‹ä¿æŠ¤ç»“æŸåŽï¼Œæèµ·é”®ç›˜å°±æ˜¯å¹²ã€‚ä»Žå°éœ€æ±‚å¼€å§‹ç†Ÿæ‚‰é¡¹ç›®ï¼Œä¸»è¦æ˜¯æ–°è€é¹°çœ¼ï¼Œå…¶å®žè¿™ä¸¤ä¸ªé¡¹ç›®æœ¬è´¨ä¸Šè¿˜æ˜¯å¾ˆæŽ¥è¿‘çš„ï¼Œreactä½œä¸ºviewå±‚çš„å®žçŽ°ï¼ŒåŸºäºŽfluxæ€æƒ³çš„æ•°æ®æµåŠ¨åˆ†åˆ«ç”±refluxå’Œreduxæ¥å®žçŽ°ã€‚cs = æ•°æ®ç»“æž„ + ç®—æ³•ï¼Œå°±åšéœ€æ±‚è€Œè¨€ï¼Œæˆ‘éœ€è¦ç”¨åˆ°å¤æ‚ç®—æ³•çš„æœºä¼šå¾ˆå°‘ï¼Œæ‰€ä»¥äº†è§£äº†æ•°æ®ç»“æž„å’Œæ•°æ®æ•´ä¸ªæµå‘å…¶å®žå¼€å‘é—®é¢˜å°±ä¸å¤§äº†ã€‚&emsp;&emsp;å‰ä¸¤ä¸ªæœˆåŸºæœ¬ä¸Šéƒ½æ˜¯è¿™æ ·ï¼Œæ„Ÿè§‰éƒ½æ˜¯ä¸€ä¸ªå¥—è·¯ï¼Œéœ€æ±‚å®Œæˆå¾—æŒºå¿«ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå¤šä½™å¾ˆå¤šæ—¶é—´èŠ±åœ¨äº†è‡ªå·±çœ‹ä¹¦å­¦ä¹ ä¸Šã€‚ç„¶åŽé—®é¢˜å‡ºçŽ°äº†ï¼Œç®€å•çš„éœ€æ±‚ç¡®å®žå¯ä»¥åœ¨çŸ¥ä¹‹ä¸è¯¦çš„æƒ…å†µä¸‹å¿«é€Ÿå¼€å‘ï¼Œä½†ç¢°åˆ°ç»†èŠ‚é—®é¢˜çš„æ—¶å€™å‡­ç€åŠåŠå­çš„æ°´å¹³å°±æ˜¾å¾—æ‰è¥Ÿè§è‚˜äº†ã€‚åªçœ‹åˆ°å¤§æ¦‚å°±ä»¥ä¸ºç†è§£äº†ï¼Œå®žé™…ä¸Šæ ¸å¿ƒçš„å®žçŽ°ä»¥åŠéšè—çš„é—®é¢˜éƒ½éœ€è¦èŠ±æ—¶é—´å•ƒé€ï¼ŒäºŽæ˜¯å¼€å§‹åœ¨å¡ä½çš„åœ°æ–¹å°è¯•æ·±æŒ–ï¼Œçœ‹çœ‹æºç ï¼Œå„ç§æŸ¥èµ„æ–™ã€‚è¸©å‘å­¦ä¹ ä¹‹æ—…é€šå¸¸éƒ½æ˜¯ç—›å¹¶å¿«ä¹ç€çš„ã€‚&emsp;&emsp;8æœˆä»¥åŽæ¯å¤©å¼€å§‹å†™å°ç¬”è®°ï¼Œquiverä¸Šç®€å•è®°ä¸€è®°ï¼Œæœ‰é¡¹ç›®æ—¶é—´å®‰æŽ’ï¼Œæœ‰å­¦åˆ°çš„ä¸œè¥¿ï¼Œä¹Ÿæœ‰æœªæ¥å‡ å¤©çš„è®¡åˆ’ã€‚å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œæˆ‘çš„ç†è§£æ˜¯è®°ä¸‹æ¥çš„å¥½å¤„æ›´å¤šçš„ä¸æ˜¯åœ¨äºŽä»¥åŽèƒ½ç¿»å‡ºæ¥çœ‹ï¼ˆæˆ‘å†™çš„ç¬”è®°å¥½åƒåŸºæœ¬æ²¡çœ‹è¿‡ï¼‰ï¼Œè€Œåœ¨äºŽå»¶é•¿äº†å­¦ä¹ çš„æ—¶é—´ï¼ŒåŠ¨ç¬”çš„æ—¶å€™ä¼šæ›´æ·±å…¥åœ°åŽ»æ€è€ƒè¿™äº›å†…å®¹ï¼Œæ˜¯ä¸æ˜¯æœ‰æ›´æ·±çš„åœ°æ–¹å¯ä»¥æŒ–æŽ˜ã€‚é¡¹ç›®å’Œè®¡åˆ’å†™ä¸‹æ¥çš„å¥½å¤„æ˜¯æ¯å¤©éƒ½æœ‰äº†æ—¶é—´è§„åˆ’ï¼Œä¸ä¼šå› ä¸ºæ— èŠè€Œè¢«è¿«åŽ»æ€è€ƒå®‡å®™å’Œäººç”Ÿï¼Œæœ‰æ•ˆåœ°ä¿æŠ¤äº†å‘é™…çº¿ã€‚&emsp;&emsp;è§£å†³äº†æŠ€æœ¯ä¸Šçš„é—®é¢˜ä»¥åŽï¼Œç¢°åˆ°çš„æ˜¯ä¸€äº›æµç¨‹ä¸Šçš„å‘ã€‚å¯ä»¥æ„Ÿè§‰åˆ°çš„æ˜¯æˆ‘å¸å…¶å®žä¸€å¼€å§‹åœ¨é¡¹ç›®å¼€å‘æµç¨‹ä¸Šä¹Ÿæ˜¯ä¸å¤ªåˆç†çš„ï¼Œå‡ ä¸ªæœˆè°ƒæ•´ä¸‹æ¥ï¼Œè™½ç„¶è¿˜æœ‰äº›é—®é¢˜ï¼Œä½†åº”è¯¥æ˜¯æ¯”è¾ƒç¨³å®šè§„èŒƒäº†ã€‚è¿™ä¸ªè¿‡ç¨‹å¯¹æˆ‘æ¥è¯´ä¹Ÿä¿ƒæˆäº†ä¸€ç§è½¬å˜ï¼Œä¸Šä¸€å®¶çš„æ—¶å€™ï¼Œé¡¹ç›®æ—¶é—´ç›¸å¯¹è‡ªç”±ï¼Œå³ä¾¿æœ‰çš„æ—¶å€™å¼€å‘æ—¶é—´é™å®šæ­»äº†ï¼Œè¿˜æ˜¯å¯ä»¥å…è®¸å¸¦bugææµ‹ã€‚ä¸Šçº¿ä¹Ÿæ˜¯ä¸€æ ·ï¼Œé™¤äº†appå¤–æ²¡æœ‰ä¸¥æ ¼é™åˆ¶æ—¶é—´ï¼Œæœ‰é—®é¢˜å¯èƒ½ä¸´æ—¶ä¿®å¤ï¼Œé©¬ä¸Šå°±å‘æŽ‰äº†ã€‚å¯ä»¥è¯´å¯¹å¼€å‘çš„è´¨é‡è¦æ±‚å¹¶ä¸é«˜ã€‚ã€‚ã€‚è¿‘æœŸæˆ‘å¸çš„å‘å¸ƒçª—å£å’Œæ•…éšœç³»ç»Ÿå¯ä»¥è¯´å¾ˆä¸¥æ ¼äº†ï¼Œè™½ç„¶å¸¦æ¥äº†ä¸€äº›éº»çƒ¦ï¼Œä½†ç¡®å®žèƒ½å¤Ÿæé«˜æˆ‘ä»¬å¯¹è‡ªå·±çš„è¦æ±‚ã€‚&emsp;&emsp;è¯´åˆ°è¿™é‡Œå¿…é¡»å…ˆæ£€è®¨ä¸‹è¿‘æœŸçš„å‡ ä¸ªéœ€æ±‚ï¼Œå¥½å‡ ä¸ªéƒ½æ˜¯ä¸€çœ¼å°±èƒ½å¤Ÿå‘çŽ°çš„é—®é¢˜å´ç¡¬ç”Ÿç”Ÿè¢«å¿½ç•¥æŽ‰ï¼Œä¸Šçº¿æ‰å†’å‡ºå¤´ï¼Œå‘½å¤§æ²¡ç®—æ•…éšœï¼Œå´æ˜¯æ•²äº†å¥½å‡ é“è­¦é’Ÿã€‚ä¸»è¦è¿˜æ˜¯è‡ªå·±ä¸å¤Ÿå°å¿ƒï¼Œä¸€ç›´å¾ˆä¸å–œæ¬¢åŽ»reviewè‡ªå·±çš„ä»£ç ï¼Œå› ä¸ºè¦æ˜¯åŽ»çœ‹çš„è¯å¤§æ¦‚çŽ‡ä¼šæƒ³æŽ¨å€’é‡æ¥ã€‚ä¸€æ–¹é¢è¿˜æ˜¯è¦å†™ä»£ç çš„æ—¶å€™å¤šæƒ³æƒ³å¯èƒ½çš„é—®é¢˜ï¼Œä¸€æ–¹é¢è‡ªæµ‹çš„æ—¶å€™è¦ä¸Šå¿ƒç‚¹ï¼Œè‡³å°‘è·‘ä¸€éæµ‹è¯•ç”¨ä¾‹ï¼Œä¿è¯ä»£ç è´¨é‡ã€‚&emsp;&emsp;è¿‘ä¸¤ä¸ªæœˆçš„è¯å…¶å®žå·¥ä½œä¸Šè¿˜æ˜¯ç…§æ—§ï¼Œåªæ˜¯éœ€æ±‚ä¸€ä¸ªä¸ªåšä¸‹æ¥ï¼Œå¯¹éœ€æ±‚ç†è§£æ›´åˆ°ä½äº†ï¼Œå’ŒæœåŠ¡å¯¹æŽ¥æ—¶çš„æˆæœ¬æ›´ä½Žäº†ï¼Œå¼€å‘è¿‡ç¨‹ä¸­è¦å¼€çš„ä¼šå¤šäº†ã€‚å¿™é‡Œå·é—²åˆæžäº†ä¸ªåšå®¢ï¼ŒæŠŠä¹‹å‰æ‰‹æ’¸çš„é‚£ä¸ªå¹²æŽ‰äº†ï¼Œä¸çŸ¥é“è¿™æ¬¡è¿™ä¸ªåšå®¢èƒ½æ´»å¤šä¹…ã€‚&emsp;&emsp;å¦ç™½è¯´ï¼Œæˆ‘ä¸ªäººæ˜¯å±žäºŽé‚£ç§å¾ˆéš¾æ‰¾åˆ°å½’å±žæ„Ÿçš„äººã€‚ã€‚ã€‚ä¸€ä¸ªäººã€ä¸€ç¾¤äººï¼Œç›¸å¤„ä¹…äº†ï¼Œæ„Ÿæƒ…éƒ½ä¼šè‡ªç„¶æ²‰æ·€ï¼Œä½†æ˜¯æˆ‘ä¸èƒ½æŠŠè¿™ç§æ„Ÿæƒ…ç†è§£ä¸ºå›¢é˜Ÿå½’å±žæ„Ÿã€‚æˆ‘å¯ä»¥è¯´å¾ˆå–œæ¬¢å¤§å®¶ï¼Œæ˜¯å› ä¸ºå’Œå¤§å®¶åœ¨ä¸€èµ·å·¥ä½œå¾ˆèˆ’æœï¼Œä¸€èµ·åƒé¥­èŠå¤©çŽ©è€å¾ˆå¼€å¿ƒã€‚ä»¥äººä¸ºé•œæˆ‘å­¦åˆ°äº†å¾ˆå¤šï¼Œä¸Žäººä¸ºä¼´ä½¿æˆ‘æ„Ÿåˆ°æ¸©æš–ï¼Œä¹Ÿä¸°å¯Œäº†æˆ‘çš„ç”Ÿæ´»ï¼Œä¸ºæ­¤æˆ‘å¿ƒå­˜æ„Ÿæ¿€ã€‚ä½†æ˜¯è¿™æ ·çš„å¿ƒæƒ…å¹¶ä¸æ˜¯åªå¯¹å›¢é˜Ÿä¸­çš„å¤§å®¶æ‰æœ‰çš„ï¼Œè™½ç„¶å¾ˆé—æ†¾ï¼Œä½†æˆ‘ç¡®å®žè¿˜æ‰¾ä¸åˆ°å½’å±žæ„Ÿã€‚ç”Ÿæ´»&emsp;&emsp;è¿˜æ˜¯æš‚æ—¶ä¸èŠäº†ã€‚ä¸€è¨€ä»¥è”½ä¹‹&emsp;&emsp;è¯´æ˜¯å¹´åº¦æ€»ç»“ï¼Œå…¶å®žä¹Ÿæ²¡æ€Žä¹ˆå†™å…·ä½“çš„å·¥ä½œå’Œæ”¶èŽ·å†…å®¹ï¼Œä¸æ˜¯ä¸æ„¿ï¼Œè€Œæ˜¯è§‰å¾—è¿™äº›æ‰æ˜¯æˆ‘æƒ³å†™ä¸‹æ¥çš„ï¼Œä»¥åŽå¯èƒ½ä¼šç¿»ä¸€ç¿»çš„å†…å®¹ã€‚ï¼ˆå¦‚æžœéœ€è¦å…·ä½“å·¥ä½œå†…å®¹æ€»ç»“å¤§ä½¬å¯ä»¥ç§èŠä¸‹ï¼Œå›žå¤´æˆ‘è¡¥ä¸€ä»½ã€‚ã€‚ã€‚ï¼‰å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›åœ¨ä»¥åŽçš„æŸä¸€å¤©èƒ½å¤Ÿå¸®å¿™å›žå¿†èµ·è¿™ä¸€å¹´çš„å¿ƒä¸­æ‰€æƒ³ï¼Œæ˜¯å¦å’Œæ›¾ç»çš„è‡ªå·±å·²ç»å¤§ä¸ä¸€æ ·ï¼Œç”Ÿæ´»æ˜¯å¦å¦‚é‚£å¹´æœŸè®¸ï¼Ÿ2018.1.1&emsp;&emsp;è¶Šæ˜¯å­¦ä¹ ï¼Œè¶Šè§‰å¾—è‡ªå·±åŠŸåŠ›æµ…è–„ï¼Œå¥½åœ¨ä»Šå¤©çš„ç›®æ ‡å’Œ6æœˆå®šä¸‹çš„ç›¸å·®æ— äºŒã€‚&emsp;&emsp;å‰è·¯æ¼«æ¼«ï¼ŒæƒŸæ„¿æ—¥æ‹±ä¸€å’ã€‚]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>thinking</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mvx ä»Žtodo mvcè¯´èµ·]]></title>
    <url>%2Fposts%2Fc4697232%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;åœ¨gitä¸Šçœ‹åˆ°ä¸€ä¸ªto do mvcçš„repoï¼Œä¸€æ—¶æœ‰äº†å…´è‡´ï¼Œè®°å½•ä¸‹ä¸€äº›ç‚¹ã€‚åŽ†å²é™æ€/å±•ç¤º-&gt;åŠ¨æ€/äº¤äº’web1.0æ—¶ä»£ï¼ŒæœåŠ¡ç«¯ç›´æŽ¥å°†æ•°æ®å¡«å……è¿›æ¨¡æ¿ï¼Œç”ŸæˆHtmlè¿”å›žç»™æµè§ˆå™¨ï¼Œé™æ€ç½‘é¡µï¼Œçº¯å±•ç¤ºweb2.0æ—¶ä»£ï¼ŒåŠ¨æ€ç½‘é¡µï¼Œå‰ç«¯å‘æœåŠ¡ç«¯è¯·æ±‚æ•°æ®ï¼Œç„¶åŽè‡ªå·±å¤„ç†æ•°æ®ï¼Œæä¾›äº†ç”¨æˆ·å’Œæµè§ˆå™¨çš„äº¤äº’å‰ç«¯mv*çš„å¿…è¦æ€§å‰ç«¯è¿›å…¥åˆ°éœ€è¦ä¿å­˜æ•°æ®ã€å¤„ç†æ•°æ®å’Œç”Ÿæˆè§†å›¾çš„web2.0æ—¶ä»£webappçš„æ¦‚å¿µï¼Œwebä¸å†æ˜¯é¡µé¢çº§ï¼Œè€Œæ˜¯applicationçº§åˆ«ï¼Œæ‰€ä»¥éœ€è¦æ€è€ƒåº”ç”¨çš„ç®¡ç†ï¼Œæ•°æ®çš„æµå‘ç­‰todo mv*å…¶å®žå·®åˆ«å°±å‰ç«¯å¦‚ä½•ç®¡ç†æ•°æ®ï¼Œä»¥åŠæ•°æ®å¦‚ä½•å’Œè§†å›¾è”ç³»èµ·æ¥backboneåªæœ‰Modelå’ŒViewç»“æž„â”œâ”€â”€ index.htmlâ”œâ”€â”€ jsâ”œâ”€â”€ app.js â”œâ”€â”€ collections â”‚ â””â”€â”€ todos.js â”œâ”€â”€ models â”‚ â””â”€â”€ todo.js â”œâ”€â”€ routers â”‚ â””â”€â”€ router.js â””â”€â”€ views â”œâ”€â”€ app-view.js â””â”€â”€ todo-view.js ä»¥æ–°å¢žä¸ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738394041424344// views/app-view.js// ç»‘å®šèŠ‚ç‚¹el: '.todoapp',// å£°æ˜Žäº‹ä»¶events: &#123; 'keypress .new-todo': 'createOnEnter',&#125;// ç”¨æˆ·åœ¨viewå±‚enterï¼Œè°ƒç”¨collectionçš„æ–¹æ³•åˆ›å»ºæ–°çš„todo modelcreateOnEnter: function (e) &#123; if (e.which === ENTER_KEY &amp;&amp; this.$input.val().trim()) &#123; app.todos.create(this.newAttributes()); this.$input.val(''); &#125;&#125;// collections/todos.jsvar Todos = Backbone.Collection.extend(&#123; // Reference to this collection's model. model: app.Todo,&#125;)// models/todo.jsapp.Todo = Backbone.Model.extend(&#123; defaults: &#123; title: '', completed: false &#125;&#125;)// viwes/todo-views.js// ç»‘å®šæ¨¡æ¿template: _.template($('#item-template').html()),// ç›‘å¬modelçš„changeï¼Œæ³¨å†Œå›žè°ƒrenderinitialize: function () &#123; this.listenTo(this.model, 'change', this.render);&#125;// renderæ–¹æ³•ï¼Œå°†modelæ•°æ®å¡«å……render: function () &#123; if (this.model.changed.id !== undefined) &#123; return; &#125; this.$el.html(this.template(this.model.toJSON())); return this;&#125;å®šä¹‰modelå’Œcollectionï¼Œåœ¨viewå±‚é€šè¿‡äº‹ä»¶è§¦å‘modelå±‚è¡Œä¸ºï¼Œæ”¹å˜æ•°æ®åŽï¼Œé€šè¿‡äº‹å…ˆæ³¨å†Œçš„ç›‘å¬modelå˜åŒ–çš„å›žè°ƒå‡½æ•°æ¥æ›´æ–°viewvuemodel, view, modelview (mvvm)ç»“æž„â”œâ”€â”€ index.htmlâ”œâ”€â”€ jsâ”‚ â”œâ”€â”€ app.jsâ”‚ â”œâ”€â”€ routes.jsâ”‚ â””â”€â”€ store.jsæ–°å¢žä¸ºä¾‹1234567891011121314151617181920212223242526// app.js// vueå¯¹è±¡ï¼Œè¿žæŽ¥viewå’Œmodelçš„vmexports.app = new Vue(&#123; // ç»‘å®šèŠ‚ç‚¹ el: '.todoapp', // å®šä¹‰æ•°æ®æ¨¡åž‹ data: &#123; todos: todoStorage.fetch(), newTodo: '', &#125;, // ä¿®æ”¹æ•°æ®æ¨¡åž‹çš„æ–¹æ³• methods: &#123; addTodo: function() &#123; var value = this.newTodo &amp;&amp; this.newTodo.trim(); if (!value) &#123; return; &#125; this.todos.push(&#123; id: this.todos.length + 1, title: value, completed: false &#125;); this.newTodo = ''; &#125; &#125;&#125;)// index.html// v-modalå°†æ•°æ®ï¼ˆvmï¼‰å’ŒèŠ‚ç‚¹ï¼ˆvï¼‰ç»‘å®šï¼Œé€šè¿‡äº‹ä»¶è§¦å‘vueå¯¹è±¡çš„æ–¹æ³•æ”¹å˜æ•°æ®ï¼Œå¹¶é€šè¿‡è§‚å¯Ÿè€…æ¨¡å¼å’Œè‡ªå®šä¹‰çš„è®¿é—®å™¨å®žçŽ°viewçš„æ›´æ–°&lt;input class="new-todo" autofocus autocomplete="off" v-model="newTodo" @keyup.enter="addTodo"&gt;vmå®žé™…ä¸Šæ˜¯ç®€åŒ–çš„controllerï¼Œå°†modelæ•°æ®ç®€å•å¤„ç†ï¼Œä¸ºviewæä¾›æ­£ç¡®çš„æ•°æ®reactreactåªæ˜¯è§†å›¾å±‚è§£å†³æ–¹æ¡ˆï¼Œæœ¬è´¨æ˜¯å°†å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰å‡½æ•°åŒ–ã€‚viewæ˜¯stateçš„è¾“å‡ºï¼Œå¼•è‡ªé˜®ä¸€å³°è€å¸ˆ js view = f(state)ç»„ä»¶state/propsç”¨äºŽæ•°æ®å­˜å‚¨æµè½¬ï¼Œrenderå‡½æ•°è¾“å‡ºviewï¼Œäº‹ä»¶é©±åŠ¨äº§ç”Ÿæ•°æ®å˜åŒ–ï¼ŒsetStateé‡æ–°renderâ€¦ç»“æž„â”œâ”€â”€ index.htmlâ”œâ”€â”€ jsâ”‚ â”œâ”€â”€ app.jsxâ”‚ â”œâ”€â”€ footer.jsxâ”‚ â”œâ”€â”€ todoItem.jsxâ”‚ â”œâ”€â”€ todoModel.jsâ”‚ â””â”€â”€ utils.js1234567891011121314151617181920212223242526272829303132333435363738394041424344// todoModel.js// å®šä¹‰modelï¼Œåœ¨åŽŸåž‹ä¸Šå®šä¹‰ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚å­˜æ•°æ®åˆ°localstorageé‡ŒæŒä¹…åŒ–app.TodoModel = function (key) &#123; this.key = key; this.todos = Utils.store(key); this.onChanges = [];&#125;;// æ³¨å†Œå›žè°ƒè¿›è¡Œè®¢é˜…app.TodoModel.prototype.subscribe = function (onChange) &#123; this.onChanges.push(onChange);&#125;;// è°ƒç”¨informæ—¶é€šçŸ¥å„ä¸ªè®¢é˜…è€…ï¼Œæ‰§è¡Œå›žè°ƒapp.TodoModel.prototype.inform = function () &#123; Utils.store(this.key, this.todos); this.onChanges.forEach(function (cb) &#123; cb(); &#125;);&#125;;// app.jsxvar TodoApp = React.createClass(&#123; // åˆå§‹åŒ–state getInitialState: function () &#123; return &#123; newTodo: '' &#125;; &#125;, // äº‹ä»¶è§¦å‘ï¼ŒsetStateï¼Œé‡æ–°render handleChange: function (e) &#123; this.setState(&#123;newTodo: e.target.value&#125;); &#125;, render: function () &#123; return &lt;div&gt; &lt;input onChange=&#123;this.handleChange&#125; /&gt; &lt;div&gt;&#123;this.state.newTodo&#125;&lt;/div&gt; &lt;/div&gt; &#125;&#125;)var model = new app.TodoModel('react-todos');function render() &#123; React.render( &lt;TodoApp model=&#123;model&#125;/&gt;, document.getElementsByClassName('todoapp')[0] );&#125;model.subscribe(render);render()fluxä¸åŒç»„ä»¶çš„stateæ”¾åœ¨ä¸€ä¸ªå¤–éƒ¨çš„é€šç”¨çš„storeé‡Œæ¯ä¸ªç»„ä»¶è®¢é˜…è¯¥storeçš„ä¸€éƒ¨åˆ†ç»„ä»¶å†…é€šè¿‡dispatchä¸€ä¸ªactionåŽ»è§¦å‘storeçš„æ›´æ–°reduxçŠ¶æ€éƒ½å­˜æ”¾åœ¨storeä¸­ï¼Œç»„ä»¶çš„é‡æ–°æ¸²æŸ“éƒ½ç”±çŠ¶æ€æ”¹å˜æ¥è§¦å‘ç”¨æˆ·é€šè¿‡åœ¨viewå±‚dispatch actionè§¦å‘reducerï¼Œåœ¨reducerä¸­ new = f(old) è®¡ç®—å¾—åˆ°æ–°çš„stateUIç»„ä»¶å’Œå®¹å™¨ç»„ä»¶UIç»„ä»¶è´Ÿè´£é¡µé¢å¤–è§‚å®¹å™¨ç»„ä»¶è´Ÿè´£æ•°æ®å’Œè¡Œä¸ºï¼Œè®¢é˜…storeï¼Œå¤„ç†storeçš„æ•°æ®ç„¶åŽä¼ é€’ç»™UIç»„ä»¶ï¼Œä¾‹å¦‚connectæ–¹æ³•Providerå’Œconnectå‰è€…å°†reactåº”ç”¨åŒ…ä¸€å±‚ï¼Œä½¿å¾—ç»„ä»¶å’Œstoreå¯è¢«è¿žæŽ¥ï¼ŒåŒæ—¶ä¼ å…¥store1234567const store = createStore(reducer);ReactDOM.render( &lt;Provider store=&#123;store&#125;&gt; &lt;App /&gt; &lt;/Provider&gt;, document.body.appendChild(document.createElement('div')));storeç”±reduxå¾—createStoreæ–¹æ³•æä¾›ï¼Œè¯¥æ–¹æ³•æŽ¥æ”¶reducerä½œä¸ºå‚æ•°ï¼Œå®žé™…ä¸Šç›¸å½“äºŽå®šä¹‰äº†action listå¯¹åº”çš„å¤„ç†å¯¹è±¡å’Œæ–¹æ¡ˆconnectå°†UIç»„ä»¶å’Œå®¹å™¨ç»„ä»¶è¿žæŽ¥ï¼Œä½¿å¾—åœ¨æˆ‘ä»¬çš„UI/ä¸šåŠ¡ç»„ä»¶ä¸­èƒ½å¤ŸèŽ·å–åˆ°æœ€åˆå®šä¹‰å¥½çš„storeï¼Œå¹¶åœ¨UIç»„ä»¶ä¸­é€šè¿‡dispatch actionåŽ»å¯¹ä¸Šä¸€æ¡æ‰€è¯´çš„å¤„ç†å¯¹è±¡æ‰§è¡Œå¤„ç†æ–¹æ¡ˆreducer-çº¯å‡½æ•°12345678910111213// æŽ¥æ”¶æ—§çš„stateå’Œactionï¼Œè¿”å›žæ–°çš„statefunction reducer(state = &#123; text: 'ä½ å¥½ï¼Œè®¿é—®è€…', name: 'è®¿é—®è€…'&#125;, action) &#123; switch (action.type) &#123; case 'change': return &#123; name: action.payload, text: 'ä½ å¥½ï¼Œ' + action.payload &#125;; &#125;&#125;å…¸åž‹çš„MV*ï¼Œmodelå¯¹åº”äºŽstoreï¼Œviewå¯¹åº”äºŽä¸šåŠ¡ç»„ä»¶ï¼Œè¿žæŽ¥èµ·æ¥æˆ–è€…è¯´æ•°æ®å¤„ç†äº¤ç”±action reducerå®Œæˆï¼Œé€‚åˆäºŽå¤§åž‹åº”ç”¨ã€‚MobxUI å±‚æ˜¯è§‚å¯Ÿè€…ï¼ŒStore æ˜¯è¢«è§‚å¯Ÿè€…ã€‚ðŸŒ° ä¸‹å›žåˆ†è§£12345678const &#123;observable&#125; = mobx;const &#123;observer&#125; = mobxReact;const person = observable(&#123;name: "å¼ ä¸‰", age: 31&#125;);const App = observer( (&#123; person &#125;) =&gt; &lt;h1&gt;&#123; person.name &#125;&lt;/h1&gt;);ReactDOM.render(&lt;App person=&#123;person&#125; /&gt;, document.body);person.name = "æŽå››";]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>mvx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dz-life æ‘„å½±å°ç¬”è®°]]></title>
    <url>%2Fposts%2F2082e7b0%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;æˆ‘èƒ½æƒ³åˆ°æœ€æµªæ¼«çš„äº‹â€¦ä¹‹ä¸€ï¼Œå°±æ˜¯ç”¨é•œå¤´è®°å½•ä¸‹ä½ æœ€ç¾Žçš„çž¬é—´ã€‚å°å‘†å­¦æ‘„å½±åŸºç¡€ç¯‡æ¦‚å¿µæ›å…‰ä¹Ÿå³æ˜¯è¿›å…‰é‡ï¼Œå¯ä»¥é€šè¿‡å…‰åœˆã€å¿«é—¨å…±åŒæŽ§åˆ¶å¿«é—¨å¿«é—¨æŽ§åˆ¶è¿›å…‰æ—¶é—´ï¼Œé«˜é€Ÿå¿«é—¨ï¼ˆå¦‚1/8000ï¼‰æ‹æ¸…æ™°çž¬é—´ï¼ˆå¦‚çŒŽè±¹æŠ“ðŸ‘ï¼‰ï¼Œä½Žé€Ÿå¿«é—¨æ‹è¿åŠ¨è¿‡ç¨‹ï¼ˆå¦‚ä¸ç»¸çŠ¶æ°´æµï¼ŒåŠ¨äº‘+é™å±±çš„åŠ¨é™ç»“åˆå›¾ï¼‰å…‰åœˆå…‰åœˆæŽ§åˆ¶è¿›å…‰é‡ï¼Œå¤§å…‰åœˆï¼ˆæ•°å€¼å°å¦‚1.2ï¼‰å¯ä»¥é…åˆå¿«é€Ÿå¿«é—¨ï¼Œåœ¨æ›å…‰å‡†ç¡®çš„æƒ…å†µä¸‹é˜²æŠ–å¤§å…‰åœˆçš„æ¸…æ™°èŒƒå›´æ›´å°‘ï¼ˆå°æ™¯æ·±ï¼‰ï¼Œé€ æˆå‰æ™¯æ¸…æ™°ï¼ŒèƒŒæ™¯æ¨¡ç³Šçš„è™šå®žå…³ç³»ï¼Œç”»ä¸ªå›¾å¯ä»¥ç†è§£å•åé•œå¤´ç‰©é•œæ˜¯ä¸€ç»„å‡¸é€é•œï¼Œå˜ç„¦é•œå¤´æ”¯æŒä¸€ä¸ªåŒºé—´çš„ç„¦è·ï¼Œæ¯”å¦‚å°¼åº·18-140ï¼Œå±žäºŽä¸­é•¿ç„¦çš„é•œå¤´ç„¦è·å½±å“çš„æ˜¯ç›®æ ‡ç‰©ä½“å æ®æˆåƒåŒºåŸŸçš„é¢ç§¯æ¯”ä¾‹ï¼Œemmmï¼Œç”»ä¸ªå›¾å¤§æ¦‚å°±æ¸…æ¥šäº†ï¼Œé•¿ç„¦æ‹å¾—è¿™ä¸ªæ¯”ä¾‹æ›´å¤§ï¼Œçœ‹èµ·æ¥å¥½åƒç¦»ç‰©ä½“æ›´è¿‘æœºèº«å…¨ç”»å¹…/åŠç”»å¹…é€šè¿‡ç›¸æœºçš„æ„Ÿå…‰å…ƒä»¶çš„æˆåƒé¢ç§¯åŒºåˆ†ï¼Œç”»ä¸ªå›¾åº”è¯¥èƒ½ç†è§£ï¼Œå…¨ç”»å¹…èƒ½å¤Ÿè¾¾åˆ°æ‹æ‘„èŒƒå›´æ›´å¹¿çš„æ•ˆæžœæ˜¯å¦æ”¯æŒå…¨ç”»å¹…è¦çœ‹æœºèº«ç±»åž‹ç»“æž„å•åçš„ç‰©é•œå…¼èŒå–æ™¯é•œï¼Œåˆ©ç”¨æ¯›çŽ»ç’ƒåå°„å’Œäº”æ£±é•œ/äº”é¢é•œæŠ˜å°„/åå°„ï¼Œå°†å€’ç«‹çš„åƒçŸ«æ­£å®Œæˆå…‰å­¦å–æ™¯æ„Ÿå…‰å…ƒä»¶ç›¸å½“äºŽæ›¾ç»çš„åº•ç‰‡ï¼Œå¿«é—¨æŒ‰ä¸‹ï¼Œæ¯›çŽ»ç’ƒå¼¹èµ·ï¼Œå…‰çº¿å°„åˆ°æ„Ÿå…‰å…ƒä»¶æˆåƒè¿›é˜¶å…‰åœˆä¼˜å…ˆ A/AVå…‰åœˆç›´æŽ¥å½±å“æ™¯æ·±ï¼Œæ‰€ä»¥è¿™ç§æ¨¡å¼é€‚ç”¨å¹¿æ³›ï¼Œæ‹äººæ¯”å¦‚2.8ï¼Œ3.5å¤§å…‰åœˆï¼Œæ‹æ™¯ç‰©ï¼Œä¸ºäº†å‰ä¸­åŽæ™¯éƒ½æ¸…æ™°ï¼Œå¯ä»¥ç”¨8ä»¥ä¸Šå¿«é—¨ä¼˜å…ˆ S/TVå¿«é—¨å¯ä»¥æŽ§åˆ¶ç”»é¢çš„è¿åŠ¨æ•ˆæžœï¼Œçœ‹æ˜¯è¦é«˜é€Ÿçž¬é—´è¿˜æ˜¯ä¸æ»‘è½¨è¿¹1/60 æ‹ä¸åŠ¨çš„äºº 1/400æ‹ä¸ªæ±½è½¦ 1/2æ‹ä¸ç»¸èˆ¬æ°´æµæ›å…‰è¡¥å¿çœ‹æµ‹å…‰æ ‡å°ºï¼Œè®¾ç½®æ›å…‰è¡¥å¿]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>æ‘„å½±</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dubbo-rpc åˆæŽ¢rpc]]></title>
    <url>%2Fposts%2Fc48da636%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;æŠ±ç€å­¦ä¹ ç†è§£dubboçš„å¿ƒæ€ï¼Œä»Žå„æ–¹å¤§ä½¬èº«ä¸Šå–ç»ï¼Œè®°ä¸‹å­¦ä¹ ç¬”è®°ï¼Œæ–¹ä¾¿è‡ªå·±ï¼ŒæœåŠ¡å¿—åŒé“åˆçš„å°ä¼™ä¼´ä»¬ã€‚RPCè¿œç¨‹è¿‡ç¨‹è°ƒç”¨åè®®ï¼ˆRemote Procedure Call Protocolï¼‰speak chinese:&emsp;éƒ¨ç½²åœ¨AæœåŠ¡å™¨ä¸Šçš„åº”ç”¨aéœ€è¦è°ƒç”¨éƒ¨ç½²åœ¨BæœåŠ¡å™¨ä¸Šçš„båº”ç”¨æä¾›çš„cå‡½æ•°/æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å®žçŽ°è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ŒRPCå°±æ˜¯å®žçŽ°è¿™ä¸€åŠŸèƒ½çš„åè®®ã€‚æœ¬åœ°è¿‡ç¨‹è°ƒç”¨:&emsp;ä¸¾ä¸ªðŸŒ°1234567int add(int a, int b) &#123; int c = a + b; return c;&#125;int a1 = 1;int b1 = 2;int c1 = add(a1, b1);int c1 = add(a1, b1)æ‰§è¡Œè¿‡ç¨‹ï¼šå°†a1, b1å€¼åŽ‹æ ˆè¿›å…¥addå‡½æ•°ï¼Œå–å‡ºæ ˆä¸­a1, b1ï¼Œèµ‹å€¼ç»™a, bè®¡ç®—a + bï¼Œå°†ç»“æžœå­˜åœ¨ccåŽ‹æ ˆï¼Œä»Žaddå‡½æ•°è¿”å›žä»Žæ ˆä¸­å–å‡ºcçš„å€¼ï¼Œèµ‹å€¼ç»™c1é‚£ä¹ˆé—®é¢˜æ¥äº†&emsp;æœ¬åœ°è°ƒç”¨ç”±äºŽå‡½æ•°/å‚æ•°éƒ½å­˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥ç›´æŽ¥è°ƒç”¨/è¯»å–ï¼Œåˆæƒ…åˆç†ï¼Œä¸éœ€è¦åšç‰¹åˆ«å¤„ç†ã€‚&emsp;è€Œä¸Šé¢æ —å­ä¸­çš„aåº”ç”¨è¦å®Œæˆä½¿å‘½ï¼Œé¦–å…ˆéœ€è¦å’Œbåº”ç”¨é€šè¿‡ç½‘ç»œå»ºç«‹è¿›ç¨‹é—´é€šä¿¡ï¼Œç„¶åŽå°†å‚æ•°ä»¥æŸç§båº”ç”¨èƒ½å¤Ÿç†è§£çš„å½¢å¼ä¼ é€’è¿‡åŽ»ï¼Œå¹¶ä¸”båº”ç”¨éœ€è¦æŒ‰ç…§æŸç§çº¦å®šå‡†ç¡®æ‰¾åˆ°cå‡½æ•°/æ–¹æ³•ï¼Œè¿”å›žç»“æžœçš„è¿‡ç¨‹ç±»ä¼¼ã€‚&emsp;å¯¹äºŽè´Ÿè´£ä¸šåŠ¡ä»£ç çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œæˆ‘ä»¬ä¸å…³æ³¨è¿œç¨‹è°ƒç”¨çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯è¿œç¨‹è°ƒç”¨èƒ½å¤Ÿåšåˆ°å’Œæœ¬åœ°è°ƒç”¨çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ ·æˆ‘ä»¬æ‰€å†™çš„ä»£ç ä¸éœ€è¦è€ƒè™‘è°ƒç”¨åœºæ™¯ç‰¹æ®ŠåŒ–å¤„ç†ã€‚è¿™ä¸€ç‚¹éœ€è¦å®žçŽ°ä»¥ä¸‹å‡ éƒ¨åˆ†ï¼šcall ID æ˜ å°„æœ¬åœ°è°ƒç”¨å‡½æ•°ç›´æŽ¥ä¼šæ‰¾åˆ°å‡½æ•°æŒ‡é’ˆï¼Œè¿œç¨‹è°ƒç”¨æ—¶ï¼Œåœ°å€ç©ºé—´æ¯«æ— å…³è”ï¼Œæ‰€ä»¥éœ€è¦ç»™æ‰€æœ‰çš„å‡½æ•°ä¸€ä¸ªIDï¼Œæ¶ˆè´¹ç«¯å’Œæä¾›ç«¯éƒ½éœ€è¦ç»´æŠ¤è¿™æ ·ä¸€ä¸ªIDæ˜ å°„ï¼Œåœ¨è¿œç¨‹è°ƒç”¨æ—¶ï¼Œæ¶ˆè´¹è€…ä¼šå¸¦ä¸Šè¿™ä¸ªIDï¼Œæä¾›ç«¯æ ¹æ®IDæ‰¾åˆ°ç›¸åº”çš„å‡½æ•°å†åŽ»æ‰§è¡Œã€‚åºåˆ—åŒ–/ååºåˆ—åŒ–ç”±äºŽå¿…é¡»é€šè¿‡ç½‘ç»œä¼ è¾“ä¼ é€’å‚æ•°ï¼Œä¼ è¾“ä¸¤ç«¯éœ€è¦èƒ½å¤Ÿç†è§£äº¤æ¢çš„æ•°æ®ï¼ŒåŽŸæœ¬å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å‚æ•°å€¼åœ¨æ¶ˆè´¹ç«¯è¿›è¡Œåºåˆ—åŒ–ï¼Œåˆ°è¾¾æä¾›ç«¯åŽè¿›è¡Œååºåˆ—åŒ–æ¢å¤æˆå†…å­˜ä¸­çš„è¡¨è¾¾å½¢å¼ï¼Œç„¶åŽåœ¨æä¾›ç«¯æ‰§è¡Œå‡½æ•°/æ–¹æ³•ï¼Œè¿”å›žç»“æžœç±»ä¼¼ï¼ŒåŒæ ·éœ€è¦åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ç½‘ç»œä¼ è¾“ç½‘ç»œä¼ è¾“è¿™ä¸€å—å¤§éƒ¨åˆ†RPCæ¡†æž¶ä½¿ç”¨TCPåè®®ï¼Œå®žé™…ä¸Šèƒ½å¤Ÿå®žçŽ°ç½‘ç»œä¼ è¾“ç›®çš„çš„å…¶ä»–ä¸€äº›åè®®ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚RPCç»“æž„å›¾è§£&emsp;RPC æœåŠ¡æ–¹é€šè¿‡ RpcServer åŽ»exportè¿œç¨‹æŽ¥å£æ–¹æ³•ï¼Œè€Œå®¢æˆ·æ–¹é€šè¿‡ RpcClient åŽ»importè¿œç¨‹æŽ¥å£æ–¹æ³•ã€‚&emsp;å®¢æˆ·æ–¹åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·åŽ»è°ƒç”¨è¿œç¨‹æŽ¥å£æ–¹æ³•ï¼ŒRPC æ¡†æž¶æä¾›æŽ¥å£çš„ä»£ç†å®žçŽ°ï¼Œå®žé™…çš„è°ƒç”¨å°†å§”æ‰˜ç»™ä»£ç† RpcProxy ã€‚&emsp;ä»£ç†å°è£…è°ƒç”¨ä¿¡æ¯å¹¶å°†è°ƒç”¨è½¬äº¤ç»™ RpcInvoker åŽ»å®žé™…æ‰§è¡Œã€‚&emsp;åœ¨å®¢æˆ·ç«¯çš„ RpcInvoker é€šè¿‡è¿žæŽ¥å™¨ RpcConnector åŽ»ç»´æŒä¸ŽæœåŠ¡ç«¯çš„é€šé“ RpcChannelï¼Œå¹¶ä½¿ç”¨ RpcProtocol æ‰§è¡Œåè®®encodeå¹¶å°†ç¼–ç åŽçš„è¯·æ±‚æ¶ˆæ¯é€šè¿‡é€šé“å‘é€ç»™æœåŠ¡æ–¹ã€‚&emsp;RPC æœåŠ¡ç«¯æŽ¥æ”¶å™¨ RpcAcceptor æŽ¥æ”¶å®¢æˆ·ç«¯çš„è°ƒç”¨è¯·æ±‚ï¼ŒåŒæ ·ä½¿ç”¨ RpcProtocol æ‰§è¡Œåè®®decodeã€‚è§£ç åŽçš„è°ƒç”¨ä¿¡æ¯ä¼ é€’ç»™ RpcProcessor åŽ»æŽ§åˆ¶å¤„ç†è°ƒç”¨è¿‡ç¨‹ï¼Œæœ€åŽå†å§”æ‰˜è°ƒç”¨ç»™ RpcInvoker åŽ»å®žé™…æ‰§è¡Œå¹¶è¿”å›žè°ƒç”¨ç»“æžœã€‚RPCç»„ä»¶RpcServer ç”¨äºŽæœåŠ¡æ–¹å¯¼å‡ºè¿œç¨‹æŽ¥å£æ–¹æ³•ï¼ŒRpcClient ç”¨äºŽå®¢æˆ·æ–¹å¼•å…¥æŽ¥å£æ–¹æ³•çš„ä»£ç†å®žçŽ°RpcProxy æ˜¯è¿œç¨‹æŽ¥å£æ–¹æ³•çš„ä»£ç†å®žçŽ°RpcInvokerå®¢æˆ·æ–¹å®žçŽ°ï¼šè´Ÿè´£ç¼–ç è°ƒç”¨ä¿¡æ¯å’Œå‘é€è°ƒç”¨è¯·æ±‚åˆ°æœåŠ¡æ–¹å¹¶ç­‰å¾…è°ƒç”¨ç»“æžœè¿”å›žæœåŠ¡æ–¹å®žçŽ°ï¼šè´Ÿè´£è°ƒç”¨æœåŠ¡ç«¯æŽ¥å£çš„å…·ä½“å®žçŽ°å¹¶è¿”å›žè°ƒç”¨ç»“æžœRpcProtocol è´Ÿè´£ç¼–è§£ç RpcConnector è´Ÿè´£ç»´æŒå®¢æˆ·æ–¹å’ŒæœåŠ¡æ–¹çš„è¿žæŽ¥é€šé“å’Œå‘é€æ•°æ®åˆ°æœåŠ¡æ–¹RpcAcceptor è´Ÿè´£æŽ¥æ”¶å®¢æˆ·æ–¹è¯·æ±‚å¹¶è¿”å›žè¯·æ±‚ç»“æžœRpcProcessor è´Ÿè´£æœåŠ¡æ–¹æŽ§åˆ¶è°ƒç”¨è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ç®¡ç†è°ƒç”¨çº¿ç¨‹æ± ã€è¶…æ—¶æ—¶é—´ç­‰RpcChannel æ•°æ®ä¼ è¾“é€šé“ç»„ä»¶å…·ä½“å®žçŽ°åŽç»­å‚è€ƒdubboæ¡†æž¶å†æ¥å­¦ä¹ é—®é¢˜è¿œç¨‹è°ƒç”¨å¯èƒ½ç”±äºŽç½‘ç»œé—®é¢˜æ²¡æœ‰åˆ°è¾¾æœåŠ¡æ–¹ï¼Œæ‰€ä»¥è°ƒç”¨æœªå¿…ä¸€å®šæ‰§è¡Œè¿œç¨‹è°ƒç”¨æŠ›å‡ºçš„å¼‚å¸¸å¯èƒ½æ˜¯RPCæ¡†æž¶è¿è¡Œæ—¶å¼‚å¸¸è¿œç¨‹è°ƒç”¨æ¶ˆè€—è‚¯å®šæ˜¯é«˜äºŽæœ¬åœ°è°ƒç”¨çš„ï¼Œæ‰€ä»¥è€ƒè™‘å¯¼å‡ºä¸ºè¿œç¨‹æŽ¥å£çš„å‰ææ˜¯è®¡ç®—æ¶ˆè€—è¿œå¤§äºŽRPCçš„å›ºæœ‰æ¶ˆè€—ä¸Šè¿°å†…å®¹éƒ¨åˆ†å¼•ç”¨è‡ª æ·±å…¥æµ…å‡º RPC - æ·±å…¥ç¯‡Dubboæƒ¯ä¾‹å¹ä¸€æ³¢åŸºäºŽjavaçš„é«˜æ€§èƒ½å¼€æºRPCæ¡†æž¶ï¼Œä¸»è¦å®žçŽ°äº†RPCè¿œç¨‹è°ƒç”¨ã€é›†ç¾¤å®¹é”™å’Œè´Ÿè½½å‡è¡¡ã€æœåŠ¡ç®¡ç†å’Œç›‘æŽ§ä¸‰å¤§å—åŠŸèƒ½ã€‚]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>rpc</tag>
        <tag>dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[js-es6 å¼‚æ­¥ç¯‡]]></title>
    <url>%2Fposts%2F7819203f%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;æ‰¿ä¸Šä¸€ç¯‡ï¼Œæœ¬æ–‡è®°å½•äº†es6çš„Promiseå¯¹è±¡ã€Generatorå‡½æ•°å’Œasync awaitè¯­æ³•ç³–ï¼Œå¼‚æ­¥çœŸæ˜¯è®©äººåˆçˆ±åˆæ¨ã€‚lesson1 Promiseä½ çš„åå­—Promise è¯žäºŽç¤¾åŒºï¼Œåˆä¸ºå¼‚æ­¥ç¼–ç¨‹ä¹‹è§£å†³æ–¹æ¡ˆï¼ŒåŽæœ‰ES6å°†å…¶å†™å…¥è¯­è¨€æ ‡å‡†ï¼Œç»ˆæˆä»Šäººæ‰€è¨€ä¹‹ Promise å¯¹è±¡Promiseå¯¹è±¡ç‰¹ç‚¹æœ‰äºŒï¼šçŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€ä¸€æ—¦çŠ¶æ€æ”¹å˜åŽä¸ä¼šå†æ¬¡æ”¹å˜åŸºæœ¬ç”¨æ³•Promiseå¯¹è±¡ä¸ºä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œç”¨äºŽç”ŸæˆPromiseå®žä¾‹12345678// æŽ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå‡½æ•°å‚æ•°æœ‰ä¸¤ä¸ªï¼Œä¸ºjså¼•æ“Žå†…éƒ¨å®žçŽ°çš„ä¸¤ä¸ªå‡½æ•°let pr = new Promise(function(resolve, reject) &#123; if () &#123; resolve() // pending -&gt; resolved &#125; else &#123; reject() // pending -&gt; rejected &#125;&#125;)Promiseå®žä¾‹ç”ŸæˆåŽå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æŒ‡å®šä¸¤ç§çŠ¶æ€ä¸‹çš„å›žè°ƒå‡½æ•°123456// ç¬¬äºŒä¸ªå‡½æ•°å¯é€‰pr.then( function(value) &#123; // do something&#125;, function(error) &#123; // throw error&#125;)soâ€¦å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›žä¸€ä¸ªPromiseå¯¹è±¡ï¼Œåœ¨Promiseå®žä¾‹åˆ›å»ºæ—¶ä¼ å…¥çš„å‡½æ•°å‚æ•°å†…è¿›è¡Œé€»è¾‘å¤„ç†ï¼ˆå†³å®šä½•æ—¶æ”¹å˜çŠ¶æ€å¹¶ä¼ é€’å€¼åˆ°å›žè°ƒå‡½æ•°ï¼‰åˆ©ç”¨Promiseå®žä¾‹çš„thenæ–¹æ³•æŽ¥æ”¶ä¸Šä¸€æ­¥çš„ä¼ é€’å€¼å¤„ç†åŽç»­ï¼ˆresolveä¼ é€’çš„å€¼å¯ä»¥ä¸ºPromiseå¯¹è±¡ï¼Œrejectä¼ é€’çš„å€¼å¤šä¸ºErrorå¯¹è±¡ï¼‰æ³¨æ„ï¼šresolveæˆ–rejectå¹¶ä¸ä¼šç»ˆç»“ Promise çš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œï¼Œå› ä¸ºç«‹å³resolveæˆ–rejectçš„Promiseæ˜¯åœ¨æœ¬æ¬¡æ—¶é—´å¾ªçŽ¯å°¾éƒ¨ï¼Œæ™šäºŽæœ¬è½®çš„åŒæ­¥ä»»åŠ¡æ³¨æ„ï¼šä¸€èˆ¬resolveæˆ–è€…rejectä¹‹åŽPromiseä»»åŠ¡å®Œæˆäº†ï¼ŒåŽç»­åº”è¯¥å†™åœ¨thençš„å›žè°ƒå‡½æ•°å†…ï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·return resolve(value)æˆ‘æ„šè ¢çš„å­©å­ä»¬Promise.prototype.thenå‚æ•°ï¼šä¸¤ä¸ªå‡½æ•°ï¼ŒåŽä¸€ä¸ªå¯é€‰è¿”å›žï¼šæ–°çš„Promiseå®žä¾‹å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œä¸Šä¸€ä¸ªå›žè°ƒå‡½æ•°çš„è¿”å›žå€¼ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªå›žè°ƒå‡½æ•°å†…è‹¥ä¸Šä¸€ä¸ªå›žè°ƒå‡½æ•°è¿”å›žçš„æ˜¯Promiseåˆ™éœ€è¦ç­‰çŠ¶æ€æ”¹å˜å†è°ƒç”¨ä¸‹ä¸€ä¸ªå›žè°ƒå‡½æ•°1234567getJSON("/post/1.json").then( // è¿”å›žçš„æ˜¯ä¸€ä¸ªPromiseï¼Œå…¶çŠ¶æ€æ”¹å˜åŽæ ¹æ®çŠ¶æ€é€‰æ‹©è°ƒç”¨ä¸‹é¢çš„thenä¸­çš„å“ªä¸ªå›žè°ƒå‡½æ•° post =&gt; getJSON(post.commentURL)).then( comments =&gt; console.log("resolved: ", comments), err =&gt; console.log("rejected: ", err));Promise.prototype.catchå®žé™…ä¸Šï¼šæ˜¯.then(null, rejection)çš„åˆ«åé“¾å¼å†™æ³•æœ€åŽä¸€ä¸ªcatchå¯ä»¥æ•èŽ·å‰é¢ä»»ä½•ä¸€ä¸ªPromiseå¯¹è±¡thenæ–¹æ³•æŠ›å‡ºçš„erroræŽ¨èä½¿ç”¨catchï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªå›žè°ƒå‡½æ•°ä½œä¸ºå‚æ•°è‹¥æ²¡æœ‰æŒ‡å®šé”™è¯¯å¤„ç†çš„å›žè°ƒï¼ŒPromiseä¼šåƒæŽ‰é”™è¯¯ï¼Œä¸ä¼šé€€å‡ºè¿›ç¨‹ã€ç»ˆæ­¢è„šæœ¬è¿è¡Œcatchæ–¹æ³•é‡Œè¿˜å¯ä»¥å†æŠ›é”™ï¼Œå†é“¾å¼catchâ€¦Promise.allå‚æ•°ï¼š å…·æœ‰IteratoræŽ¥å£è¿”å›žï¼š Promiseå®žä¾‹ä»¬1var p = Promise.all([p1, p2, p3]);p1, p2, p3éƒ½ä¸ºfullfilledæ—¶pæ‰fullfilledï¼Œå…¶ä¸­ä¸€ä¸ªrejectedåˆ™på°±rejectedå¦‚æžœå…¶ä¸­ä¸€ä¸ªPromiseå®žä¾‹å®šä¹‰äº†catchï¼Œé”™è¯¯ä¼šè¢«è‡ªå·±çš„catchæ•èŽ·ç„¶åŽè¿”å›žä¸€ä¸ªæ–°çš„Promiseå®žä¾‹ï¼Œåœ¨æ‰§è¡Œå®ŒcatchåŽè¯¥å®žä¾‹ä¹Ÿresolvedï¼Œæ‰€ä»¥ä¸ä¼šè¢«å¤–éƒ¨pçš„catchæ•èŽ·åˆ°ï¼Œè‹¥æ²¡æœ‰ï¼Œå½“ç„¶ä¼šè¢«å¤–é¢æ•èŽ·åˆ°å•¦Promise.raceæ¦‚è¿°ï¼šåŒæ ·æ˜¯å¤šä¸ªPromiseå®žä¾‹ï¼Œç¬¬ä¸€ä¸ªçŠ¶æ€æ”¹å˜çš„Promiseå®žä¾‹ä¼šä½¿å¾—pçŠ¶æ€è·Ÿç€æ”¹å˜ç”¨å¤„ðŸŒ°ï¼šä¸€å®šæ—¶é—´å†…èŽ·å–ä¸åˆ°å°±rejected12345678const p = Promise.race([ fetch('/resource-that-may-take-a-while'), new Promise(function (resolve, reject) &#123; setTimeout(() =&gt; reject(new Error('request timeout')), 5000) &#125;)]);p.then(response =&gt; console.log(response));p.catch(error =&gt; console.log(error));Promise.resolve/Promise.rejectå—¯123Promise.resolve('foo')// ç­‰ä»·äºŽä¸‹é¢ï¼Œå³ç”Ÿæˆä¸€ä¸ªPromiseå®žä¾‹ï¼ŒçŠ¶æ€ä¸ºresolvedï¼Œä¸”å°†å€¼ä¼ ç»™å›žè°ƒå‡½æ•°new Promise(resolve =&gt; resolve('foo'))æƒ…å†µå‚æ•°ä¸ºthenableå¯¹è±¡ï¼Œå³å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ =&gt;å°†å¯¹è±¡å°è£…ä¸ºPromiseå¯¹è±¡ï¼Œç«‹å³æ‰§è¡ŒåŽŸå¯¹è±¡çš„thenæ–¹æ³•ï¼Œç„¶åŽåœ¨æ ¹æ®çŠ¶æ€å˜åŒ–åŽ»è°ƒç”¨Promise.thençš„å›žè°ƒå‡½æ•°ä¸æ˜¯thenableå¯¹è±¡æˆ–è€…ä¸æ˜¯å¯¹è±¡å‚è§å—¯ä¸ä¼ å‚æ•°ï¼Œè¿”å›žä¸€ä¸ªresolvedçš„Promiseå¯¹è±¡æ³¨æ„ï¼šç«‹å³resolveçš„Promiseå¯¹è±¡ï¼Œæ˜¯åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªçŽ¯â€ï¼ˆevent loopï¼‰çš„ç»“æŸæ—¶ï¼Œè€Œä¸æ˜¯åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªçŽ¯â€çš„å¼€å§‹æ—¶æ³¨æ„ï¼šPromise.reject(res)æœ‰ä¸€ç‚¹ä¸åŒï¼Œåœ¨äºŽå‚æ•°resç›´æŽ¥ä½œä¸ºrejectedçš„ç†ç”±ï¼ŒåŽŸå°ä¸åŠ¨åœ°è¢«catchPromise.done/Promise.finallyå‰è€…è¡¨ç¤ºæ— è®ºå¦‚ä½•éƒ½ä¼šæŽ¥æ”¶åˆ°å¯èƒ½çš„é”™è¯¯ï¼Œå…¨å±€æŠ›å‡ºï¼ŒåŽè€…æ˜¯æ— è®ºå¦‚ä½•éƒ½ä¼šåœ¨æœ€åŽæ‰§è¡Œä¼ å…¥çš„callback12345678910111213141516// donePromise.prototype.done = function (onFulfilled, onRejected) &#123; this.then(onFulfilled, onRejected) .catch(function (reason) &#123; // æŠ›å‡ºä¸€ä¸ªå…¨å±€é”™è¯¯ setTimeout(() =&gt; &#123; throw reason &#125;, 0); &#125;);&#125;;// finallyPromise.prototype.finally = function (callback) &#123; let P = this.constructor; return this.then( value =&gt; P.resolve(callback()).then(() =&gt; value), reason =&gt; P.resolve(callback()).then(() =&gt; &#123; throw reason &#125;) );&#125;;Promise.tryææ¡ˆï¼šæ¨¡æ‹Ÿtryï¼Œæ˜¯å¼‚æ­¥å°±å¼‚æ­¥ï¼Œæ˜¯åŒæ­¥å°±åŒæ­¥ï¼Œå°±ææï¼Œå†è¯´lesson2 GeneratoråˆæŽ¢æ¦‚å¿µä¸€ä¸ªéåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œä¸€ä¸ªçŠ¶æ€æœºè°ƒç”¨Generatorå‡½æ•°ï¼Œè¿”å›žä¸€ä¸ªéåŽ†å™¨ï¼Œä»£è¡¨Generatorå‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆï¼ˆæ­¤æ—¶yieldåŽçš„è¡¨è¾¾å¼ä¸ä¼šæ±‚å€¼ï¼‰æ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªyieldå‰çš„è¯­å¥å¹¶ä¸”è¿”å›žä¸€ä¸ª{value, done}å¯¹è±¡ï¼Œå…¶ä¸­valueå±žæ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åŽé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œdoneå±žæ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éåŽ†ç»“æŸè‹¥æ²¡æœ‰yieldäº†ï¼Œnextæ‰§è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œå¹¶å°†returnç»“æžœä½œä¸ºvalueè¿”å›žï¼Œè‹¥æ— returnåˆ™ä¸ºundefinedã€‚è¿™ä¹‹åŽè°ƒç”¨nextå°†è¿”å›ž{value: undefined, done: true}yieldæƒ°æ€§è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå°†yieldåŽçš„è¡¨è¾¾å¼çš„å€¼ä½œä¸ºvalueè¿”å›žï¼Œåªæœ‰ä¸‹æ¬¡å†è°ƒç”¨nextæ‰ä¼šæ‰§è¡Œè¿™ä¹‹åŽçš„è¯­å¥ï¼Œè¾¾åˆ°äº†æš‚åœæ‰§è¡Œçš„æ•ˆæžœï¼Œç›¸å½“äºŽå…·å¤‡äº†ä¸€ä¸ªæƒ°æ€§æ±‚å€¼çš„åŠŸèƒ½æ²¡æœ‰yieldæ—¶ï¼ŒGeneratorå‡½æ•°ä¸ºä¸€ä¸ªå•çº¯çš„æš‚ç¼“æ‰§è¡Œå‡½æ•°ï¼ˆéœ€è¦è°ƒç”¨nextæ‰§è¡Œï¼‰yieldåªèƒ½ç”¨äºŽGeneratorå‡½æ•°IteratoræŽ¥å£Generatorå‡½æ•°ä¸ºéåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œå¯ä»¥èµ‹ç»™å¯¹è±¡çš„Symbol.iteratoræ–¹æ³•ï¼Œæœ¬èº«ä¹Ÿå…·æœ‰Symbol.iteratorå±žæ€§123456function* gen()&#123; // some code&#125;var g = gen();g[Symbol.iterator]() === g// trueforâ€¦ofGeneratorå‡½æ•°è¿”å›žçš„æ˜¯éåŽ†å™¨å¯¹è±¡ï¼Œå¯ä»¥ç›´æŽ¥ç”¨forâ€¦ofè®¿é—®æ³¨æ„ï¼šdoneä¸ºtrueçš„ä¼šè¢«forâ€¦ofå¿½ç•¥åˆ©ç”¨Generatorä¸ºå¯¹è±¡å®žçŽ°IteratoræŽ¥å£12345678910111213function* objectEntries() &#123; let propKeys = Object.keys(this); for (let propKey of propKeys) &#123; yield [propKey, this[propKey]]; &#125;&#125;let jane = &#123; first: 'Jane', last: 'Doe' &#125;;jane[Symbol.iterator] = objectEntries;for (let [key, value] of jane) &#123; console.log(`$&#123;key&#125;: $&#123;value&#125;`);&#125;// first: Jane// last: Doeæ–¹æ³•Generator.prototype.next()å‚æ•°é€šè¿‡ä¼ å…¥å‚æ•°ä¸ºGeneratorå‡½æ•°å†…éƒ¨æ³¨å…¥ä¸åŒçš„å€¼æ¥è°ƒæ•´å‡½æ•°æŽ¥ä¸‹æ¥çš„è¡Œä¸ºç¬¬ä¸€æ¬¡nextä¼ é€’çš„å‚æ•°ä¼šè¢«å¿½ç•¥ï¼ˆå®žåœ¨æƒ³ä¼ å¾—åŒ…ä¸€å±‚ï¼‰123456789101112// è¿™é‡Œåˆ©ç”¨å‚æ•°å®žçŽ°äº†é‡ç½®function* f() &#123; for(var i = 0; true; i++) &#123; var reset = yield i; if(reset) &#123; i = -1; &#125; &#125;&#125;var g = f();g.next() // &#123; value: 0, done: false &#125;g.next() // &#123; value: 1, done: false &#125;// ä¼ é€’çš„å‚æ•°ä¼šè¢«èµ‹å€¼ç»™iï¼ˆyieldåŽçš„è¡¨è¾¾å¼çš„å€¼(i)ï¼‰ï¼Œç„¶åŽæ‰§è¡Œvar reset = ièµ‹å€¼ç»™resetg.next(true) // &#123; value: 0, done: false &#125;Generator.prototype.throw()Generatorå‡½æ•°è¿”å›žçš„å¯¹è±¡éƒ½å…·æœ‰throwæ–¹æ³•ï¼Œç”¨äºŽåœ¨å‡½æ•°ä½“å¤–æŠ›å‡ºé”™è¯¯ï¼Œåœ¨å‡½æ•°ä½“å†…å¯ä»¥æ•èŽ·ï¼ˆåªèƒ½catchä¸€æ¬¡ï¼‰å‚æ•°å¯ä»¥ä¸ºErrorå¯¹è±¡å¦‚æžœå‡½æ•°ä½“å†…æ²¡æœ‰éƒ¨ç½²tryâ€¦catchä»£ç å—ï¼Œé‚£ä¹ˆthrowæŠ›å‡ºçš„é”™ä¼šè¢«å¤–éƒ¨tryâ€¦catchä»£ç å—æ•èŽ·ï¼Œå¦‚æžœå¤–éƒ¨ä¹Ÿæ²¡æœ‰ï¼Œåˆ™ç¨‹åºæŠ¥é”™ï¼Œä¸­æ–­æ‰§è¡Œthrowæ–¹æ³•è¢«å†…éƒ¨catchä»¥åŽé™„å¸¦æ‰§è¡Œä¸€æ¬¡nextå‡½æ•°å†…éƒ¨çš„errorå¯ä»¥è¢«å¤–éƒ¨catchå¦‚æžœGeneratoræ‰§è¡Œè¿‡ç¨‹ä¸­å†…éƒ¨æŠ›é”™ï¼Œä¸”æ²¡è¢«å†…éƒ¨catchï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œä¸‹åŽ»äº†ï¼Œä¸‹æ¬¡è°ƒç”¨nextä¼šè§†ä¸ºè¯¥Generatorå·²è¿è¡Œç»“æŸGeneratorå‡½æ•°è¿”å›žçš„å¯¹è±¡åœ¨è¢«nextè®¿é—®å®ŒåŽå†…éƒ¨å±žæ€§[[GeneratorStatus]]å€¼å˜ä¸ºâ€™closedâ€™äº†Generator.prototype.return()try ... finallyå­˜åœ¨æ—¶ï¼Œreturnä¼šåœ¨finallyæ‰§è¡Œå®ŒåŽæ‰§è¡Œï¼Œæœ€åŽçš„è¿”å›žç»“æžœæ˜¯returnæ–¹æ³•çš„å‚æ•°ï¼Œè¿™ä¹‹åŽGeneratorè¿è¡Œç»“æŸï¼Œä¸‹æ¬¡è®¿é—®ä¼šå¾—åˆ°{value: undefined, done: true}try ... finallyä¸å­˜åœ¨æ—¶ï¼Œç›´æŽ¥æ‰§è¡Œreturnï¼ŒåŽç»­å’Œä¸Šä¸€æ¡ä¸€è‡´å®žé™…ä¸Šä»¥ä¸Šä¸‰ç§æ–¹æ³•éƒ½æ˜¯è®©Generatoræ¢å¤æ‰§è¡Œï¼Œå¹¶ç”¨è¯­å¥æ›¿æ¢yieldè¡¨è¾¾å¼yield*è¡¨è¾¾å¼åœ¨ä¸€ä¸ªGeneratorå†…éƒ¨ç›´æŽ¥è°ƒç”¨å¦ä¸€ä¸ªGeneratoræ˜¯æ²¡ç”¨çš„ï¼Œå¦‚æžœéœ€è¦åœ¨ä¸€ä¸ªGeneratorå†…éƒ¨yieldå¦ä¸€ä¸ªGeneratorå¯¹è±¡çš„æˆå‘˜ï¼Œåˆ™éœ€è¦ä½¿ç”¨yield*1234567891011121314function* inner() &#123; yield 'a' // yield outer() // è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ yield* outer() // è¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡çš„å†…éƒ¨å€¼ yield 'd'&#125;function* outer() &#123; yield 'b' yield 'c'&#125;let s = inner()for (let i of s) &#123; console.log(i)&#125; // a b c dyield*åŽè·Ÿä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼ˆæ‰€æœ‰å®žçŽ°äº†iteratorçš„æ•°æ®ç»“æž„å®žé™…ä¸Šéƒ½å¯ä»¥è¢«yield*éåŽ†ï¼‰è¢«ä»£ç†çš„Generatorå‡½æ•°å¦‚æžœæœ‰returnï¼Œreturnçš„å€¼ä¼šè¢«forâ€¦ofå¿½ç•¥ï¼Œæ‰€ä»¥nextä¸ä¼šè¿”å›žï¼Œä½†æ˜¯å®žé™…ä¸Šå¯ä»¥å‘å¤–éƒ¨Generetorå†…éƒ¨è¿”å›žä¸€ä¸ªå€¼ï¼Œå¦‚ä¸‹ï¼š1234567891011121314151617181920212223function *foo() &#123; yield 2; yield 3; return "foo";&#125;function *bar() &#123; yield 1; var v = yield *foo(); console.log( "v: " + v ); yield 4;&#125;var it = bar();it.next()// &#123;value: 1, done: false&#125;it.next()// &#123;value: 2, done: false&#125;it.next()// &#123;value: 3, done: false&#125;it.next();// "v: foo"// &#123;value: 4, done: false&#125;it.next()// &#123;value: undefined, done: true&#125;ä¸¾ä¸ªðŸŒ°12345678910111213141516171819202122// å¤„ç†åµŒå¥—æ•°ç»„function* Tree(tree)&#123; if(Array.isArray(tree))&#123; for(let i=0;i&lt;tree.length;i++) &#123; yield* Tree(tree[i]) &#125; &#125; else &#123; yield tree &#125;&#125;let ss = [[1,2],[3,4,5],6,[7]]for (let i of Tree(ss)) &#123; console.log(i)&#125; // 1 2 3 4 5 6 7// ç†è§£for ...of å®žé™…ä¸Šæ˜¯ä¸€ä¸ªwhileå¾ªçŽ¯var it = iterateJobs(jobs);var res = it.next();while (!res.done)&#123; var result = res.value; // ... res = it.next();&#125;Extraä½œä¸ºå¯¹è±¡çš„å±žæ€§çš„Generatorå‡½æ•°å†™æ³•å¾ˆæ¸…å¥‡12345678910let obj = &#123; * sss() &#123; // ... &#125;&#125;let obj = =&#123; sss: function* () &#123; // ... &#125;&#125;Generatorå‡½æ•°çš„thisGeneratorå‡½æ•°è¿”å›žçš„æ˜¯éåŽ†å™¨å¯¹è±¡ï¼Œä¼šç»§æ‰¿prototypeçš„æ–¹æ³•ï¼Œä½†æ˜¯ç”±äºŽè¿”å›žçš„ä¸æ˜¯thisï¼Œæ‰€ä»¥ä¼šå‡ºçŽ°ï¼š12345function* ss () &#123; this.a = 1&#125;let f = ss()f.a // undefinedæƒ³è¦åœ¨å†…éƒ¨çš„thisç»‘å®šéåŽ†å™¨å¯¹è±¡ï¼Ÿjsçµæ´»ç‰¹æ€§å°½æ˜¾â€¦1234567891011function * ss() &#123; this.a = 1 yield this.b = 2; yield this.c = 3;&#125;let f = ss.call(ss.prototype) // ç”±äºŽf.__proto__ === ss.prototypeï¼Œä¼ å…¥éåŽ†å™¨å¯¹è±¡çš„éšè—åŽŸåž‹ç»™thisf.next()f.next()f.a // 1f.b // 2f.c // 3åº”ç”¨ä¸¾ä¸ªðŸŒ°123456789// åˆ©ç”¨æš‚åœçŠ¶æ€çš„ç‰¹æ€§let clock = function* () &#123; while(true) &#123; console.log('tick') yield console.log('tock') yield &#125;&#125;å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾123456789101112131415// Generatorå‡½æ•°function* main() &#123; var result = yield request("http://some.url"); var resp = JSON.parse(result); console.log(resp.value);&#125;// ajaxè¯·æ±‚å‡½æ•°ï¼Œå›žè°ƒå‡½æ•°ä¸­è¦å°†responseä¼ ç»™nextæ–¹æ³•function request(url) &#123; makeAjaxCall(url, function(response)&#123; it.next(response); &#125;);&#125;// éœ€è¦ç¬¬ä¸€æ¬¡æ‰§è¡Œnextæ–¹æ³•ï¼Œè¿”å›žyieldåŽçš„è¡¨è¾¾å¼ï¼Œè§¦å‘å¼‚æ­¥è¯·æ±‚ï¼Œè·³åˆ°requestå‡½æ•°ä¸­æ‰§è¡Œvar it = main();it.next();æŽ§åˆ¶æµç®¡ç†123456789// åŒæ­¥stepslet steps = [step1Func, step2Func, step3Func];function *iterateSteps(steps)&#123; for (var i=0; i&lt; steps.length; i++)&#123; var step = steps[i]; yield step(); &#125;&#125;// å¼‚æ­¥åŽç»­è®¨è®ºéƒ¨ç½²IteratoræŽ¥å£çœ‹åšæ•°ç»„ç»“æž„ä½¿ç”¨lesson3 Generatorçš„å¼‚æ­¥åº”ç”¨å‰è¨€å¼‚æ­¥ä¸€ä¸ªä»»åŠ¡æ‹†åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼Œæ¯”å¦‚ä»»åŠ¡æ˜¯è¯»å–ä¸€ä¸ªæ–‡ä»¶å¹¶è¿”å›žä¸€ä¸ªç»“æžœaã€‚æ‹†åˆ†ä¸ºå‘æ“ä½œç³»ç»Ÿå‘èµ·è¯·æ±‚ï¼Œç„¶åŽæ‰§è¡Œåˆ«çš„æ“ä½œï¼Œå†åœ¨æ“ä½œç³»ç»Ÿè¿”å›žæ–‡ä»¶ä»¥åŽåŽ»è¿”å›žä¸€ä¸ªç»“æžœaã€‚ä¸è¿žç»­çš„æ‰§è¡Œï¼Œç§°ä¸ºå¼‚æ­¥å›žè°ƒå‡½æ•°ä¼ ç»Ÿçš„å¼‚æ­¥å®žçŽ°æ˜¯é€šè¿‡å°†ç¬¬äºŒé˜¶æ®µçš„æ“ä½œä»¥å‡½æ•°å½¢å¼ä½œä¸ºå‚æ•°ä¼ é€’åˆ°ä»»åŠ¡å¤„ç†æ–¹æ³•å†…ï¼Œåœ¨ç¬¬ä¸€é˜¶æ®µçš„æ‰§è¡Œæœ‰äº†ç»“æžœä»¥åŽï¼Œå›žè°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œnodeçº¦å®šï¼Œå›žè°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¸ºé”™è¯¯å¯¹è±¡ï¼Œå› ä¸ºç¬¬ä¸€é˜¶æ®µæ‰§è¡Œå®ŒåŽï¼Œä»»åŠ¡å¾—ä¸Šä¸‹æ–‡çŽ¯å¢ƒç»“æŸäº†ã€‚è¿™ä¹‹åŽæŠ›å‡ºçš„é”™è¯¯éœ€è¦ä¼ å…¥å›žè°ƒå‡½æ•°æ‰èƒ½è¢«æ•èŽ·å¤„ç†Promiseå…¶å®žåªæ˜¯å†™æ³•ä¸Šçš„åŒºåˆ«ï¼Œä¾ç„¶æ˜¯ä»¥å›žè°ƒå‡½æ•°çš„æ–¹å¼å®žçŽ°å¼‚æ­¥Generatorå‡½æ•°åç¨‹coroutineåç¨‹Aæ‰§è¡Œ-&gt;åç¨‹Aæš‚åœï¼Œæ‰§è¡Œæƒè½¬äº¤ç»™åç¨‹B-&gt;ä¸€æ®µæ—¶é—´åŽæ‰§è¡Œæƒäº¤è¿˜A-&gt;Aæ¢å¤æ‰§è¡Œ123456// yieldæ˜¯å¼‚æ­¥ä¸¤ä¸ªé˜¶æ®µçš„åˆ†å‰²çº¿function* asyncJob() &#123; // ...å…¶ä»–ä»£ç  var f = yield readFile(fileA); // ...å…¶ä»–ä»£ç &#125;Generatorå‡½æ•°å®žçŽ°åç¨‹Generatorå‡½æ•°å®žé™…ä¸Šå¯ä»¥ä½œä¸ºå¼‚æ­¥ä»»åŠ¡çš„å®¹å™¨ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡éœ€è¦æš‚åœçš„åœ°æ–¹åŠ ä¸Šyieldæ³¨æ˜Žå³å¯Generatorå‡½æ•°çš„é”™è¯¯å¤„ç†å’Œæ•°æ®äº¤æ¢nextæ–¹æ³•ä½¿å¾—Generatorå¯ä»¥æŽ¥æ”¶å¤–éƒ¨å‚æ•°ï¼Œnextè¿”å›žå€¼çš„valueå±žæ€§æ˜¯Generatorå‘å¤–çš„è¾“å‡ºå€¼ï¼ˆæ•°æ®äº¤æ¢å®žçŽ°ï¼‰é”™è¯¯å¤„ç†ä¸Šä¸€è¯¾æœ‰è®²è¿°Thunkå‡½æ•°å‚æ•°çš„æ±‚å€¼ç­–ç•¥ä¼ åè°ƒç”¨å’Œä¼ å€¼è°ƒç”¨ä¹‹äº‰åŽè€…æ›´ç®€å•ï¼Œä½†æ˜¯å¯èƒ½ä¼šæœ‰éœ€è¦å¤§é‡è®¡ç®—æ±‚å€¼å´æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªå‚æ•°çš„æƒ…å†µï¼Œé€ æˆæ€§èƒ½æŸå¤±jsä¸­çš„Thunkå‡½æ•°ä¼ ç»Ÿçš„Thunkå‡½æ•°æ˜¯ä¼ åè°ƒç”¨çš„ä¸€ç§å®žçŽ°ï¼Œå³å°†å‚æ•°ä½œä¸ºä¸€ä¸ªä¸´æ—¶å‡½æ•°çš„è¿”å›žå€¼ï¼Œåœ¨éœ€è¦ç”¨åˆ°å‚æ•°çš„åœ°æ–¹å¯¹ä¸´æ—¶å‡½æ•°è¿›è¡Œæ±‚å€¼jsä¸­çš„Thunkå‡½æ•°ç•¥æœ‰ä¸åŒjsä¸­çš„Thunkå‡½æ•°æ˜¯å°†å¤šå‚æ•°å‡½æ•°æ›¿æ¢ä¸ºå•å‚æ•°å‡½æ•°ï¼ˆè¿™ä¸ªå‚æ•°ä¸ºå›žè°ƒå‡½æ•°ï¼‰1234567const Thunk = function(fn) &#123; return function (...args) &#123; return function (callback) &#123; return fn.call(this, ...args, callback); &#125; &#125;;&#125;;çœ‹èµ·æ¥åªæ˜¯æ¢äº†ä¸ªæ ·å­ï¼Œå¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨Thunkå‡½æ•°å®žçŽ°Generatorå‡½æ•°è‡ªåŠ¨æ‰§è¡ŒGeneratorå‡½æ•°è‡ªåŠ¨æ‰§è¡Œ12345678910function* gen() &#123; yield a // è¡¨è¾¾å¼a yield 2&#125;let g = gen()let res = g.next()while(!res.done) &#123; console.log(res.value) res = g.next() // è¡¨è¾¾å¼b&#125;ä½†æ˜¯ï¼Œè¿™ä¸é€‚åˆå¼‚æ­¥æ“ä½œã€‚å¦‚æžœå¿…é¡»ä¿è¯å‰ä¸€æ­¥æ‰§è¡Œå®Œï¼Œæ‰èƒ½æ‰§è¡ŒåŽä¸€æ­¥ï¼Œä¸Šé¢çš„è‡ªåŠ¨æ‰§è¡Œå°±ä¸å¯è¡Œã€‚ä¸Šé¢è¿™å¥è¯æ˜¯ä¸æ˜¯å¯ä»¥è¿™æ ·ç†è§£ï¼Œæ¯”å¦‚è¡¨è¾¾å¼aæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œå›žè°ƒå‡½æ•°ä¸­è®¾ç½®äº†å»¶æ—¶æ‰§è¡Œï¼Œè€Œè¿™ä¸ªå›žè°ƒå‡½æ•°æ‰§è¡Œå‰è¡¨è¾¾å¼bå¯èƒ½å·²ç»è¢«æ‰§è¡Œäº†ï¼Œè¿›å…¥åˆ°ä¸‹ä¸€ä¸ªå¾ªçŽ¯ã€‚æ‰€ä»¥æ— æ³•ä¿è¯æ‰§è¡Œé¡ºåºï¼Œæ‰€ä»¥éœ€è¦ç®¡ç†å›žè°ƒå‡½æ•°nextæ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œæ‰§è¡Œæ—¶å¿…é¡»ç«‹åˆ»è¿”å›žå€¼ï¼ŒyieldåŽæ˜¯åŒæ­¥æ“ä½œå½“ç„¶æ²¡é—®é¢˜ï¼Œæ˜¯å¼‚æ­¥æ“ä½œæ—¶å°±ä¸å¯ä»¥äº†ã€‚å¤„ç†æ–¹å¼å°±æ˜¯è¿”å›žä¸€ä¸ªThunkå‡½æ•°æˆ–è€…Promiseå¯¹è±¡ã€‚æ­¤æ—¶valueå€¼ä¸ºè¯¥å‡½æ•°/å¯¹è±¡ï¼Œdoneå€¼è¿˜æ˜¯æŒ‰è§„çŸ©åŠžäº‹ã€‚1234567891011var g = gen();var r1 = g.next();// é‡å¤ä¼ å…¥ä¸€ä¸ªå›žè°ƒå‡½æ•°r1.value(function (err, data) &#123; if (err) throw err; var r2 = g.next(data); r2.value(function (err, data) &#123; if (err) throw err; g.next(data); &#125;);&#125;);Thunkå‡½æ•°çš„è‡ªåŠ¨æµç¨‹ç®¡ç†æ€è·¯ï¼šGeneratorå‡½æ•°ä¸­yield å¼‚æ­¥Thunkå‡½æ•°ï¼Œé€šè¿‡yieldå°†æŽ§åˆ¶æƒè½¬äº¤ç»™Thunkå‡½æ•°ï¼Œç„¶åŽåœ¨Thunkå‡½æ•°çš„å›žè°ƒå‡½æ•°ä¸­è°ƒç”¨Generatorçš„nextæ–¹æ³•ï¼Œå°†æŽ§åˆ¶æƒäº¤å›žç»™Generatorã€‚æ­¤æ—¶ï¼Œå¼‚æ­¥æ“ä½œç¡®ä¿å®Œæˆï¼Œå¼€å¯ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚Generatoræ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„å®¹å™¨ï¼Œå®žçŽ°è‡ªåŠ¨æ‰§è¡Œéœ€è¦ä¸€ä¸ªæœºåˆ¶ï¼Œè¿™ä¸ªæœºåˆ¶çš„å…³é”®æ˜¯æŽ§åˆ¶æƒçš„äº¤æ›¿ï¼Œåœ¨å¼‚æ­¥æ“ä½œæœ‰äº†ç»“æžœä»¥åŽè‡ªåŠ¨äº¤å›žæŽ§åˆ¶æƒï¼Œè€Œå›žè°ƒå‡½æ•°æ‰§è¡Œæ­£æ˜¯è¿™ä¹ˆä¸ªæ—¶é—´ç‚¹ã€‚1234567891011121314151617181920212223242526272829303132// Generatorå‡½æ•°çš„æ‰§è¡Œå™¨function run(fn) &#123; let gen = fn() // ä¼ ç»™Thunkå‡½æ•°çš„å›žè°ƒå‡½æ•° function cb(err, data) &#123; // æŽ§åˆ¶æƒäº¤ç»™Generatorï¼ŒèŽ·å–ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ let result = gen.next(data) // æ²¡ä»»åŠ¡äº†ï¼Œè¿”å›ž if (result.done) return // æŽ§åˆ¶æƒäº¤ç»™Thunkå‡½æ•°ï¼Œä¼ å…¥å›žè°ƒ result.value(cb) &#125; cb()&#125;// Generatorå‡½æ•°function* g() &#123; let f1 = yield readFileThunk('/a') let f2 = yield readFileThunk('/b') let f3 = yield readFileThunk('/c')&#125;// Thunkå‡½æ•°readFileThunkconst Thunk = function(fn) &#123; return function (...args) &#123; return function (callback) &#123; return fn.call(this, ...args, callback); &#125; &#125;;&#125;;var readFileThunk = Thunk(fs.readFile);readFileThunk(fileA)(callback);// è‡ªåŠ¨æ‰§è¡Œrun(g)coæ¨¡å—è¯´æ˜Žä¸ç”¨æ‰‹å†™ä¸Šè¿°çš„æ‰§è¡Œå™¨ï¼Œcoæ¨¡å—å…¶å®žå°±æ˜¯å°†åŸºäºŽThunkå‡½æ•°å’ŒPromiseå¯¹è±¡çš„ä¸¤ç§è‡ªåŠ¨Generatoræ‰§è¡Œå™¨åŒ…è£…æˆä¸€ä¸ªæ¨¡å—ä½¿ç”¨æ¡ä»¶ï¼šyieldåŽåªèƒ½ä¸ºThunkå‡½æ•°æˆ–Promiseå¯¹è±¡æˆ–Promiseå¯¹è±¡æ•°ç»„åŸºäºŽPromiseçš„æ‰§è¡Œå™¨å®žçŽ°1234567891011121314function run(fn) &#123; let gen = fn() function cb(data) &#123; // å°†ä¸Šä¸€ä¸ªä»»åŠ¡è¿”å›žçš„dataä½œä¸ºå‚æ•°ä¼ ç»™nextæ–¹æ³•ï¼ŒæŽ§åˆ¶æƒäº¤å›žåˆ°Generator //è¿™é‡Œå°†resultå˜é‡å¼•ç”¨&#123;value, done&#125;å¯¹è±¡ï¼Œä¸è¦å’ŒGeneratorä¸­çš„`let result = yield xxx`æžæ·· let result = gen.next(data) if (result.done) return result.value result.value.then(function(data)&#123; // resolvedä¹‹åŽä¼šæ‰§è¡Œcb(data)ï¼Œå¼€å¯ä¸‹ä¸€æ¬¡å¾ªçŽ¯ï¼Œå®žçŽ°è‡ªåŠ¨æ‰§è¡Œ cb(data) &#125;) &#125; cb()&#125;æºç åˆ†æžå…¶å®žå’Œä¸Šé¢çš„å®žçŽ°ç±»ä¼¼12345678910111213141516171819202122232425262728293031323334353637383940414243function co(gen) &#123; var ctx = this; var args = slice.call(arguments, 1) // é™¤ç¬¬ä¸€ä¸ªå‚æ•°å¤–çš„æ‰€æœ‰å‚æ•° // è¿”å›žä¸€ä¸ªPromiseå¯¹è±¡ return new Promise(function(resolve, reject) &#123; // å¦‚æžœæ˜¯Generatorå‡½æ•°ï¼Œæ‰§è¡ŒèŽ·å–éåŽ†å™¨å¯¹è±¡gen if (typeof gen === 'function') gen = gen.apply(ctx, args); if (!gen || typeof gen.next !== 'function') return resolve(gen); // ç¬¬ä¸€æ¬¡æ‰§è¡ŒéåŽ†å™¨å¯¹è±¡gençš„nextæ–¹æ³•èŽ·å–ç¬¬ä¸€ä¸ªä»»åŠ¡ onFulfilled(); // æ¯æ¬¡å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå®Œï¼Œresolvedä»¥åŽä¼šè°ƒç”¨ï¼ŒæŽ§åˆ¶æƒåˆäº¤è¿˜ç»™Generator function onFulfilled(res) &#123; var ret; try &#123; ret = gen.next(res); // èŽ·å–&#123;value,done&#125;å¯¹è±¡ï¼ŒæŽ§åˆ¶æƒåœ¨è¿™é‡Œæš‚æ—¶äº¤ç»™å¼‚æ­¥ä»»åŠ¡ï¼Œæ‰§è¡ŒyieldåŽçš„å¼‚æ­¥ä»»åŠ¡ &#125; catch (e) &#123; return reject(e); &#125; next(ret); // è¿›å…¥nextæ–¹æ³• &#125; // åŒç†å¯å¾— function onRejected(err) &#123; var ret; try &#123; ret = gen.throw(err); &#125; catch (e) &#123; return reject(e); &#125; next(ret); &#125; // å…³é”® function next(ret) &#123; // éåŽ†æ‰§è¡Œå®Œå¼‚æ­¥ä»»åŠ¡åŽï¼Œç½®ä¸ºresolvedï¼Œå¹¶å°†æœ€åŽvalueå€¼è¿”å›ž if (ret.done) return resolve(ret.value); // èŽ·å–ä¸‹ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶è½¬ä¸ºPromiseå¯¹è±¡ var value = toPromise.call(ctx, ret.value); // å¼‚æ­¥ä»»åŠ¡ç»“æŸåŽä¼šè°ƒç”¨onFulfilledæ–¹æ³•ï¼ˆåœ¨è¿™é‡Œä¸ºyieldåŽçš„å¼‚æ­¥ä»»åŠ¡è®¾ç½®thençš„å›žè°ƒå‚æ•°ï¼‰ if (value &amp;&amp; isPromise(value)) return value.then(onFulfilled, onRejected); return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, ' + 'but the following object was passed: "' + String(ret.value) + '"')); &#125; &#125;)&#125;å…¶å®žè¿˜æ˜¯ä¸€æ ·ï¼Œä¸ºPromiseå¯¹è±¡thenæ–¹æ³•æŒ‡å®šå›žè°ƒå‡½æ•°ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡å®ŒæˆåŽå‡ºå‘å›žè°ƒå‡½æ•°ï¼Œåœ¨å›žè°ƒå‡½æ•°ä¸­æ‰§è¡ŒGeneratorçš„nextæ–¹æ³•ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œå®žçŽ°è‡ªåŠ¨æ‰§è¡Œã€‚ä¸¾ä¸ªðŸŒ°123456789101112131415161718'use strict';const fs = require('fs');const co =require('co');function read(filename) &#123; return new Promise(function(resolve, reject) &#123; fs.readFile(filename, 'utf8', function(err, res) &#123; if (err) &#123; return reject(err); &#125; return resolve(res); &#125;); &#125;);&#125;co(function *() &#123; return yield read('./a.js');&#125;).then(function(res)&#123; console.log(res);&#125;);å¤„ç†å¹¶å‘çš„å¼‚æ­¥æ“ä½œæŠŠå¹¶å‘æ“ä½œæ”¾æ•°ç»„/å¯¹è±¡ä¸­æ”¾yieldåŽé¢lesson4 asyncå‡½æ•°è¯­æ³•ç³–æ¯”è¾ƒ123456789101112function* asyncReadFile () &#123; const f1 = yield readFile('/etc/fstab'); const f2 = yield readFile('/etc/shells'); console.log(f1.toString()); console.log(f2.toString());&#125;;const asyncReadFile = async function () &#123; const f1 = await readFile('/etc/fstab'); const f2 = await readFile('/etc/shells'); console.log(f1.toString()); console.log(f2.toString());&#125;;çœ‹èµ·æ¥åªæ˜¯å†™æ³•çš„æ›¿æ¢ï¼Œå®žé™…ä¸Šæœ‰è¿™æ ·çš„åŒºåˆ«asyncå‡½æ•°å†…ç½®æ‰§è¡Œå™¨ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œnextæ–¹æ³•ï¼Œä¸éœ€è¦å¼•å…¥coæ¨¡å—asyncé€‚ç”¨æ›´å¹¿ï¼Œcoæ¨¡å—å¯¹yieldåŽçš„å†…å®¹ä¸¥æ ¼é™åˆ¶ä¸ºThunkå‡½æ•°æˆ–Promiseå¯¹è±¡ï¼Œè€ŒawaitåŽå¯ä»¥æ˜¯Promiseå¯¹è±¡æˆ–åŽŸå§‹ç±»åž‹å€¼è¿”å›žPromiseï¼Œè¿™ç‚¹å’Œcoæ¯”è¾ƒåƒç”¨æ³•asyncæ ‡è¯†è¯¥å‡½æ•°å†…éƒ¨æœ‰å¼‚æ­¥æ“ä½œç”±äºŽasyncå‡½æ•°è¿”å›žçš„æ˜¯Promiseï¼Œæ‰€ä»¥å¯ä»¥å°†asyncå‡½æ•°ä½œä¸ºawaitå‘½ä»¤çš„å‚æ•°asyncå‡½æ•°å¯ä»¥ä½¿ç”¨åœ¨å‡½æ•°ã€æ–¹æ³•é€‚ç”¨çš„è®¸å¤šåœºæ™¯è¯­æ³•è¿”å›žçš„Promiseasyncå‡½æ•°åªæœ‰åœ¨æ‰€æœ‰awaitåŽçš„Promiseæ‰§è¡Œå®Œä»¥åŽæ‰ä¼šæ”¹å˜è¿”å›žçš„Promiseå¯¹è±¡çš„çŠ¶æ€ï¼ˆreturnæˆ–è€…æŠ›é”™é™¤å¤–ï¼‰å³åªæœ‰åœ¨å†…éƒ¨æ“ä½œå®Œæˆä»¥åŽæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•asyncå‡½æ•°å†…éƒ¨returnçš„å€¼ä¼šä½œä¸ºè¿”å›žçš„Promiseçš„thenæ–¹æ³•å›žè°ƒå‡½æ•°çš„å‚æ•°asyncå‡½æ•°å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ä¼šä½¿å¾—è¿”å›žçš„Promiseå˜æˆrejectedçŠ¶æ€ï¼ŒåŒæ—¶é”™è¯¯ä¼šè¢«catchæ•èŽ·asyncå‘½ä»¤åŠå…¶åŽçš„Promiseasyncå‘½ä»¤åŽå¦‚æžœä¸æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œåˆ™ä¼šè¢«è½¬æˆä¸€ä¸ªresolvedçš„Promiseasyncå‘½ä»¤åŽçš„Promiseå¦‚æžœæŠ›é”™äº†å˜æˆrejectedçŠ¶æ€æˆ–è€…ç›´æŽ¥rejectedäº†ï¼Œéƒ½ä¼šä½¿å¾—asyncå‡½æ•°çš„æ‰§è¡Œä¸­æ–­ï¼Œé”™è¯¯å¯ä»¥è¢«thenæ–¹æ³•çš„å›žè°ƒå‡½æ•°catchåˆ°å¦‚æžœå¸Œæœ›asyncçš„ä¸€ä¸ªawait Promiseä¸å½±å“åˆ°å…¶ä»–çš„await Promiseï¼Œå¯ä»¥å°†è¿™ä¸ªawait Promiseæ”¾åˆ°ä¸€ä¸ªtryâ€¦catchä»£ç å—ä¸­ï¼Œè¿™æ ·åŽé¢çš„ä¾ç„¶ä¼šæ­£å¸¸æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å°†å¤šä¸ªawait Promiseæ”¾åœ¨ä¸€ä¸ªtryâ€¦catchä»£ç å—ä¸­ï¼Œæ­¤å¤–è¿˜å¯ä»¥åŠ ä¸Šé”™è¯¯é‡è¯•ä½¿ç”¨æ³¨æ„ç›¸äº’ç‹¬ç«‹çš„å¼‚æ­¥ä»»åŠ¡å¯ä»¥æ”¹é€ ä¸‹è®©å…¶å¹¶å‘æ‰§è¡Œï¼ˆPromise.allï¼‰123456let [foo, bar] = await Promise.all([getFoo(), getBar()]);// å¬è¯´ä¸‹é¢è¿™ç§ä¹Ÿå¯ä»¥ï¼Ÿlet fooPromise = getFoo();let barPromise = getBar();let foo = await fooPromise;let bar = await barPromise;forEach123forEach(async function a() &#123; let m = await pro&#125;)è¿™ç§å†™æ³•å¯èƒ½ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œå› ä¸ºforEachæ—¶çš„è‹¥å¹²ä¸ªæ“ä½œæ˜¯å¹¶è¡Œçš„ï¼Œåº”æ”¹ä¸ºforå¾ªçŽ¯å®žçŽ°å…¶å®žå°±æ˜¯å°†æ‰§è¡Œå™¨å’ŒGeneratorå‡½æ•°å°è£…åœ¨ä¸€èµ·ï¼Œè¯¦è§ä¸Šä¸€è¯¾ä¸¾ä¸¾ðŸŒ°å¹¶å‘è¯·æ±‚ï¼Œé¡ºåºè¾“å‡º1234567891011async function logInOrder(urls) &#123; // å¹¶å‘è¯»å–è¿œç¨‹URL const textPromises = urls.map(async url =&gt; &#123; const response = await fetch(url); return response.text(); &#125;); // æŒ‰æ¬¡åºè¾“å‡º for (const textPromise of textPromises) &#123; console.log(await textPromise); &#125;&#125;å¼‚æ­¥éåŽ†å™¨å›žåˆ°è¿‡åŽ»Generatorçš„nextæ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œéœ€è¦ç«‹å³è¿”å›žç»“æžœï¼Œæ‰€ä»¥åœ¨å¤„ç†å¼‚æ­¥æ“ä½œæ—¶æˆ‘ä»¬è¿”å›žçš„å®žé™…ä¸Šæ˜¯{value: Promise, done: false}ç±»ä¼¼è¿™æ ·çš„å¯¹è±¡ã€‚ç†è§£æ²¡é”™çš„è¯Promiseå¯¹è±¡åˆ›å»ºæ—¶ä¼ å…¥çš„å‡½æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œå¼‚æ­¥æ“ä½œä¾‹å¦‚è¯»å–æ–‡ä»¶è¯·æ±‚å°±å¼€å§‹äº†ã€‚è€ŒåŽæˆ‘ä»¬ä¸ºè¿™ä¸ªPromiseå¯¹è±¡æŒ‡å®šthenæ–¹æ³•çš„å‚æ•°å›žè°ƒå‡½æ•°åŽ»æŽ¥æ”¶å¼‚æ­¥æ“ä½œå®Œæˆçš„ä¿¡å·ï¼Œç„¶åŽåœ¨å›žè°ƒå‡½æ•°ä¸­å†æ¬¡è°ƒç”¨nextèŽ·å–ä¸‹ä¸€ä¸ª{value: Promise, done: false}ææ¡ˆï¼šä¸ºå¼‚æ­¥æ“ä½œæä¾›åŽŸç”Ÿçš„éåŽ†å™¨æŽ¥å£ï¼Œä½¿å¾—valueå’Œdoneå€¼éƒ½å¯ä»¥å¼‚æ­¥è¿”å›žï¼Œç§°ä¸ºå¼‚æ­¥éåŽ†å™¨moreç´¯äº†ï¼Œå›°äº†ï¼Œä¸å¼€å¿ƒçœ‹äº†ï¼Œä¸‹æ¬¡å†è¡¥å……]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[js-es6 æ–°ç‰¹æ€§ç¯‡]]></title>
    <url>%2Fposts%2Ff1e10a9%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;æ‰¿ä¸Šä¸€ç¯‡ï¼Œæœ¬ç¬”è®°åŒ…å«es6çš„ä¸€äº›æ–°ä¸œè¥¿ï¼Œå¦‚Reflectï¼ŒProxyï¼ŒIteratorï¼ŒSymbolç­‰ã€‚lesson1 Symbolæ¦‚è¿°javaScriptç¬¬ä¸ƒç§åŽŸå§‹æ•°æ®ç±»åž‹Symbollet s = Symbol(&#39;foo&#39;)é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆï¼Œæ¯ä¸ªSymbolç±»åž‹çš„å˜é‡å€¼éƒ½ç‹¬ä¸€æ— äºŒï¼Œä½œä¸ºä¸€ç§ç±»ä¼¼äºŽå­—ç¬¦ä¸²çš„æ•°æ®ç»“æž„ï¼Œå¯ä»¥é¿å…å˜é‡åå†²çªSymbolå‡½æ•°æŽ¥æ”¶ä¸€ä¸ªå‚æ•°ç”¨äºŽæè¿°è¯¥Symbolå®žä¾‹ï¼Œä¸å½±å“ç”Ÿæˆçš„Symbolå®žä¾‹çš„å€¼Symbolå€¼ä¸èƒ½ä¸Žå…¶ä»–ç±»åž‹è¿›è¡Œè¿ç®—ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸²ä¸­ä¹Ÿä¸å¯ä»¥ï¼‰ï¼Œå¯ä»¥æ˜¾ç¤ºè½¬ä¸ºå­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼ˆString(), Boolean()ï¼‰Symbolä½œä¸ºå±žæ€§åä¸èƒ½ç”¨.ï¼Œå› ä¸º.æ˜¯åŽ»å–å­—ç¬¦ä¸²å¯¹åº”å±žæ€§ååœ¨å¯¹è±¡ä¸­ä½¿ç”¨ä½œä¸ºå±žæ€§åæ—¶ï¼Œéœ€ä½¿ç”¨[s]å¦åˆ™ä¹Ÿä¼šè¢«å½“åšå­—ç¬¦ä¸²Symbol.for, Symbol.keyFor1234let s1 = Symbol.for("foo");Symbol.keyFor(s1) // "foo"let s2 = Symbol("foo"); // å…ˆæœç´¢å…¨å±€ï¼Œå·²å­˜åœ¨è¯¥keyåˆ™è¿”å›žå·²å­˜åœ¨çš„Symbol.keyFor(s2) // undefinedå†…ç½®Symbolå€¼Symbol.hasInstanceå¯¹è±¡çš„Symbol.hasInstanceå±žæ€§æŒ‡å‘ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ï¼Œå…¶ä»–å¯¹è±¡ä½¿ç”¨instanceOfåˆ¤æ–­å®žä¾‹æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªå†…éƒ¨æ–¹æ³•123456class Even &#123; static [Symbol.hasInstance](obj) &#123; return Number(obj) % 2 === 0; &#125;&#125;1 instanceOf EvenSymbol.isConcatSpreadableè¡¨ç¤ºè¯¥å¯¹è±¡ç”¨äºŽArray.prototype.concat()æ—¶æ˜¯å¦å¯ä»¥å±•å¼€ï¼Œæ•°ç»„é»˜è®¤å¯å±•å¼€ï¼Œé»˜è®¤å€¼ä¸ºundefinedï¼Œå¯¹è±¡é»˜è®¤ä¸å¯å±•å¼€Symbol.speciesæŒ‡å‘å½“å‰å¯¹è±¡çš„æž„é€ å‡½æ•°ï¼Œåˆ›é€ å®žä¾‹æ—¶ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå³ä½¿ç”¨è¯¥å±žæ€§è¿”å›žçš„å‡½æ•°ä½œä¸ºæž„é€ å‡½æ•°123static get [Symbol.species]() &#123; return this;&#125;Symbol.match, Symbol.replace, Symbol.split, Symbol.searchSymbol.iteratoræŒ‡å‘è¯¥å¯¹è±¡çš„é»˜è®¤éåŽ†å™¨æ–¹æ³•å¯¹è±¡è¿›è¡Œforâ€¦ofå¾ªçŽ¯æ—¶ï¼Œä¼šè°ƒç”¨Symbol.iteratoræ–¹æ³•ï¼Œè¿”å›žè¯¥å¯¹è±¡çš„é»˜è®¤éåŽ†å™¨è¯¦è§åŽç»­ç« èŠ‚Symbol.toPrimitiveSymbol.toStringTagæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨è¯¥å¯¹è±¡ä¸Šè°ƒç”¨Object.prototype.toString()æ—¶ï¼Œå¦‚æžœè¯¥å±žæ€§å­˜åœ¨ï¼Œåˆ™ä»–çš„è¿”å›žå€¼ä¼šå‡ºçŽ°åœ¨toStringæ–¹æ³•è¿”å›žçš„å­—ç¬¦ä¸²ä¹‹ä¸­ï¼Œæ¯”å¦‚[Object Array]æ–°å¢žå†…ç½®å¯¹è±¡ä¸¾ä¸ªä¾‹å­ï¼šJSON[Symbol.toStringTag]ï¼š&#39;JSON&#39;lesson2 Setå’ŒMapSetåŸºæœ¬Setæž„é€ å‡½æ•°ç”Ÿæˆï¼Œæˆå‘˜å€¼å”¯ä¸€ï¼Œ(åˆ¤æ–­ä¸Ž===åŒºåˆ«åœ¨äºŽNaN)ï¼Œä¸¤ä¸ªç©ºå¯¹è±¡è§†ä¸ºä¸åŒå®žä¾‹å±žæ€§å’Œæ–¹æ³•å±žæ€§ï¼š Set.prototype.constructor, Set.prototype.sizeæ–¹æ³•ï¼š add(value), delete(value), has(value), clear()123456Array.fromå¯ä»¥å°†Setè½¬ä¸ºæ•°ç»„// æ•°ç»„åŽ»é‡function dedupe(array) &#123; return Array.from(new Set(array)); // return [...new Set(array)]&#125;éåŽ†keys(), values(), entries(), forEach() æ–¹æ³•éåŽ†é¡ºåºä¸ºæ’å…¥é¡ºåºï¼Œæˆ–å¯ç”¨äºŽè®¾ç½®æŒ‡å®šé¡ºåºçš„å›žè°ƒå‡½æ•°Setçš„é”®åé”®å€¼ç›¸åŒSeté»˜è®¤å¯éåŽ†ï¼Œé»˜è®¤éåŽ†å™¨ç”Ÿæˆå‡½æ•°æ˜¯valuesæ–¹æ³•ï¼Œè¿™æ„å‘³ç€ï¼Œå¯ä»¥çœç•¥valuesæ–¹æ³•ï¼Œç›´æŽ¥ç”¨forâ€¦ofå¾ªçŽ¯éåŽ† SetSet.prototype[Symbol.iterator] === Set.prototype.values...å†…éƒ¨ä½¿ç”¨for ... ofï¼Œæ•…å¯ä»¥ä½¿ç”¨[...Set]ï¼Œè½¬ä¸ºæ•°ç»„åŽå¯ä»¥æ–¹ä¾¿ä½¿ç”¨æ•°ç»„æ–¹æ³•å¦‚mapå’ŒfilterWeakSetæˆå‘˜åªèƒ½ä¸ºå¯¹è±¡å¼±å¼•ç”¨ï¼Œåžƒåœ¾å›žæ”¶æœºåˆ¶å¯¹å¯¹è±¡å¼•ç”¨è®¡æ•°æ—¶ä¸è€ƒè™‘WeakSetä¸­å¯¹å¯¹è±¡çš„å¼•ç”¨new WeakSet() å¯ä»¥æŽ¥æ”¶ä»»ä½•å…·æœ‰ Iterable æŽ¥å£çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä½†å¿…é¡»æ³¨æ„åŠ å…¥WeakSetçš„æˆå‘˜å¿…é¡»ä¸ºå¯¹è±¡WeakSetæœ‰ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼šadd(value), delete(value), has(value)ï¼Œæ²¡æœ‰sizeå±žæ€§ï¼Œä¸å¯éåŽ†ï¼ˆæ²¡æœ‰forEachå’Œclearæ–¹æ³•ï¼‰MapåŸºæœ¬é”®å€¼å¯¹çš„é›†åˆï¼ˆHashç»“æž„ï¼‰ï¼Œé”®å’Œå¯¹è±¡ä¸ä¸€æ ·ï¼Œä¸å±€é™äºŽå­—ç¬¦ä¸²ã€‚ä»»ä½•å…·æœ‰ Iterator æŽ¥å£ã€ä¸”æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ çš„æ•°ç»„çš„æ•°æ®ç»“æž„éƒ½å¯ä»¥ä½œä¸ºMapæž„é€ å‡½æ•°çš„å‚æ•°åªæœ‰å¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æˆ–è€…ä¸¥æ ¼ç›¸ç­‰çš„ç®€å•ç±»åž‹ï¼ˆåŒ…æ‹¬NaNï¼‰æ‰ä¼šç”Ÿæˆä¸€æ ·çš„Mapå®žä¾‹å±žæ€§å’Œæ–¹æ³•å±žæ€§ï¼š Map.prototype.constructor, Map.prototype.sizeæ–¹æ³•ï¼š set(), get(), delete(value), has(value), clear()éåŽ†ç±»ä¼¼ä¸Šè¿°Setçš„éåŽ†Map ç»“æž„çš„é»˜è®¤éåŽ†å™¨æŽ¥å£ï¼ˆSymbol.iteratorå±žæ€§ï¼‰ï¼Œå°±æ˜¯entriesæ–¹æ³•ä¸Žå…¶ä»–æ•°æ®ç»“æž„è½¬æ¢æ•°ç»„ï¼Œå¯¹è±¡ï¼ŒJSONäº’è½¬1234567function strMapToObj(strMap) &#123; let obj = Object.create(null); for (let [k,v] of strMap) &#123; obj[k] = v; &#125; return obj;&#125;WeakMapé”®ååªèƒ½ä¸ºå¯¹è±¡WeakMapçš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åžƒåœ¾å›žæ”¶æœºåˆ¶WeakMapæœ‰ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼šget, set, delete(value), has(value)ï¼Œæ²¡æœ‰sizeå±žæ€§ï¼Œä¸å¯éåŽ†ï¼ˆæ²¡æœ‰forEachå’Œclearæ–¹æ³•ï¼‰lesson3 Proxyè§‚å¯Ÿä¸¾ä¸ªæ —å­å½“ä½ ä¸ºå¯¹è±¡aèµ‹å€¼a.b=cæ—¶ï¼Œä½ å¸Œæœ›åœ¨bå±žæ€§èµ‹å€¼æ—¶æœ‰ä¸€ä¸ªèŒƒå›´å¤§å°çš„æ ¡éªŒï¼Œè¶…å‡ºèŒƒå›´æŠ›é”™ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°é‡è½½setæ–¹æ³•,æ¯”å¦‚ï¼š123456789let a = &#123;&#125;Object.defineProperty(a, 'b', &#123; set(x) &#123; if (x&gt;100) &#123; throw new RangeError('invalid range') &#125; this.b = x &#125;&#125;)åŠ¨æ‰‹ä»¥åŽå‘çŽ°ä¸€ä¸ªé—®é¢˜â€¦è¿™æ ·ä¼šæ ˆæº¢å‡ºï¼Œå› ä¸ºåœ¨setå†…å†setäº†bçš„å€¼ï¼Œæ— é™å¾ªçŽ¯â€¦å˜é€šä¸€ä¸‹ï¼š123456789101112let a = &#123;&#125;Object.defineProperty(a, 'b', &#123; get(x) &#123; return this.c &#125; set(x) &#123; if (x&gt;100) &#123; throw new RangeError('invalid range') &#125; this.c = x &#125;&#125;)ç„¶è€Œæ€»è¦è¿™ä¹ˆå†™æ„Ÿè§‰å¾ˆéº»çƒ¦ï¼Œè€Œä¸”å¦‚æžœæ˜¯å¯¹ä¸€ç±»å±žæ€§è¿›è¡Œæ“ä½œæ—¶ï¼Œé‡å¤å†™å¾ˆæ²¡å¿…è¦ï¼Œæ¢ç”¨Proxyå†™æ³•ï¼š123456789101112let a = &#123;&#125;let handler = &#123; set(obj, prop, value, receiver) &#123; if (prop === 'b') &#123; if (value&gt;100) &#123; throw new RangeError('invalid range') &#125; &#125; obj[prop] = value &#125;&#125;let proxy = new Proxy(a, handler)çœ‹èµ·æ¥ä¹Ÿèˆ’æœå¤šäº†ï¼Œè€Œä¸”å¯ä»¥æ ¹æ®å±žæ€§ååœ¨setæ–¹æ³•å†…åšåˆ¤æ–­ï¼Œæ›´å¯æ‰©å±•åº–ä¸è§£ç‰›ä»£ç†proxy123456789101112let target = &#123;&#125;;let handler = &#123;&#125;;let proxy = new Proxy(target, handler);// å°†ä»£ç†çš„æ‰€æœ‰å†…éƒ¨æ–¹æ³•è½¬å‘è‡³ç›®æ ‡proxy.a = 1 =&gt; target.a = 1;target.b = 4 =&gt; proxy.b = 4;target !== proxytarget.__proto__ === proxy.__proto__// åº”åœ¨ä»£ç†å¯¹è±¡ä¸Šæ“ä½œï¼Œä»£ç†æ‰èƒ½ç”Ÿæ•ˆhandler = &#123;get()&#123;return 12&#125;&#125;target.v // undefinedproxy.v // 12Proxyæ”¯æŒçš„æ‹¦æˆªæ“ä½œ12345678910111213get(target, propKey, receiver) // proxy.foo, proxy['foo']set(target, propKey, value, receiver) //proxy.foo = v, proxy['foo'] = vhas(target, propKey) // propKey in proxydeleteProperty(target, propKey) // delete proxy[propKey]ownKeys(target) // Object.getOwnPropertyNames(proxy), Object.getOwnPropertySymbols(proxy), Object.keys(proxy)getOwnPropertyDescriptor(target, propKey) // Object.getOwnPropertyDescriptor(proxy, propKey)defineProperty(target, propKey, propDesc) // Object.defineProperty(proxy, propKey, propDesc), Object.defineProperties(proxy, propDescs)preventExtensions(target) // Object.preventExtensions(proxy)getPrototypeOf(target) // Object.getPrototypeOf(proxy)isExtensible(target) // Object.isExtensible(proxy)setPrototypeOf(target, proto) // Object.setPrototypeOf(proxy, proto)apply(target, object, args) // æ‹¦æˆª Proxy å®žä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚proxy(...args)ã€proxy.call(object, ...args)ã€proxy.apply(...)construct(target, args) // new proxy(...args)ä»£ç†å¥æŸ„handlerå¥æŸ„å¯¹è±¡çš„æ–¹æ³•å¯ä»¥å¤å†™ä»£ç†çš„å†…éƒ¨æ–¹æ³•ï¼Œå…·ä½“ä¸ºä¸Šè¿°çš„14ç§ã€‚ä¸¾ä¸ªðŸŒ°12345678910111213function Tree() &#123; return new Proxy(&#123;&#125;, handler);&#125;var handler = &#123; get: function (target, key, receiver) &#123; if (!(key in target)) &#123; target[key] = Tree(); // è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå­æ ‘ &#125; return Reflect.get(target, key, receiver); &#125;&#125;var tree = new Tree()tree.branch1.branch2.twig = "green"å†æ¥ä¸ªðŸŒ°123456789101112// å®žçŽ°å¯¹inæ“ä½œç¬¦éšè—å±žæ€§var handler = &#123; has (target, key) &#123; if (key[0] === '_') &#123; return false; &#125; return key in target; &#125;&#125;;var target = &#123; _prop: 'foo', prop: 'foo' &#125;;var proxy = new Proxy(target, handler);'_prop' in proxy // falseç‰¹åˆ«æ³¨æ„å¦‚æžœç›®æ ‡å¯¹è±¡ä¸å¯æ‰©å±•æˆ–è€…ç›®æ ‡å¯¹è±¡çš„å±žæ€§ä¸å¯å†™æˆ–è€…ä¸å¯é…ç½®æ—¶ï¼Œä»£ç†ä¸èƒ½ç”Ÿæ•ˆï¼Œå¯èƒ½ä¼šæŠ¥é”™éœ€æ³¨æ„ä¸€äº›ç‰¹å®šçš„æ–¹æ³•å¯¹è¿”å›žå€¼æœ‰è¦æ±‚ï¼Œä¸å¦‚é‡å†™isExtensibleæ–¹æ³•æ—¶ï¼Œè¿”å›žå€¼ä¸Žç›®æ ‡å¯¹è±¡çš„isExtensibleå±žæ€§åº”ä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ¥é”™åˆ©ç”¨ä»£ç†é‡å†™å¯ä»¥åšå¾ˆå¤šäº‹æƒ…æ¯”å¦‚éšè—å±žæ€§ã€å¯¹æŸäº›å±žæ€§ã€æ“ä½œç¬¦å±è”½ã€æ‹¦æˆªå†…åœ¨æ–¹æ³•å¹¶ä¸”åŠ ä¸Šè‡ªå·±æƒ³è¦çš„é€»è¾‘å¤„ç†åŽ»å¾—åˆ°é¢„æœŸç»“æžœç­‰é¥­åŽç”œç‚¹Proxy.revocableè¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œproxyå±žæ€§å¯¹åº”Proxyå®žä¾‹ï¼Œrevokeå±žæ€§ä¸ºrevokeæ–¹æ³•å¯ä»¥å–æ¶ˆProxyå®žä¾‹1234let &#123;proxy, revoke&#125; = Proxy.revocable(target, handler);proxy.foo = 1revoke()proxy.foo // TypeError: Revokedthisé—®é¢˜ä»£ç†ä»¥åŽç›®æ ‡å¯¹è±¡å†…éƒ¨çš„thisæŒ‡å‘çš„æ˜¯Proxyå®žä¾‹è€Œä¸æ˜¯ç›®æ ‡å¯¹è±¡æœ‰æ—¶å€™å¯èƒ½å› ä¸ºthisæŒ‡å‘é—®é¢˜å¯¼è‡´ä»£ç†è¾¾ä¸åˆ°é¢„æœŸæ•ˆæžœ1234567891011121314// janeçš„nameå±žæ€§å®žé™…å­˜å‚¨åœ¨å¤–éƒ¨çš„WeakMapå¯¹è±¡çš„_nameä¸Šï¼Œå¯¼è‡´åŽç»­å–ä¸åˆ°å€¼const _name = new WeakMap();class Person &#123; constructor(name) &#123; _name.set(this, name); &#125; get name() &#123; return _name.get(this); &#125;&#125;const jane = new Person('Jane');jane.name // 'Jane'const proxy = new Proxy(jane, &#123;&#125;);proxy.name // undefinedæŸäº›åŽŸç”Ÿå¯¹è±¡çš„éƒ¨åˆ†å±žæ€§éœ€è¦thisæŒ‡å‘åŽŸç”Ÿå¯¹è±¡æ—¶æ‰èƒ½èŽ·å–ï¼Œå¦‚Date.getDate()ï¼Œæ­¤æ—¶proxy getæ—¶éœ€è¦æ³¨æ„thisç»‘å®šåŽŸå§‹å¯¹è±¡1234567891011const target = new Date('2015-01-01');const handler = &#123; get(target, prop) &#123; if (prop === 'getDate') &#123; return target.getDate.bind(target); &#125; return Reflect.get(target, prop); &#125;&#125;;const proxy = new Proxy(target, handler);proxy.getDate() // 1è¿›é˜¶TO BE CONTINUED!lesson4 Reflectåˆè¯†Reflectå¯¹è±¡ä¸ŽProxyå¯¹è±¡ä¸€æ ·ï¼Œæ˜¯ä¸ºäº†æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–°APIï¼Œå­˜åœ¨çš„åŽŸå› å¦‚ä¸‹ï¼šå°†Objectå¯¹è±¡çš„ä¸€äº›å†…éƒ¨æ–¹æ³•æ·»åŠ åˆ°Reflectå¯¹è±¡ä¸Šï¼Œä¸”ä»¥åŽçš„æ–°æ–¹æ³•éƒ½éƒ¨ç½²åˆ°Reflectå¯¹è±¡ä¸Šï¼Œå®Œæˆåˆ†ç¦»è®©å¯¹è±¡æ“ä½œå˜æˆå‡½æ•°è¡Œä¸ºä¿®æ”¹Objectå¯¹è±¡ä¸€äº›å†…éƒ¨æ–¹æ³•åœ¨å‡ºé”™æ—¶çš„è¿”å›žProxyè¦†å†™å¯¹è±¡æ–¹æ³•æ—¶ï¼Œæä¾›ä¸€ä¸ªReflectå¯¹è±¡ç”¨æ¥èŽ·å–åŽŸå§‹æ–¹æ³•ï¼Œä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œå†æ­¤åŸºç¡€ä¸Šå†åšåŠŸèƒ½æ·»åŠ å’Œä¿®æ”¹æ­é¢é™æ€æ–¹æ³•å¯¹åº”äºŽProxyå¯è¦†å†™çš„æ–¹æ³•ï¼Œæœ‰13ä¸ªé™æ€æ–¹æ³•æ³¨æ„Proxyå’ŒReflectè”ç”¨çš„æ—¶å€™è¦å°å¿ƒï¼Œå¯èƒ½ä¸€ä¸ªæ‹¦æˆªä¼šè§¦å‘å¦ä¸€ä¸ªæ‹¦æˆª1234567891011121314151617let p = &#123; a: 'a'&#125;;let handler = &#123; set(target, key, value, receiver) &#123; console.log('set'); Reflect.set(target, key, value, receiver) &#125;, defineProperty(target, key, attribute) &#123; console.log('defineProperty'); Reflect.defineProperty(target, key, attribute); &#125;&#125;;let obj = new Proxy(p, handler);obj.a = 'A';// set// definePropertyåœ¨Reflect.setä¼ å…¥receiverçš„æ—¶å€™è§¦å‘äº†Proxy.definePropertyï¼Œä¸ä¼ å…¥receiveræ—¶ä¸ä¼šè§¦å‘definePropertyæ‹¦æˆªå¯¹äºŽå‚æ•°çš„è¦æ±‚ã€è½¬æ¢å’ŒæŠ¥é”™å¤„ç†ðŸŒ°ä½¿ç”¨Proxyå®žçŽ°è§‚å¯Ÿè€…æ¨¡å¼1234567891011121314151617181920const person = observable(&#123; name: 'å¼ ä¸‰', age: 20&#125;);function print() &#123; console.log(`$&#123;person.name&#125;, $&#123;person.age&#125;`)&#125;observe(print);person.name = 'æŽå››';// è¾“å‡º// æŽå››, 20/**************************/const queuedObservers = new Set();const observe = fn =&gt; queuedObservers.add(fn);const observable = obj =&gt; new Proxy(obj, &#123;set&#125;);function set(target, key, value, receiver) &#123; const result = Reflect.set(target, key, value, receiver); queuedObservers.forEach(observer =&gt; observer()); return result;&#125;lesson5 éåŽ†å™¨Iteratoré‡è§why Iteratorjsä¸­æ•°æ®é›†åˆçš„æ¦‚å¿µè¶Šæ¥è¶Šå¤šï¼Œå¦‚æžœèƒ½æœ‰ä¸€ç§ç»Ÿä¸€çš„è®¿é—®æ–¹å¼å°†æ˜¯æžå¥½çš„ã€‚Iteratorçš„è®¾è®¡å°±åŸºäºŽæ­¤ï¼Œé€šè¿‡ä¸ºç›¸åº”æ•°æ®ç»“æž„éƒ¨ç½²iteratoræŽ¥å£è®©è¯¥æ•°æ®ç»“æž„å¯é€šè¿‡ç»Ÿä¸€çš„æ–¹å¼:forâ€¦oféåŽ†éåŽ†è¿‡ç¨‹ï¼šåˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡æŒ‡å‘å½“å‰æ•°æ®ç»“æž„çš„åˆå§‹ä½ç½®ï¼ˆéåŽ†å™¨å¯¹è±¡å®žé™…ä¸ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼‰è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œç›´åˆ°æŒ‡å‘æ•°æ®ç»“æž„çš„ç»“æŸä½ç½®1234567891011// éåŽ†å™¨ç”Ÿæˆå‡½æ•°function makeIterator(array) &#123; var nextIndex = 0; return &#123; next: function() &#123; return nextIndex &lt; array.length ? &#123;value: array[nextIndex++]&#125; : &#123;done: true&#125;; &#125; &#125;;&#125;ä¸€ç§æ•°æ®ç»“æž„ï¼Œåªè¦éƒ¨ç½²äº†IteratoræŽ¥å£ï¼Œå°±è§†ä¸ºå¯éåŽ†çš„ç›¸è¯†é»˜è®¤IteratoræŽ¥å£é»˜è®¤çš„IteratoræŽ¥å£éƒ¨ç½²åœ¨[Symbol.iterator]å±žæ€§ä¸Šï¼ŒSymbol.iteratorå±žæ€§é”®ä¸ºSymbolå¯¹è±¡ï¼Œå€¼ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå³éåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œæ‰§è¡Œè¯¥å‡½æ•°ä¼šè¿”å›žä¸€ä¸ªéåŽ†å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰ä¸€ä¸ªnextæ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•å¯ä»¥è¿”å›ž{value, done}å¯¹è±¡ï¼Œä»£è¡¨äº†å½“å‰æˆå‘˜çš„ä¿¡æ¯éƒ¨åˆ†æ•°æ®ç»“æž„å¦‚Arrayã€Setã€Mapã€Stringç­‰å·²ç»éƒ¨ç½²äº†IteratoræŽ¥å£ï¼Œå¯¹è±¡åˆ™éœ€è¦æ‰‹åŠ¨æ·»åŠ è¿™æ ·çš„æ–¹æ³•å®žçŽ°IteratoræŽ¥å£å¯¹äºŽéžçº¿æ€§æ•°æ®ç»“æž„ï¼ŒIteratoræŽ¥å£å®žé™…ä¸Šå°±æ˜¯ä¸€ç§çº¿æ€§è½¬æ¢ï¼Œä¸‹ä¾‹ä¸ºclasså®žçŽ°éåŽ†å™¨123456789101112131415161718192021class RangeIterator &#123; constructor(start, stop) &#123; this.value = start; this.stop = stop; &#125; [Symbol.iterator]() &#123; return this; &#125; next() &#123; var value = this.value; if (value &lt; this.stop) &#123; this.value++; return &#123;done: false, value: value&#125;; &#125; return &#123;done: true, value: undefined&#125;; &#125;&#125;function range(start, stop) &#123; return new RangeIterator(start, stop);&#125;for (var value of range(0, 3)) &#123; console.log(value); // 0, 1, 2&#125;ä¸¾ä¸ªðŸŒ°å®žçŽ°æŒ‡é’ˆ12345678910111213141516171819202122232425262728293031323334function Node(value) &#123; this.value = value; this.next = null&#125;// for...ofæ—¶ä¼šè°ƒç”¨æ”¹éåŽ†å™¨ç”Ÿæˆå‡½æ•°Node.prototype[Symbol.iterator]= function() &#123; // è¿”å›žçš„éåŽ†å™¨å¯¹è±¡ var iterator = &#123; next: next &#125; // å½“å‰æˆå‘˜ var current = this next() &#123; if(current) &#123; var value = current.value; // ç§»åŠ¨æŒ‡é’ˆ current = current.next; return &#123; done: false, value: value &#125;; &#125; return &#123; done: true, value: undefined &#125;; &#125; return iterator&#125;// æ–°å»ºå¯¹è±¡ï¼Œå› ä¸ºåœ¨åŽŸåž‹ä¸Šå®žçŽ°çš„éåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œæ‰€ä»¥æ¯ä¸ªå®žä¾‹éƒ½å®žçŽ°äº†éåŽ†å™¨æŽ¥å£var one = new Node(1);var two = new Node(2);var three = new Node(3);// å½“å‰æˆå‘˜çš„nextæŒ‡å‘ä¸‹ä¸€ä¸ªæˆå‘˜ï¼Œåœ¨nextæ–¹æ³•ä¸­å®žçŽ°æŒ‡é’ˆç§»åŠ¨one.next = two;two.next = three;// å¯¹å¯¹è±¡ä½¿ç”¨for...ofæ—¶ï¼ŒåŽ»æŸ¥æ‰¾[Symbol.iterator]å±žæ€§ï¼Œæ‰¾åˆ°åŽå¾ªçŽ¯è°ƒç”¨nextæ–¹æ³•ï¼Œç›´åˆ°è¿”å›žå€¼å¾—doneå±žæ€§ä¸ºtruefor (var i of one)&#123; console.log(i); // 1, 2, 3&#125;å¦‚æžœSymbol.iteratoræ–¹æ³•å¯¹åº”çš„ä¸æ˜¯éåŽ†å™¨ç”Ÿæˆå‡½æ•°ï¼Œåˆ™ä¼šæŠ¥é”™åœ¨ä½•æ–¹è°ƒç”¨åœºåˆè§£æž„èµ‹å€¼æ‰©å±•è¿ç®—ç¬¦ä»»ä½•å®žçŽ°äº†IteratoræŽ¥å£ï¼ˆå¯éåŽ†ï¼‰çš„æ•°æ®ç»“æž„éƒ½å¯ä»¥é€šè¿‡...å°†å…¶è½¬åŒ–ä¸ºæ•°ç»„yield*åŽè·Ÿä¸€ä¸ªå¯éåŽ†æ•°æ®ç»“æž„æ—¶ï¼Œä¼šè°ƒç”¨è¯¥ç»“æž„çš„éåŽ†å™¨æŽ¥å£for...of, Array.from, Map, Set, Promise.all(), Promise.race()å­—ç¬¦ä¸²ã€æ•°ç»„ç­‰çš„éåŽ†å™¨å­—ç¬¦ä¸²forâ€¦ofèƒ½å¤Ÿæ­£ç¡®è¯†åˆ«32ä½UTF-16å­—ç¬¦12345678var someString = "hi";typeof someString[Symbol.iterator]// "function"var iterator = someString[Symbol.iterator]();// å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¿®æ”¹Symbol.iteratoræ–¹æ³•è¾¾åˆ°ä½ æƒ³è¦çš„éåŽ†ç»“æžœiterator.next() // &#123; value: "h", done: false &#125;iterator.next() // &#123; value: "i", done: false &#125;iterator.next() // &#123; value: undefined, done: true &#125;return, throwæ–¹æ³•è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯åœ¨è®¾ç½®éåŽ†å™¨ç”Ÿæˆå‡½æ•°æ—¶å¯é€‰çš„ï¼Œä¸€èˆ¬é…åˆgeneratorä½¿ç”¨ï¼Œæ‰€ä»¥ä¸‹æ¬¡å†è¯´æ•°ç»„for â€¦ of åªè¿”å›žå…·æœ‰æ•°å­—ç´¢å¼•çš„é”®å€¼çš„å€¼ç±»æ•°ç»„å¯¹è±¡å¯ä»¥ä½¿ç”¨æ•°ç»„çš„é»˜è®¤éåŽ†ç”Ÿæˆå™¨è¾¾åˆ°éåŽ†æ•ˆæžœï¼ˆè¦æ±‚æ˜¯æ•°å­—ç´¢å¼•ä»¥åŠå…·æœ‰lengthå±žæ€§ï¼‰Map, Set1234// MapéåŽ†è¿”å›žçš„æ˜¯æ•°ç»„[k, v]ï¼ŒSetè¿”å›žçš„æ˜¯å€¼for (let [key, value] of map) &#123; console.log(key + ' : ' + value);&#125;ç±»æ•°ç»„å¯¹è±¡åˆ©ç”¨Array.fromå°†å…¶è½¬åŒ–ä¸ºæ•°ç»„ï¼Œå†ä½¿ç”¨æ•°ç»„çš„éåŽ†å™¨æŽ¥å£ç”¨forâ€¦ofå®žçŽ°éåŽ†for â€¦ of æ³¨æ„å¯ä»¥ç»“åˆbreakã€continueã€returnä½¿ç”¨æä¾›äº†å¤šç§æ•°æ®ç»“æž„çš„ç»Ÿä¸€è®¿é—®æ–¹å¼ç›¸æ¯”for â€¦ inï¼ŒåŽè€…éåŽ†çš„æ˜¯é”®ï¼Œä¸”é”®åä¸ºå­—ç¬¦ä¸²ï¼Œè¿˜å¯èƒ½ä¼šéåŽ†åŽŸåž‹ä¸Šçš„é”®]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[js-es6 åŸºç¡€ç¯‡]]></title>
    <url>%2Fposts%2F96174113%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;å¤§ä½¬ä»¬es7, es8å†™å¾—å—¨çš®çš„æ—¶å€™ï¼Œæˆ‘å´è¿˜åœ¨es6å­¦ä¹ â€¦æœ¬æ–‡ä¸ºé˜…è¯»é˜®ä¸€å³°è€å¸ˆçš„ç³»åˆ—æ–‡ç« è®°ä¸‹çš„es6åŸºç¡€ç¯‡ç¬”è®°ã€‚lesson1 introduceæ–°çš„è¯­æ³•æˆä¸ºæ ‡å‡†çš„è¿‡ç¨‹stage12345Stage 0 - Strawmanï¼ˆå±•ç¤ºé˜¶æ®µï¼‰Stage 1 - Proposalï¼ˆå¾æ±‚æ„è§é˜¶æ®µï¼‰Stage 2 - Draftï¼ˆè‰æ¡ˆé˜¶æ®µï¼‰Stage 3 - Candidateï¼ˆå€™é€‰äººé˜¶æ®µï¼‰Stage 4 - Finishedï¼ˆå®šæ¡ˆé˜¶æ®µï¼‰babel.babelrc12345678910npm install --save-dev babel-preset-latest&#123; presets: [ "latest", "react", "stage-2" ], plugins: []&#125;# presetsçš„å€¼é›†æœ‰latestï¼Œreactï¼Œstage-0 to stage-3ï¼ˆå¯¹åº”ä¸åŒé˜¶æ®µçš„ææ¡ˆï¼Œé€‰æ‹©ä¸€ä¸ªï¼‰babel-cli1234# -sç”Ÿæˆsourcemapï¼Œ-oæŒ‡å®šæ–‡ä»¶ï¼Œ-dæŒ‡å®šç›®å½•babel example.js -o compiled.js -s# babel-nodeæä¾›æ”¯æŒES6çš„REPLçŽ¯å¢ƒï¼Œç›®æ ‡æ–‡ä»¶ä¸éœ€è¦è€ƒè™‘è½¬ç babel-node es6.jsbabel-register123æä¾›ä¸€ä¸ªé’©å­ï¼Œåœ¨requireåŠ è½½`.js`, `.jsx`, `.es`, `.es6`åŽç¼€çš„æ–‡ä»¶æ—¶å…ˆç”¨babelå®žæ—¶è½¬ç ï¼Œéœ€åœ¨requireåˆ«çš„æ–‡ä»¶å‰å…ˆrequireè¯¥æ¨¡å—require("babel-register");require("./index.js");babel-core1234éœ€è¦è°ƒç”¨babelçš„apiæ—¶ï¼Œéœ€è¦requireè¯¥æ¨¡å—var babel = require('babel-core');// å­—ç¬¦ä¸²è½¬ç babel.transform('code();', options);babel-polyfill12é»˜è®¤æƒ…å†µä¸‹babelåªè½¬å¥æ³•ï¼Œä¸è½¬ä¸€äº›es6æ–°çš„å¯¹è±¡ä»¥åŠæ–¹æ³•ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦åœ¨è„šæœ¬å¤´éƒ¨å¼•å…¥è¯¥æ¨¡å—è½¬æ¢ä½¿å…¶å¯ç”¨import 'babel-polyfill';Traceur1googleæä¾›çš„babelæ›¿ä»£å“lesson2 let/constTDZåªåœ¨å£°æ˜Žçš„å—çº§ä½œç”¨åŸŸåŸŸå†…æœ‰æ•ˆã€ä¸å¯é‡å¤å£°æ˜Žã€TDZå¾ªçŽ¯ä½“å’Œå¾ªçŽ¯æ¡ä»¶ä¸­çš„iæœ‰å•ç‹¬çš„ä½œç”¨åŸŸ1234for (let i = 0; i &lt; 3; i++) &#123; let i = 'abc'; console.log(i); //è¾“å‡º3æ¬¡&#125;TDZ12345678910// åœ¨è¯¥åŒºåŸŸå†…let/constå®šä¹‰çš„å˜é‡ï¼Œåªæœ‰ç­‰åˆ°å£°æ˜Žä»¥åŽæ‰å¯ä»¥èŽ·å–/ä½¿ç”¨if (true) &#123; // TDZå¼€å§‹ tmp = 'abc'; // ReferenceError console.log(tmp); // ReferenceError let tmp; // TDZç»“æŸ console.log(tmp); // undefined tmp = 123; console.log(tmp); // 123&#125;æ³¨æ„ï¼šå¸¦æ¥çš„é—®é¢˜æ˜¯typeofä¸å†ç»å¯¹å®‰å…¨å—çº§ä½œç”¨åŸŸæ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„é—®é¢˜12345678910// åœºæ™¯1var tmp = new Date();function f() &#123; console.log(tmp); if (false) &#123; var tmp = 'hello world'; &#125;&#125;f(); // undefinedå› ä¸ºå˜é‡æå‡ï¼Œæ‰€ä»¥åœ¨å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°äº†tmpçš„å®šä¹‰ï¼Œä½†æ˜¯æ²¡æœ‰å®Œæˆèµ‹å€¼ï¼Œæ‰€ä»¥æ˜¯undefined// åœºæ™¯2 å…¸åž‹çš„forå¾ªçŽ¯å°†iå˜æˆäº†å…¨å±€å˜é‡å—çº§ä½œç”¨åŸŸå‘Šåˆ«ä¸‘é™‹çš„IIFEå¯¹äºŽes6çš„æµè§ˆå™¨çŽ¯å¢ƒè¿˜è¯´ï¼Œå‡½æ•°å£°æ˜Žç±»ä¼¼äºŽvarï¼Œå¯ä»¥ç†è§£æˆå…ˆå‡½æ•°å˜é‡æå‡var f = undefinedï¼Œç„¶åŽå†ç»§ç»­åŽé¢ï¼Œæ‰€ä»¥ä»¥ä¸‹ä»£ç æ˜¯ä¼šæŠ¥é”™çš„123456789function f() &#123; console.log('I am outside!'); &#125;(function () &#123; if (false) &#123; // é‡å¤å£°æ˜Žä¸€æ¬¡å‡½æ•°f function f() &#123; console.log('I am inside!'); &#125; &#125; f();&#125;());// Uncaught TypeError: f is not a functiondoææ¡ˆ12345åœ¨ä»£ç å—å‰åŠ doï¼Œè¿”å›žæœ€åŽæ‰§è¡Œè¡¨è¾¾å¼çš„å€¼let x = do &#123; let t = f(); t * t + 1;&#125;;constfreezeå¯¹äºŽå¤æ‚ç±»åž‹å˜é‡ï¼Œconstä¿è¯çš„æ˜¯æŒ‡å‘è¯¥å˜é‡çš„å†…å­˜ç©ºé—´çš„åœ°å€æ˜¯ä¸å˜çš„ï¼Œå˜é‡è‹¥æ˜¯å¯å†™çš„æ˜¯å¯ä»¥ä¿®æ”¹å˜é‡çš„å±žæ€§å€¼çš„ã€‚è¦æƒ³å†»ç»“å˜é‡ï¼Œéœ€ä½¿ç”¨Object.freeze()å†»ç»“å¯¹è±¡åŠå¯¹è±¡æ‰€æœ‰å±žæ€§ï¼Œå¦‚ä¸‹ï¼š12345678var constantize = (obj) =&gt; &#123;Object.freeze(obj); Object.keys(obj).forEach( (key, i) =&gt; &#123; if ( typeof obj[key] === 'object' ) &#123; constantize( obj[key] ); &#125; &#125;);&#125;;var function let const classå‰ä¸¤è€…å£°æ˜Žçš„å…¨å±€å˜é‡ä¾ç„¶æ˜¯é¡¶å±‚å¯¹è±¡ï¼ˆwindow/globalï¼‰çš„å±žæ€§ï¼ŒåŽä¸‰è€…ä¸å†æ˜¯ï¼Œä»Ž ES6 å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸Žé¡¶å±‚å¯¹è±¡çš„å±žæ€§è„±é’©ææ¡ˆè€ƒè™‘åˆ°ä¸åŒçŽ¯å¢ƒä¸‹é¡¶å±‚å¯¹è±¡ä¸åŒï¼Œææ¡ˆåœ¨è¯­è¨€æ ‡å‡†å±‚é¢å¼•å…¥globalå¯¹è±¡ä½œä¸ºé¡¶å±‚å¯¹è±¡ï¼Œå³æ‰€æœ‰çŽ¯å¢ƒä¸‹globalå¯¹è±¡éƒ½æ˜¯å­˜åœ¨çš„ï¼Œå¦‚ä¸‹1234567// å°†é¡¶å±‚å¯¹è±¡æ”¾å…¥å˜é‡globalä¸­// CommonJS çš„å†™æ³•var global = require('system.global')();// ES6 æ¨¡å—çš„å†™æ³•import getGlobal from 'system.global';const global = getGlobal();lesson3 è§£æž„æ•°ç»„è§£æž„æ•°ç»„è§£æž„çš„æœ¬è´¨æ˜¯æ¨¡å¼åŒ¹é…ï¼Œåªè¦æŸç§æ•°æ®ç»“æž„å…·æœ‰IteratoræŽ¥å£ï¼Œå°±éƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„å½¢å¼è§£æž„ã€‚egs: Array, Set, Generator.123456// è§£æž„èµ‹å€¼è®¾ç½®é»˜è®¤å€¼æ˜¯æ ¹æ®å³ä¾§æ˜¯å¦===undefinedæ¥å†³å®šå³ä¾§æ˜¯å¦æœ‰å€¼ï¼Œæœ‰åˆ™è¦†ç›–é»˜è®¤å€¼let [i = 1] = [] // 1let [i = 1] = [undefined] // 1let [i = 1] = [null] // null// ä¸‹ä¾‹å¯ä»¥çœ‹å‡ºé»˜è®¤å€¼å…ˆè®¾ç½®ï¼Œå†è¿›è¡Œè§£æž„èµ‹å€¼let [x = 1, y = x] = [1, 2]; // x=1; y=2[a, b, c] = arr equals a = arr[0] b = arr[1]å¯¹è±¡è§£æž„å¯¹è±¡çš„è§£æž„èµ‹å€¼éœ€è¦å˜é‡ä¸Žå¯¹è±¡å±žæ€§åç›¸åŒï¼Œæœ¬è´¨æ˜¯å…ˆæ‰¾åˆ°åŒåçš„å±žæ€§ï¼Œç„¶åŽæŠŠå€¼èµ‹ç»™å¯¹åº”çš„å˜é‡1234567891011// fooæ˜¯åŒ¹é…æ¨¡å¼ï¼Œä¸æ˜¯å˜é‡ï¼Œsssæ˜¯è¢«èµ‹å€¼çš„å˜é‡let &#123; foo: sss, bar: ddd &#125; = &#123; foo: "aaa", bar: "bbb" &#125;;foo // foo is not definedsss // "aaa"// é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ï¼Œå¯¹è±¡çš„å±žæ€§å€¼ä¸¥æ ¼ç­‰äºŽundefinedï¼Œç»“æž„å¤±è´¥ä¸ºundefinedlet &#123; x = 2 &#125; = &#123; x: null &#125;x// null// å¦‚æžœè§£æž„æ¨¡å¼æ˜¯åµŒå¥—çš„å¯¹è±¡ï¼Œçˆ¶å±žæ€§ä¸å­˜åœ¨æ—¶ä¼šæŠ¥é”™let &#123;foo: &#123;bar&#125;&#125; = &#123;baz: 'baz'&#125;// ç†è§£ä¸‹é¢çš„ä¸ºä¸‰æ¬¡è§£æž„ node.loc node.loc.start node.loc.start.linelet &#123; loc, loc: &#123; start &#125;, loc: &#123; start: &#123; line &#125;&#125; &#125; = nodeåŽŸæ¥é¡¹ç›®é‡Œå¤©å¤©å†™çš„const {a, b} = this.stateæ˜¯è§£æž„èµ‹å€¼ï¼let {a:c, b:d} = obj equals c = obj.a d = obj.bå­—ç¬¦ä¸²ã€æ•°å€¼ã€å¸ƒå°”å€¼ã€nullã€undefinedå¦‚ä¸‹12let [a,b,c] = 'skt'let &#123;length: len&#125; = 'skt'å¦‚ä¸‹123// ç­‰å·å³è¾¹å…ˆè½¬ä¸ºå¯¹è±¡å†è¿›è¡Œè§£æž„èµ‹å€¼ï¼Œæ•…undefinedå’Œnullä¼šæŠ¥é”™let &#123;toString: s&#125; = 123;s === Number.prototype.toString // trueç”¨é€”äº¤æ¢å˜é‡å€¼1[x, y] = [y, x]ä»Žå‡½æ•°è¿”å›žå¤šä¸ªå€¼å‡½æ•°å‚æ•°çš„å®šä¹‰ã€é»˜è®¤å€¼123456// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼function f([x, y, z]) &#123; ... &#125;f([1, 2, 3]);// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼function f(&#123;x, y, z&#125;) &#123; ... &#125;f(&#123;z: 3, y: 2, x: 1&#125;);æå–JSONæ•°æ®1let &#123; id, status, data: number &#125; = jsonData;éåŽ†map1234// èŽ·å–keyã€valuefor (let [key, value] of map) &#123; console.log(key + " is " + value);&#125;èŽ·å–è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•1const &#123; SourceMapConsumer, SourceNode &#125; = require("source-map");lesson4 å­—ç¬¦ä¸²æ‰©å±•unicodeè¡¨ç¤ºjsä¸­ï¼Œå¯ä»¥ç”¨\uxxxxè¡¨ç¤ºå­—ç¬¦ï¼Œxxxxä¸ºè¯¥å­—ç¬¦çš„Unicodeç ä½ã€‚jså†…éƒ¨ï¼Œå­—ç¬¦ä»¥UTF-16æ ¼å¼å­˜å‚¨ï¼Œå³æ¯ä¸ªå­—ç¬¦ä¸º2ä¸ªå­—èŠ‚(0x0000-0xFFFF)ï¼Œå¯¹äºŽéœ€è¦4å­—èŠ‚å­˜å‚¨çš„ä¾‹å¦‚æ±‰å­—ï¼Œåœ¨å¤„ç†æ—¶å¯èƒ½ä¼šå‡ºçŽ°è¯¯åˆ¤ã€‚codePointAt1234// åˆ¤æ–­æ˜¯å¦ä¸º4å­—èŠ‚ç»„æˆfunction is32Bit(c) &#123; return c.codePointAt(0) &gt; 0xFFFF;&#125;String.fromCodePointè¿”å›žç ç‚¹å¯¹åº”å­—ç¬¦ï¼Œæ”¯æŒ4å­—èŠ‚ï¼Œå³32ä½UTF-16å­—ç¬¦å­—ç¬¦ä¸²éåŽ†for ... of ...éåŽ†å­—ç¬¦ä¸²ï¼Œå¯ä»¥åšåˆ°æ”¯æŒ32ä½UTF-16å­—ç¬¦ææ¡ˆ atcharAtè¿”å›žçš„æ˜¯UTF-16å­—ç¬¦çš„å‰ä¸¤ä¸ªå­—èŠ‚ï¼Œææ¡ˆatå¯ä»¥æ”¯æŒ4å­—èŠ‚UTF-16å­—ç¬¦ï¼Œéœ€è¦åž«ç‰‡åº“æ”¯æŒinclude(), startsWith(), endsWith()å­—é¢ç†è§£ï¼Œæ³¨æ„å¯ä»¥ä¼ ä¸€ä¸ªä¸‹æ ‡å‚æ•°ï¼Œè¡¨ç¤ºæŸ¥æ‰¾ä½ç½®repeat(), padStart(5, s = &#39;&#39;), padEnd(5, e = &#39;&#39;)padStartå¡«å……åœ¨å‰ï¼ŒpadEndå¡«å……åœ¨åŽï¼Œè‹¥åŽŸå­—ç¬¦ä¸²é•¿åº¦å¤§äºŽç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåˆ™ä¸å¡«å……è¿”å›žåŽŸå­—ç¬¦ä¸²ï¼Œè‹¥åŠ èµ·æ¥å¤§äºŽç¬¬ä¸€ä¸ªå‚æ•°åˆ™ä¿ç•™åŽŸï¼ŒåŽ»é™¤éœ€æ·»åŠ çš„å¤šä½™çš„ã€‚12'123456'.padStart(10, '0') // "0000123456"'12'.padStart(10, 'YYYY-MM-DD') // "YYYY-MM-12"æ¨¡æ¿å­—ç¬¦ä¸²æ ‡ç­¾æ¨¡æ¿12345678910111213let total = 30;let msg = passthru`The total is $&#123;total&#125; ($&#123;total*1.05&#125; with tax)`;// ['The total is ', ' ', ' (', ' with tax)'], 30, 31.5function passthru(literals, ...values) &#123;let output = "";let index;for (index = 0; index &lt; values.length; index++) &#123; output += literals[index] + values[index];&#125;output += literals[index]return output;&#125;msg // "The total is 30 (31.5 with tax)"è¿‡æ»¤å­—ç¬¦ä¸²123456789101112131415161718 let message =SaferHTML`&lt;p&gt;$&#123;sender&#125; has sent you a message.&lt;/p&gt;`; function SaferHTML(templateData) &#123; let s = templateData[0]; for (let i = 1; i &lt; arguments.length; i++) &#123; let arg = String(arguments[i]); // Escape special characters in the substitution. s += arg.replace(/&amp;/g, "&amp;amp;") .replace(/&lt;/g, "&amp;lt;") .replace(/&gt;/g, "&amp;gt;"); // Don't escape special characters in the template. s += templateData[i]; &#125; return s; &#125;å…¶ä»–ç”¨é€”æœ‰ï¼ši18nã€æ¨¡æ¿å¤„ç†ã€å¼•å…¥å…¶ä»–è¯­è¨€ç­‰123456789// ä¸‹é¢çš„hashTemplateå‡½æ•°// æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¨¡æ¿å¤„ç†å‡½æ•°let libraryHtml = hashTemplate`&lt;ul&gt; #for book in $&#123;myBooks&#125; &lt;li&gt;&lt;i&gt;#&#123;book.title&#125;&lt;/i&gt; by #&#123;book.author&#125;&lt;/li&gt; #end&lt;/ul&gt;`;lesson5 æ•°å€¼æ‰©å±•0o/0O å…«è¿›åˆ¶ 0b/0B äºŒè¿›åˆ¶Number.isFinite Number.isNaNä¸Žå…¨å±€isFiniteã€isNaNçš„å·®åˆ«åœ¨äºŽå‰è€…åªå¯¹æ•°å€¼æœ‰æ•ˆï¼Œéžæ•°å€¼ä¸€å¾‹è¿”å›žfalseåŽè€…æ˜¯å…ˆå°†éžæ•°å€¼è½¬åŒ–ä¸ºæ•°å€¼å†åˆ¤æ–­ã€‚Number.ParseInt Number.ParseFloat Number.isIntegeré€æ­¥å‡å°‘å…¨å±€æ€§æ–¹æ³•ï¼Œä½¿å¾—è¯­è¨€é€æ­¥æ¨¡å—åŒ–Number.EPSILON å¯ä»¥æŽ¥å—çš„æœ€å°è¯¯å·®èŒƒå›´isSafeInteger123456789Number.isSafeInteger(9007199254740993)// falseNumber.isSafeInteger(990)// trueNumber.isSafeInteger(9007199254740993 - 990)// true9007199254740993 - 990// è¿”å›žç»“æžœ 9007199254740002// æ­£ç¡®ç­”æ¡ˆåº”è¯¥æ˜¯ 90071992547400039007199254740993ä¸æ˜¯ä¸€ä¸ªå®‰å…¨æ•´æ•°ï¼Œä½†æ˜¯Number.isSafeIntegerä¼šè¿”å›žç»“æžœï¼Œæ˜¾ç¤ºè®¡ç®—ç»“æžœæ˜¯å®‰å…¨çš„ã€‚è¿™æ˜¯å› ä¸ºï¼Œè¿™ä¸ªæ•°è¶…å‡ºäº†ç²¾åº¦èŒƒå›´ï¼Œå¯¼è‡´åœ¨è®¡ç®—æœºå†…éƒ¨ï¼Œä»¥9007199254740992çš„å½¢å¼å‚¨å­˜Mathå¯¹è±¡æ‰©å±•æŒ‡æ•°è¿ç®—ç¬¦**ææ¡ˆ Integerlesson6 å‡½æ•°æ‰©å±•å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€restå‚æ•°basicwithè§£æž„123456function m1(&#123;x = 0, y = 0&#125; = &#123;&#125;) &#123; return [x, y];&#125;function m2(&#123;x, y&#125; = &#123; x: 0, y: 0 &#125;) &#123; return [x, y];&#125;ç†è§£äºŒè€…åŒºåˆ«å³å¯ï¼Œå…¶ä½™å¯å‚è§è§£æž„å‡½æ•°çš„lengthå±žæ€§ï¼šæœªæŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°å‚æ•°ä¸€æ—¦è®¾ç½®äº†é»˜è®¤å€¼ï¼Œå‡½æ•°åœ¨å£°æ˜Žåˆå§‹åŒ–æ—¶ä¼šå½¢æˆå•ç‹¬çš„ä½œç”¨åŸŸï¼Œåˆå§‹åŒ–ç»“æŸåŽé‡Šæ”¾æŽ‰ã€‚12345678910111213141516let x = 1function m(y=x)&#123; let x = 2 console.log(y)&#125;m()// 1// å¦‚æžœå…¨å±€xä¸å­˜åœ¨ä¼šæŠ¥é”™ï¼Œç¬¬äºŒè¡Œç›¸å½“äºŽå‘ç”Ÿäº†let y = x, xæŒ‡å‘å…¨å±€çš„x, ä¸å—å†…éƒ¨xå½±å“var x = 1;function foo(x, y = function() &#123; x = 2; &#125;) &#123;var x = 3;y();console.log(x);&#125;// ç†è§£ï¼šè¿™é‡Œæœ‰ä¸‰ä¸ªä½œç”¨åŸŸï¼Œä¸‰ä¸ªxï¼Œå„ä¸ç›¸å¹² 3// åŽ»æŽ‰varä»¥åŽå‚æ•°ä¸­çš„ä¸¤ä¸ªxå’Œå‡½æ•°ä½“å†…xæ˜¯ä¸€æ ·çš„ï¼Œå¤–éƒ¨è¿˜æ˜¯ä¸å˜ 2åº”ç”¨æŒ‡å®šå‚æ•°å¿…ä¼ ï¼Œå¦åˆ™æŠ¥é”™ï¼Œå³ç»™å‚æ•°èµ‹å€¼ä¸€ä¸ªé»˜è®¤çš„å‡½æ•°æŠ›é”™çš„ç»“æžœï¼Œæ²¡ä¼ æ—¶å¾—åˆ°çš„æ˜¯è¿™ä¸ªæŠ›å‡ºçš„é”™ç”¨é»˜è®¤èµ‹å€¼undefinedè¡¨ç¤ºè¯¥å‚æ•°å¯çœç•¥å‡½æ•°çš„lengthä¸åŒ…å«restå‚æ•°restå‚æ•°ä¹‹åŽä¸èƒ½å†æœ‰å‚æ•°åªè¦å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æž„èµ‹å€¼ã€æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œå°±ä¸èƒ½æ˜¾å¼æŒ‡å®šä¸¥æ ¼æ¨¡å¼ç®­å¤´å‡½æ•°æ³¨æ„ç®­å¤´å‡½æ•°ä½“å†…çš„thisæŒ‡å‘å‡½æ•°å®šä¹‰æ—¶çš„å¯¹è±¡ï¼Œä¸æ˜¯å¯¹åº”è¿è¡Œæ—¶çš„å¯¹è±¡ä¸å¯ä»¥å½“åšæž„é€ å‡½æ•°ä¸å¯ä»¥ä½¿ç”¨yieldä¸å¯ä»¥ä½¿ç”¨argumentsä¸å¯ä»¥ä½¿ç”¨bindã€callã€applyæ¥æ”¹å˜ç®­å¤´å‡½æ•°thisæŒ‡å‘thisæŒ‡å‘çš„å›ºå®šåŒ–ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç®­å¤´å‡½æ•°å†…éƒ¨æœ‰ç»‘å®šthisçš„æœºåˆ¶ï¼Œå®žé™…åŽŸå› æ˜¯ç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œå¯¼è‡´å†…éƒ¨çš„thiså°±æ˜¯å¤–å±‚ä»£ç å—çš„this12const headAndTail = (head, ...tail) =&gt; [head, tail];headAndTail(1, 2, 3, 4, 5) // [1,[2,3,4,5]]å…¶ä»–åŒå†’å·è¿ç®—ç¬¦12obj::func === func.bind(obj)foo::bar(...arguments) === bar.apply(foo, arguments)å°¾è°ƒç”¨ä¼˜åŒ–1234// å‡½æ•°fçš„æœ€åŽä¸€æ­¥ä¸ºå‡½æ•°gè°ƒç”¨function f(x)&#123; return g(x);&#125;å‡½æ•°è°ƒç”¨ä¼šåœ¨å†…å­˜åœ¨ç”Ÿæˆè°ƒç”¨è®°å½•ï¼Œå³è°ƒç”¨å¸§ï¼Œå¦‚Aå‡½æ•°ä¸­è°ƒç”¨Bå‡½æ•°ï¼Œåˆ™ä¼šåœ¨Açš„è°ƒç”¨å¸§ä¸Šæ–¹å½¢æˆBçš„è°ƒç”¨å¸§ï¼ŒBè°ƒç”¨å®ŒåŽï¼Œè¿”å›žè‡³Aæ‰ä¼šæ¶ˆå¤±ã€‚å°¾è°ƒç”¨å®žé™…ä¸Šå·²ç»ä¸ç”¨ä¿å­˜å¤–å±‚Açš„è°ƒç”¨å¸§äº†ï¼Œå¯ä»¥ä¼˜åŒ–ã€‚åªæœ‰ä¸å†ç”¨åˆ°å¤–å±‚å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œå†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§æ‰ä¼šå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå¦åˆ™å°±æ— æ³•è¿›è¡Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€å°¾é€’å½’ä¼˜åŒ–123456789101112// éžå°¾é€’å½’function Fibonacci (n) &#123; if ( n &lt;= 1 ) &#123;return 1&#125;; return Fibonacci(n - 1) + Fibonacci(n - 2);&#125;// å°¾é€’å½’function Fibonacci2 (n , ac1 = 1 , ac2 = 1) &#123; if( n &lt;= 1 ) &#123;return ac2&#125;; return Fibonacci2 (n - 1, ac2, ac1 + ac2);&#125;ä¼ ç»Ÿé€’å½’éœ€è¦ä¿å­˜ç›¸å½“å¤šçš„è°ƒç”¨å¸§ï¼Œå°¾é€’å½’åªä¿å­˜ä¸€ä¸ªï¼ŒèŠ‚çœå†…å­˜ï¼Œé¿å…å‘ç”Ÿæ ˆæº¢å‡ºæŸ¯é‡ŒåŒ–å°†å¤šå‚æ•°å‡½æ•°å˜æˆå•å‚æ•°å½¢å¼ï¼ˆå…·ä½“ä¸‹æ¬¡å†è®ºï¼‰es2017æ”¯æŒå‡½æ•°æœ€åŽä¸€ä¸ªå‚æ•°å°¾é€—å·åœ¨ä¸éœ€è¦é”™è¯¯å®žä¾‹çš„æ—¶å€™ï¼Œææ¡ˆtryâ€¦catchâ€¦èœå•catchå—ä¸éœ€è¦å‚æ•°lesson7 æ•°ç»„æ‰©å±•æ‰©å±•è¿ç®—ç¬¦... å¯ä»¥ç†è§£ä¸ºrestå‚æ•°çš„é€†è¿ç®—ï¼Œå°†æ•°ç»„è½¬åŒ–ä¸ºé€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ï¼Œå¦‚Math.max(...[14, 3, 77])å¤åˆ¶æ•°ç»„ï¼ˆç›´æŽ¥èµ‹å€¼æ˜¯å¼•ç”¨ï¼ŒæŒ‡å‘ç›¸åŒåœ°å€ï¼‰1234// es5a1 = [1,2]; a2 = a1.concat()// es6a1 = [1,2]; a2 = [...a1]åˆå¹¶æ•°ç»„ä¸Žè§£æž„ç»“åˆæ‰©å±•è¿ç®—ç¬¦ç”¨äºŽæ•°ç»„èµ‹å€¼æ—¶ï¼Œåªèƒ½ä½œä¸ºæœ€åŽä¸€ä¸ªå‚æ•°1const [a, ...b] = [1,2,3,4]å­—ç¬¦ä¸²123456// ç”Ÿæˆæ•°ç»„[...'hello']// è¿”å›žå­—ç¬¦ä¸²æ­£ç¡®é•¿åº¦ï¼Œå…¼å®¹4å­—èŠ‚UTF-16ç¼–ç çš„Unicodeå­—ç¬¦function length(str) &#123;return [...str].length;&#125;å®žçŽ°äº† Iterator æŽ¥å£çš„å¯¹è±¡ï¼ˆä¸‹å›žåˆ†è§£ï¼‰Map Set Generatorï¼ˆä¸‹å›žåˆ†è§£ï¼‰Arrayæ–¹æ³•Array.from()å°†arraylikeå¯¹è±¡å’Œå¯éåŽ†å¯¹è±¡è½¬ä¸ºæ•°ç»„1234567// Array.prototype.sliceArray.from// Array.from(arrayLike).map(x =&gt; x * x)// æŽ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œç±»ä¼¼mapï¼Œå¯ç”¨äºŽå¦‚NodeListå¯¹è±¡ç­‰å¤„ç†ï¼ŒèŽ·å–domèŠ‚ç‚¹çš„å±žæ€§Array.from(arrayLike, x =&gt; x * x)Array.from([1, , 2, , 3], (n) =&gt; n || 0)// ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå¯ä»¥ç»‘å®šthis...è°ƒç”¨çš„æ˜¯éåŽ†å™¨æŽ¥å£ï¼ˆSymbol.iteratorï¼‰ï¼Œè‹¥å¯¹è±¡æ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæŽ¥å£ï¼Œå°±ä¸èƒ½è½¬åŒ–ä¸ºæ•°ç»„ï¼ŒArray.fromå¯ä»¥è½¬æ¢ä»»ä½•æœ‰lengthå±žæ€§çš„å¯¹è±¡å› å¹æ–¯å¬12Array.from(&#123; length: 2 &#125;, () =&gt; 'jack')æ•ˆæžœï¼šç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼ˆå‡½æ•°ï¼‰æŒ‡å®šæ‰§è¡Œæ¬¡æ•°Array.ofæ€»æ˜¯è¿”å›žå‚æ•°å€¼ç»„æˆçš„æ•°ç»„ï¼Œå¦‚æžœæ²¡æœ‰å‚æ•°ï¼Œå°±è¿”å›žä¸€ä¸ªç©ºæ•°ç»„1234// å¼¥è¡¥æž„é€ å‡½æ•°Array()çš„ä¸è¶³ï¼ˆ1-2ä¸ªå‚æ•°æ—¶ï¼‰function ArrayOf()&#123; return [].slice.call(arguments);&#125;copyWithin ç”¨é€”ä¸æ˜Žfind findIndex å‰è€…è¿”å›žç¬¬ä¸€ä¸ªå€¼/undefinedï¼ŒåŽè€…è¿”å›žä½ç½®/-1fill æ•°ç»„å¡«å……ï¼Œå¯ä»¥æŒ‡å®šèµ·å§‹ã€ç»“æŸä½ç½®keys() values() entries() ç”¨äºŽéåŽ†æ•°ç»„ï¼Œè¿”å›žéåŽ†å™¨å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨forâ€¦ofå¾ªçŽ¯ä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒç”¨éåŽ†å™¨å¯¹è±¡çš„nextæ–¹æ³•ã€‚åˆ†åˆ«å¯¹åº” é”®ã€å€¼ã€é”®å€¼å¯¹ï¼ˆ[0,â€™aâ€™]ï¼‰includes() åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå€¼ï¼Œè§£å†³äº†indexOfå¯¹NaNçš„è¯¯åˆ¤ï¼ˆå› ä¸ºNaN!==NaNï¼ŒindexOfæ˜¯===åˆ¤æ–­ï¼‰ç©ºä½ï¼Œes6ä¸Šè¿°æ•°ç»„æ‰©å±•å¯¹ç©ºä½å¤„ç†æ¯”è¾ƒä¸€è‡´ï¼Œå€¼è®¾ä¸ºundefinedï¼ŒéåŽ†æ—¶è§†ä¸ºå­˜åœ¨lesson8 å¯¹è±¡æ‰©å±•å†™æ³•å±žæ€§ã€æ–¹æ³•ç®€å†™1&#123; a &#125; &#123; a() &#123;&#125; &#125;å±žæ€§åè¡¨è¾¾å¼ã€æ–¹æ³•åè¡¨è¾¾å¼123&#123; ['a' + 'bc']: 'a' &#125;&#123; ['a' + 'bc']() &#123;&#125; &#125;// æ³¨æ„å±žæ€§åä¸ºå¯¹è±¡æ—¶ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²`[object Object]`æ–¹æ³•åname1234567891011// è¿™ç§æƒ…å†µä¸‹`obj.foo.name`ä¼šæŠ¥é”™const obj = &#123; get foo() &#123;&#125;, set foo(x) &#123;&#125;&#125;;// æ­£ç¡®å†™æ³•const descriptor = Object.getOwnPropertyDescriptor(obj, 'foo');descriptor.get.name // get foo// special(new Function()).name // "anonymous"doSomething.bind().name // "bound doSomething"æ–¹æ³•Object.isæ¯”è¾ƒ12345// é™¤äº†ä¸‹åˆ—æƒ…å†µå¤–å’Œ===çš„è¡¨çŽ°ä¸€è‡´+0 === -0 //trueNaN === NaN // falseObject.is(+0, -0) // falseObject.is(NaN, NaN) // trueObject.assignç”¨äºŽå¯¹è±¡åˆå¹¶ï¼Œå°†æºå¯¹è±¡çš„æ‰€æœ‰å¯æžšä¸¾å±žæ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡1Object.assign(target, source1, source2);æ³¨æ„éžå¯¹è±¡å‡ºçŽ°åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«è½¬ä¸ºå¯¹è±¡ï¼Œå‡ºçŽ°åœ¨åŽé¢åªæœ‰å­—ç¬¦ä¸²ä¼šä»¥å­—ç¬¦æ•°ç»„å½¢å¼å‚ä¸Žåˆå¹¶ã€‚ï¼ˆå› ä¸ºåªæœ‰å­—ç¬¦ä¸²çš„åŒ…è£…å¯¹è±¡ï¼Œä¼šäº§ç”Ÿå¯æžšä¸¾å±žæ€§ï¼‰å¯¹äºŽundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œå¤šä»¥å‡ºçŽ°åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä½ä¼šæŠ¥é”™ï¼Œå‡ºçŽ°åœ¨åŽé¢ä¼šè¢«å¿½ç•¥ã€‚æµ…æ‹·è´ï¼Œå³å¦‚æžœæºå¯¹è±¡çš„æŸä¸ªå±žæ€§æ˜¯å¯¹è±¡ï¼Œåˆ™ç›®æ ‡å¯¹è±¡æ‹·è´çš„æ˜¯è¯¥å¯¹è±¡çš„å¼•ç”¨ç”¨é€”ä¸ºå¯¹è±¡æ·»åŠ å±žæ€§ã€æ–¹æ³•å…‹éš†å¯¹è±¡123456789// åªå…‹éš†åŽŸæœ‰å¯æžšä¸¾å±žæ€§function clone(origin) &#123; return Object.assign(&#123;&#125;, origin);&#125;// ä¿æŒç»§æ‰¿é“¾function clone(origin) &#123; let originProto = Object.getPrototypeOf(origin); return Object.assign(Object.create(originProto), origin);&#125;åˆå¹¶å¤šä¸ªå¯¹è±¡ä¸ºå±žæ€§è®¾ç½®é»˜è®¤å€¼ï¼ˆåˆ©ç”¨è¦†ç›–ï¼Œæ³¨æ„åº”ä¸ºç®€å•ç±»åž‹ï¼‰Object.getOwnPropertyDescriptorsè¿”å›žæŒ‡å‘å¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±žæ€§çš„æè¿°å¯¹è±¡ç”±äºŽObject.assignæ˜¯èµ‹å€¼æ‹·è´ï¼Œæ‰€ä»¥æ— æ³•æ­£ç¡®æ‹·è´å¯¹è±¡çš„getå’Œsetæ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦æœ‰æ–¹å¼åŽ»èŽ·å–æè¿°å¯¹è±¡ï¼Œå†ç»“åˆdefinePropertiesè¿›è¡Œç»“åˆObject.createä½¿ç”¨ï¼Œæµ…æ‹·è´Object.getPropertyOf, Object.setPropertyOf, __proto____proto__12obj = Object.create(someOtherObj);obj.__proto__ = someOtherObj;Object.setPrototypeOf(obj, proto)å°†protoå¯¹è±¡è®¾ä¸ºobjçš„åŽŸåž‹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºundefinedå’Œnullæ—¶æŠ¥é”™ï¼Œéžå¯¹è±¡æ—¶è‡ªåŠ¨è½¬Object.getPrototypeOf(obj)superæŒ‡å‘å½“å‰å¯¹è±¡çš„åŽŸåž‹å¯¹è±¡ï¼Œåªæœ‰å¯¹è±¡çš„æ–¹æ³•çš„ç®€å†™æ¨¡å¼ä¸­æœ‰æ•ˆï¼Œå¦åˆ™æŠ¥é”™super.fooç­‰åŒäºŽObject.getPrototypeOf(this).fooObject.keys, Object.values, Object.entriesObject.entries ç”¨é€”ï¼šnew Map(Object.entries(obj))å±žæ€§çš„å¯æžšä¸¾å’ŒéåŽ†å¯æžšä¸¾èŽ·å–å±žæ€§çš„æè¿°å¯¹è±¡12345678let obj = &#123; foo: 123 &#125;;Object.getOwnPropertyDescriptor(obj, 'foo')// &#123;// value: 123,// writable: true,// enumerable: true,// configurable: true// &#125;å¿½ç•¥ enumerableä¸ºfalseçš„æ“ä½œ1234for ... in // ä¼šè¿”å›žç»§æ‰¿çš„å±žæ€§Object.keys()JSON.stringify()Object.assign()éåŽ†123456for ... in // éåŽ†è‡ªèº«å’Œç»§æ‰¿çš„**å¯æžšä¸¾**å±žæ€§ï¼Œä¸åŒ…å«Symbolå±žæ€§Object.keys // è¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåªåŒ…å«è‡ªèº«æ‰€æœ‰**å¯æžšä¸¾**å±žæ€§ï¼Œä¸åŒ…å«Symbolå±žæ€§Object.getOwnPropertyNames(obj) // è¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„**æ‰€æœ‰**å±žæ€§ï¼Œä¸åŒ…å«Symbolå±žæ€§Object.getOwnPropertySymbols(obj) // è¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡æœ¬èº«çš„æ‰€æœ‰Symbolå±žæ€§Reflect.ownKeys(obj) // è¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«è‡ªèº«**æ‰€æœ‰é”®å**// å…±æ€§ï¼šéåŽ†é¡ºåºä¸º æ•°å€¼é”®-å­—ç¬¦ä¸²é”®-Symbolå±žæ€§æ‰©å±•è¿ç®—ç¬¦Nullä¼ å¯¼è¿ç®—ç¬¦ï¼ˆææ¡ˆï¼‰obj?.prop, obj?.[expr], func?.(...args), new C?.(...args)]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoå¿«é€Ÿæ­å»ºåšå®¢]]></title>
    <url>%2Fposts%2Fd76cea4a%2F</url>
    <content type="text"><![CDATA[&emsp;åˆ©ç”¨ä¸€å¤©æ—¶é—´æ­ä¸€ä¸ªç®€å•æ¼‚äº®çš„é™æ€åšå®¢ï¼Œå¹³æ—¶è®°è®°ç¬”è®°ã€å†™å†™æ–‡ç« ï¼Œæ—¥ç§¯æœˆç´¯ï¼Œæ”¶èŽ·ä¹Ÿè®¸ä¼šè®©ä½ æ„æƒ³ä¸åˆ°ã€‚å‰è¨€&emsp;å¯¹äºŽé…·çˆ±å°æ–°çš„ç¨‹åºå‘˜ä»¬æ¥è¯´ï¼Œåšå®¢å¯èƒ½æ˜¯ä¸ºæ•°ä¸å¤šçš„ä»è¢«å¹¿æ³›ä½¿ç”¨çš„æ—§ä¸œè¥¿ä¹‹ä¸€äº†ã€‚ä¸è®ºæ˜¯ä¸ºäº†æŠ€æœ¯ç§¯ç´¯ï¼Œè¿˜æ˜¯ä¸ºäº†æé«˜é€¼æ ¼ï¼Œå¤šæ•°ç¨‹åºå‘˜å¿ƒä¸­éƒ½æ›¾æœ‰è¿‡æ­å»ºåšå®¢ç«™çš„æƒ³æ³•ã€‚&emsp;åœ¨æ­å»ºåšå®¢çš„æ—¶å€™ï¼Œå¤§ä½¬æˆ–è€…ä¸éº»çƒ¦ä¼šæ­»æ˜Ÿäººéƒ½å–œæ¬¢æ’¸èµ·è¢–å­è‡ªå·±å¹²ï¼Œç„¶è€Œå¯¹äºŽåƒæˆ‘ä¸€æ ·çš„ä¸€æ‰¹æ¸£æ¸£å°ç™½æ¥è¯´è¦è„±ç¦»çŽ°æˆæ¡†æž¶è‡ªå·±æžå‡ºä¸ªåå ‚æ¥ç»éžæ˜“äº‹ã€‚æ¢å·¥ä½œçš„ç©ºæ¡£æœŸï¼Œå¿™å¾—åªå‰©ä¸‹æ—¶é—´ï¼Œä¹Ÿæ‰‹æ’¸äº†ä¸ªåšå®¢ç«™ï¼Œé™¤åŽ»ç¼–ç æ—¶é—´ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´èŠ±åœ¨æœåŠ¡å™¨éƒ¨ç½²ä¸Šï¼Œå¯¹äºŽä¸€åå‰ç«¯åˆ‡å›¾ç‹—æ¥è¯´ï¼Œè¿˜æ˜¯è´¹äº†ä¸å°‘å¿ƒæ€çš„ï¼Œæœ‰å…´è¶£çš„è¿™é‡Œé€ä¸Šä¼ é€é—¨ã€‚&emsp;å°±æ•ˆæžœæ¥è¯´è‡ªå·±åŠ¨æ‰‹è‚¯å®šæ˜¯å¯ä»¥å­¦åˆ°æ›´å¤šä¸œè¥¿çš„ï¼Œæ„¿æ„æŠ•å…¥æ—¶é—´æ˜¯å€¼å¾—åŽ»å°è¯•çš„ï¼Œè€Œä¸”è‡ªå·±å¼€å‘æ˜¯å¯ä»¥æ ¹æ®éœ€è¦ä¸ªæ€§åŒ–å®šåˆ¶çš„ï¼Œè¿™æ˜¯ç¬¬ä¸‰æ–¹æœåŠ¡ä¸èƒ½å¾ˆå¥½åœ°æä¾›çš„ã€‚éšä¹‹è€Œæ¥çš„åå¤„å…¶ä¸€æ˜¯å¼€å‘æˆæœ¬å’Œå­¦ä¹ æˆæœ¬ï¼Œç‹¬ç«‹åšå®¢ç«™éœ€è¦ä¸€å®šçš„æŠ€æœ¯ç§¯ç´¯ï¼Œæœ‰ä¸€å®šçš„é—¨æ§›ï¼Œå¹¶ä¸é€‚åˆæ‰€æœ‰äººã€‚å…¶äºŒæ˜¯å³ä¾¿ä½ æœ‰èƒ½åŠ›æœ‰æ—¶é—´åšåˆ°ï¼ŒåŽæœŸæ˜¯å¦ä¼šèŠ±å¿ƒæ€åŽ»ç»´æŠ¤æ‰“ç†ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚æƒ³èµ·æˆ‘è‡ªå·±ä¸€å¼€å§‹æ»¡è…”çƒ­è¡€ï¼Œä¸‹å®šå†³å¿ƒè¦æžå‡ºä¸ªå®Œç¾Žåšå®¢ï¼Œç»“æžœä¸ƒå¤©è‰è‰æ”¶å·¥ï¼Œé¢„å…ˆæƒ³åŠ ä¸Šçš„åŠŸèƒ½ä¸€ä¸ªä¸ªéƒ½æ— ç–¾è€Œç»ˆï¼Œç”šè‡³åˆ°æ˜¨å¤©åŸŸåéƒ½è¿˜æ²¡å¤‡æ¡ˆã€‚&emsp;æˆ‘ä»¥ä¸ºç‹¬ç«‹åšå®¢ç«™é€‚åˆäºŽè‡ªç”±èŒä¸šè€…æˆ–è€…èƒ½å¤Ÿåœ¨çŸ­æ—¶é—´å†…æŠŠè‡ªå·±çš„éœ€è¦å®žçŽ°çš„å¤§ä½¬ä»¬ï¼Œå› ä¸ºè¿™ä¸¤è€…åŽæœŸè¦ä¹ˆæœ‰æ—¶é—´ç»´æŠ¤è¦ä¹ˆä¸éœ€è¦è¿‡å¤šæ—¶é—´åŽ»ç»´æŠ¤ã€‚åœ¨åšå®¢ç«™æ­å»ºå®Œæˆä»¥åŽä»–ä»¬å°±å¯ä»¥æŠŠé‡å¿ƒæ”¾å›žåˆ°è‡ªå·±çš„å·¥ä½œå’Œç”Ÿæ´»å½“ä¸­ï¼Œåœ¨æœ‰æŠ€æœ¯ç§¯ç´¯æˆ–è€…è£…é€¼éœ€è¦çš„æ—¶å€™åªéœ€è¦è®°å½•ã€ä¸Šä¼ è¿™äº›ç®€å•çš„æ“ä½œã€‚&emsp;æ›´åŠ çœå¿ƒçš„é€‰æ‹©æ˜¯æˆç†Ÿçš„ç¬¬ä¸‰æ–¹æ¡†æž¶ï¼Œæ¯”å¦‚æœ¬ç«™æ‰€ç”¨çš„Hexoï¼Œä¸å¾—ä¸è¯´Hexoæä¾›çš„åŠŸèƒ½å’Œæ ·å¼éƒ½æ˜¯å¾ˆæœ‰å¸å¼•åŠ›çš„ï¼Œæœ¬èº«ä¹Ÿä¸éœ€è¦å¤šå°‘å­¦ä¹ æˆæœ¬ï¼Œç”šè‡³äºŽéžç¨‹åºå‘˜ä¹Ÿå¯ä»¥è·Ÿç€æ•™ç¨‹å®žçŽ°ã€‚æœ¬æ–‡è¿˜æ˜¯é’ˆå¯¹å¯¹äºŽgitæœ‰äº†è§£çš„æƒ³è¦å¿«é€Ÿæ­å»ºåšå®¢çš„ç¨‹åºå‘˜ä»¬ï¼Œå¦‚æžœè¿™æ–¹é¢æœ‰é—®é¢˜çš„è¯ï¼Œä¹Ÿå¯ä»¥å…ˆåŽ»äº†è§£ä¸‹gitç›¸å…³çš„ä¸œè¥¿ã€‚Hexo èµ°ä½ å¤§èƒ†å‡è®¾ä½ çš„SSH keyé…ç½®æ— è¯¯ä½ å®‰è£…å¥½äº†node/npmä½ åœ¨ä½ çš„Githubä¸Šå»ºäº†ä¸€ä¸ª your_user_name.github.io çš„ repoå®‰è£…123456789101112131415# å…¨å±€å®‰è£…hexocnpm install hexo -g# å®‰è£…hexo deployåŒ…cnpm install hexo-deployer-git --save# åˆå§‹åŒ–åšå®¢ç›®å½•cd your_blog_dirhexo init# å®‰è£…ä¾èµ–åŒ…npm install# å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œè®¿é—®127.0.0.1:4000ï¼Œbingoï¼ä½ å°†çœ‹åˆ°hexoé»˜è®¤é¦–é¡µhexo serverHexoè®¾ç½®åŸºæœ¬è®¾ç½®12345678910111213141516171819# ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶vi _config.yml# éƒ¨ç½²é…ç½®deploy: type: git repository: git@github.com:derekeeeeely/derekeeeeely.github.io.git branch: master# ç«™ç‚¹è®¾ç½®title: DZ's Gensokyosubtitle: Best Time, Best You and Medescription: life are flashes and here is my lifeauthor: Derek Zhoulanguage: zh-Hanstimezone:# ä½ çš„åŸŸåurl: http://derekz.cnå®ŒæˆåŸºæœ¬è®¾ç½®åŽå¯ä»¥ä½¿ç”¨ç³»ä¸€éƒ¨åˆ†æåˆ°çš„å‘½ä»¤è¿›è¡Œåˆ›å»ºæ–‡ç« ã€ç”Ÿæˆæ–‡ä»¶ã€éƒ¨ç½²åˆ°Gitç­‰æ“ä½œå¸¸ç”¨å‘½ä»¤1234567891011121314151617181920# æ–°å»ºæ–‡ç« hexo new XXX# åœ¨sourceç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªXXXæ–‡ä»¶å¤¹ï¼Œå¯ä»¥é…ç½®åˆ°headçš„å¯¼èˆªå¤„ï¼ˆåŽé¢æœ‰è¯´æ˜Žï¼‰hexo new page XXX# local server, ç®€åŒ–hexo shexo server# ç”Ÿæˆé™æ€é¡µé¢ï¼Œç®€åŒ–hexo ghexo generate# éƒ¨ç½²åˆ°Githubï¼Œç®€åŒ–hexo dhexo deploy# æ¸…é™¤publicï¼Œä¿®æ”¹æœªç”Ÿæ•ˆæ—¶ï¼ˆæœ‰å¾…ç ”ç©¶hexoçš„çƒ­æ›´æ–°ï¼‰hexo clean# ç”Ÿæˆ+éƒ¨ç½²hexo d -gHexoä¸»é¢˜ â€” Next&emsp;Hexo æä¾›äº†å¾ˆå¤šä¸»é¢˜çš„é€‰é¡¹ï¼Œæœ¬ç«™ä½¿ç”¨çš„æ˜¯Nextï¼Œä¹Ÿæ˜¯æ¯”è¾ƒæµè¡Œï¼Œä¸ªäººè®¤ä¸ºæ¯”è¾ƒå¥½çœ‹çš„ä¸»é¢˜ã€‚ç¬”è€…ç”¨çš„ç‰ˆæœ¬æ˜¯5.1.3ï¼Œåº”è¯¥æ˜¯æ¯”è¾ƒé«˜çš„ç‰ˆæœ¬ï¼Œæœ¬èº«å·²ç»é›†æˆäº†å¾ˆå¤šæœ‰ç”¨çš„æ’ä»¶ï¼Œé…ç½®èµ·æ¥æ›´æ–¹ä¾¿ä¸€äº›ã€‚å…¶ä»–ç‰ˆæœ¬å’Œå…¶ä»–ä¸»é¢˜åº”è¯¥ä¹Ÿå¤šæœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œå¯ä¾›å‚è€ƒã€‚Next å®‰è£…123456# é¡¹ç›®æ ¹ç›®å½•clone Nextä¸»é¢˜ä»£ç git clone https://github.com/iissnan/hexo-theme-next.git themes/next# ä¿®æ”¹é¡¹ç›®é…ç½®ï¼Œè®¾ç½®ä¸»é¢˜ä¸ºNextï¼ŒåŽç»­çš„å¾ˆå¤šè®¾ç½®éƒ½åœ¨Nextçš„_config.yml æ–‡ä»¶ä¸­è¿›è¡Œï¼Œå¯ä»¥çœ‹æˆä¸€ä¸ªextendçš„å…³ç³»vi _config.ymltheme: nextNext æ’ä»¶ç¯‡æ•²é»‘æ¿ï¼Œåˆ’é‡ç‚¹å•¦ï¼Œå¥½ä¸å¥½ç”¨ï¼Œé€¼æ ¼é«˜ä¸é«˜å°±çœ‹è¿™é‡Œäº†ã€‚å¯¼èˆªæ¡1234567891011121314151617# menuè®¾ç½®menu: home: / || home categories: /categories/ || th tags: /tags/ || tags archives: /archives/ || archive #schedule: /schedule/ || calendar # sitemap: /sitemap.xml || sitemap commonweal: /404.html || heartbeat about: /about/ || user# Enable/Disable menu icons.menu_icons: enable: true# Nextçš„å››ç§ä¸»é¢˜ï¼ŒMistè¡¨çŽ°ä¸­è§„ä¸­çŸ©scheme: Mist&emsp;menuå¯¹åº”Nextçš„Mistä¸»é¢˜ä¸‹å¤´éƒ¨å¯¼èˆªï¼Œéœ€è¦newå‡ºç›¸åº”çš„é¡µé¢ï¼Œå…¶ä¸­å½’æ¡£(archives)æ˜¯é»˜è®¤æœ‰çš„ï¼Œåˆ†ç±»(categories)ã€æ ‡ç­¾(tags)ã€404é¡µé¢å’Œå…³äºŽ(about)æ˜¯éœ€è¦åˆ›å»ºæˆ–ç¼–è¾‘çš„ã€‚ç«™å†…æœç´¢1234567# å®‰è£…ä¾èµ–åŒ…cnpm install hexo-generator-search --savecnpm install hexo-generator-searchdb --save# Local search æ‰“å¼€local_search: enable: trueé˜…è¯»é‡ç»Ÿè®¡12345# leanCloudé…ç½® ï¼ˆNext configå·²å­˜åœ¨ï¼‰leancloud_visitors: enable: true app_id: ssssssssssssssssssssssss app_key: sssssssssssssssssssssss&emsp;ä½¿ç”¨leancloudåšç»Ÿè®¡ï¼ŒNextçš„æ’ä»¶ç›®å½•åº•ä¸‹çš„lean-analytics.swigæ–‡ä»¶å·²ç»å­˜åœ¨leanCloudçš„å¼•å…¥å’Œç»Ÿè®¡ä»£ç ï¼Œæˆ‘ä»¬åªéœ€è¦æ³¨å†ŒleanCloudï¼Œä½¿ç”¨app_idå’Œapp_keyåšèº«ä»½æ ¡éªŒï¼ŒæŒ‰å¦‚ä¸Šå¡«å†™å¥½å°±å¯ä»¥äº†ã€‚å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é—´ä¼°è®¡12345678910# å®‰è£…ä¾èµ–åŒ…cnpm install hexo-wordcount --save# wordcount è®¾ç½®ï¼ˆNext configå·²å­˜åœ¨ï¼‰post_wordcount: item_text: true wordcount: true min2read: true totalcount: false separated_meta: truesiderbarè®¾ç½®123456789101112# ç¤¾äº¤é“¾æŽ¥/iconè®¾ç½®social: GitHub: https://github.com/derekeeeeely å¾®åš: http://weibo.com/u/3248682277social_icons: enable: true GitHub: github å¾®åš: weibo# linkså‹æƒ…é“¾æŽ¥links: æˆ‘çš„å°ç«™: http://119.23.217.75&emsp;Nextçš„iconé»˜è®¤ä½¿ç”¨çš„æ˜¯Font Awesomeåº“ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯keyåº”è¯¥ä¿æŒä¸€è‡´ã€‚å‹æƒ…é“¾æŽ¥å¯ä»¥æ”¾äº›è‡ªå·±çš„æˆ–è€…è‡ªå·±æ”¶è—çš„ç¤¾åŒºå•Šè®ºå›å•Šå¤§ä½¬åšå®¢ä¹‹ç±»çš„ï¼Œæ–¹ä¾¿å¿«é€Ÿè·³è½¬ã€‚æœ¬ç«™è¿™é‡Œæ˜¯å› ä¸ºè‡ªå·±å¦ä¸€ä¸ªåšå®¢çš„åŸŸåæ²¡å¤‡æ¡ˆï¼Œæ‰€ä»¥æ”¾äº†IPï¼Œä¸è¦åœ¨æ„è¿™äº›ç»†èŠ‚ã€‚æœ‰å…³äºŽRSSå’Œå¤´åƒè¿™éƒ¨åˆ†æ²¡æœ‰ç´¯åˆ—å‡ºæ¥ï¼ŒRSSæ˜¯å› ä¸ºæœ€åŽå¾—åˆ°çš„æ˜¯ä¸€ä¸ªXMLï¼Œè€å®žè¯´æˆ‘ä¸çŸ¥é“è¿™ä¸ªXMLæ‹¿æ¥æœ‰å•¥ç”¨ï¼Œå¤´åƒçš„è¯å…¶å®žå°±æ”¹æ ·å¼ï¼Œä¸æƒ³è‡ªå·±å†™çš„è¯éšä¾¿æœæœéƒ½æœ‰çš„ï¼Œä¹Ÿå°±ä¸è´´å‡ºæ¥äº†2333ã€‚æ–‡ä»¶åŽ‹ç¼©1234567891011121314151617181920212223242526# å®‰è£…ä¾èµ–åŒ…cnpm install hexo-all-minifier --save# åœ¨æ ¹ç›®å½•é…ç½®æ–‡ä»¶ä¸­æ·»åŠ html_minifier: enable: true ignore_error: false exclude:css_minifier: enable: true exclude: - '*.min.css'js_minifier: enable: true mangle: true output: compress: exclude: - '*.min.js'image_minifier: enable: true interlaced: false multipass: false optimizationLevel: 2 pngquant: false progressive: falseæ–‡ç« é“¾æŽ¥å”¯ä¸€åŒ–12345678910# å®‰è£…ä¾èµ–åŒ…npm install hexo-abbrlink --save# åœ¨æ ¹ç›®å½•é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹permalink: posts/:abbrlink/ # â€œposts/â€ å¯è‡ªè¡Œæ›´æ¢# abbrlink configabbrlink: alg: crc32 # ç®—æ³•ï¼šcrc16(default) and crc32 rep: hex # è¿›åˆ¶ï¼šdec(default) and hexè¿›é˜¶é»‘ç§‘æŠ€SEO (è§‚å¯Ÿæ•ˆæžœing)1234567891011121314151617181920212223242526# å®‰è£…ä¾èµ–åŒ…cnpm install hexo-generator-sitemap --savecnpm install hexo-generator-baidu-sitemap --save# æ ¹ç›®å½•é…ç½®ä¸­æ·»åŠ sitemap: path: sitemap.xmlbaidusitemap: path: baidusitemap.xml# sourceç›®å½•æ·»åŠ robots.txtUser-agent: *Allow: /Allow: /archives/Allow: /categories/Allow: /tags/Disallow: /vendors/Disallow: /js/Disallow: /css/Disallow: /fonts/Disallow: /vendors/Disallow: /fancybox/Sitemap: http://www.derekz.cn/sitemap.xmlSitemap: http://www.derekz.cn/baidusitemap.xml&emsp;ä¸Šè¿°é…ç½®å®ŒåŽéœ€è¦è‡ªå¤‡æ¢¯å­ç¿»å¢™ç™»å½•google search consoleï¼ŒæŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥èµ°ï¼ŒéªŒè¯åŸŸåæ‰€æœ‰æƒ-&gt;æŠ“å–å¯¹åº”è·¯ç”±é¡µé¢æ•°æ®-&gt;åŠ å…¥èµ„æºç´¢å¼•ï¼Œç”±äºŽæ¬¡æ•°æœ‰é™åˆ¶ï¼Œéœ€è¦ç¡®å®šå¥½å“¦ã€‚ä¸ƒç‰›äº‘åŠå›¾åºŠ&emsp;ä¸ƒç‰›äº‘æ³¨å†Œä»¥åŽä¼šæä¾›10Gçš„å…è´¹å­˜å‚¨ç©ºé—´ï¼Œä¸€èˆ¬æ¥è¯´å­˜äº›å›¾ç‰‡æ˜¯å¤Ÿç”¨çš„äº†ï¼Œé—®é¢˜åœ¨äºŽæˆ‘ä»¬åœ¨å†™markdownçš„æ—¶å€™å›¾ç‰‡é“¾æŽ¥å¤åˆ¶æ˜¯åœ¨æ˜¯å¤ªéº»çƒ¦äº†ã€‚è¿™é‡Œæä¾›å‡ ä¸ªé€‰é¡¹ï¼šipic å…è´¹ç‰ˆå›¾ç‰‡ä¸Šä¼ è‡³å¾®åšï¼Œæ¯æœˆä»˜è´¹å¯ä¸Šä¼ è‡³ä¸ƒç‰›äº‘ï¼ˆRMBçŽ©å®¶å¯ä»¥è€ƒè™‘ï¼‰picU åªæ”¯æŒä¸ƒç‰›äº‘ï¼Œå¯ä»¥ä¸€é”®æˆªå›¾ä¸Šä¼ å¹¶å¤åˆ¶å¥½å›¾ç‰‡é“¾æŽ¥ï¼ˆæ¯”è¾ƒå¥½ç”¨ï¼Œä½†æ˜¯ç¬”è€…çš„è¿™ä¸ªä¸çŸ¥é“ä¸ºå•¥ç”¨å¾—å¥½å¥½çš„æŸä¸€å¤©çªç„¶å°±éªŒè¯ä¸é€šè¿‡äº†ï¼‰qiniu-image-tool éœ€è¦å®‰è£…qshellï¼ˆä¸ƒç‰›äº‘çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼‰ä»¥åŠ Alfredï¼ˆéžRMBçŽ©å®¶èƒ½æŽ¥å—ç ´è§£ç‰ˆçš„è¯å¯ä»¥åŽ»è¿™é‡Œä¸‹è½½å“¦ï¼‰åŸŸåæŒ‡å‘&emsp;æŽ¨èé˜¿é‡Œäº‘ï¼Œé¡ºä¾¿ä¸€æï¼Œé˜¿é‡Œäº‘çš„ECSæœ€ä½Žé…é¦–å¹´åªè¦300å—ï¼Œæœ‰æœåŠ¡å™¨éœ€æ±‚çš„å¯ä»¥å°è¯•ã€‚&emsp;æ³¨å†Œå¥½åŸŸååŽéœ€è¦æ·»åŠ åŸŸåè§£æžï¼Œè®²é“ç†çš„è¯é…ç½®CNAMEä¸ºwwwå’Œ@ã€è®°å½•å€¼ä¸ºXXX.github.ioå°±å¯ä»¥çš„ï¼Œä½†æ˜¯å®žé™…æ“ä½œä¸Šæˆ‘åœ¨é˜¿é‡Œäº‘åŸŸåè§£æžè¿™é‡Œå°è¯•é…ç½®ç¬¬äºŒæ¡çš„æ—¶å€™ä¸€ç›´æŠ¥é”™ï¼Œæ²¡åŠžæ³•ï¼Œpingäº†ä¸‹XXX.github.ioæ‹¿åˆ°IPåŽåŠ äº†ä¸€æ¡è®°å½•ç±»åž‹ä¸ºAã€è®°å½•å€¼ä¸ºIPçš„è®°å½•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&emsp;è¿˜éœ€è¦åšçš„ä¸€ä»¶äº‹æ˜¯åœ¨sourceç›®å½•åº•ä¸‹åˆ›å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œå†…å®¹çš„è¯å°±å¡«å†™ä½ çš„åŸŸåï¼Œç„¶åŽpushåˆ°è¿œç«¯ï¼Œé‡æ–°éƒ¨ç½²ã€‚ä¿å­˜æ–‡ä»¶&emsp;ä¸ºäº†ä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼Œå‚è€ƒå‰è¾ˆåšæ³•ï¼Œåœ¨è‡ªå·±çš„è¿™ä¸ªrepoä¸Šcheckoutä¸€ä¸ªæ–°çš„åˆ†æ”¯derekzhouï¼Œå°†ä»£ç æäº¤ã€‚ä»¥åŽæ¯æ¬¡æ›´æ–°æ–‡ç« æ—¶å…ˆpushåˆ°derekzhouåˆ†æ”¯ï¼Œç„¶åŽæ‰§è¡Œhexoçš„å‘½ä»¤åŽ»ç”Ÿæˆpublicæ–‡ä»¶deployåˆ°masterã€‚è¿™æ ·å°±ç®—æœ¬æœºåäº†ä¹Ÿæ²¡å½±å“ï¼Œæºä»£ç è¿˜æ˜¯å¯ä»¥ä»Žgitä¸Šcloneä¸‹æ¥ã€‚1234567891011# .gitignore.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*//.deploy_git/public# /_config.yml&emsp;æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿Žgitã€weiboå„ç§æ–¹å¼@æˆ‘ï¼Œåšå®¢çš„è¯„è®ºåŠŸèƒ½è¿™ä¸¤å¤©ä¼šåŠ ä¸Šï¼Œå› ä¸ºå¥½åƒçŽ°åœ¨æ¢¯å­éƒ½è¢«ç ï¼Œç¬¬ä¸‰æ–¹çš„ä¸€äº›è¯„è®ºæœåŠ¡ä¹Ÿä¸å¥½ç”¨äº†ï¼Œæœ‰æ—¶é—´å†çœ‹çœ‹å§ã€‚æ„Ÿè°¢å„ä½çœ‹å®˜è€çˆ·ä»¬~]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
