---
title: Network Review
abbrlink: cbb85b8c
date: 2018-01-25 15:40:00
tags:
---

&emsp;&emsp;年底了，无心写代码，回顾整理下以前记下的一些点
<!-- more -->

### 计网

#### 网络层级

- 实体层
  光纤，双绞线，无线电波等传输介质
  实体层的使命是实现物理连接

- 数据链路层
  0 1表示低高电位，根据0 1分组形式构成一组独特的电信号
  链路层的使命是确定0 1分组
  - 以太网协议：
    一组电信号构成一个数据包，称为一帧，一帧包含标头(head)和数据包(data)
    一帧构成：
      6个字节（6*8个二进制位，对应12个十六进制位，对应网卡地址）目的物理地址
      6个字节  源物理地址 （MAC地址前6位是厂商编号，后6位是厂商的网卡流水号）
      2个字节  类型（标识帧中所含信息的上层协议）
      46-1500个字节  数据
      4个字节  CRC（循环冗余检测）校验码
    广播：以广播形式向本网络内所有计算机发送数据包，计算机根据head里的目的地址对比自身，相同则接收

- 网络层
  链路层能实现同一子网内的计算机间通信，但对于不同子网的两台计算机，不能通过广播和MAC地址联系起来
  于是网络层定义了网络地址，用于判断计算机所处子网
  网络层的使命是实现不同子网的主机到主机间的通信
  - IP协议：
    IP数据包放到以太网数据包的data部分，同样包含head和data两部分
    IPV4规定网络地址由32个二进制位组成（0.0.0.0 - 255.255.255.255）
    IP地址包括网络部分和主机部分，子网掩码为11111(网络部分位)000(主机部分位)，以IP地址和子网掩码相加判断是否位于同一子网
    IP数据包head为20-60字节，head+data最大为65535字节，超过1500字节需要分割发送（链路层以太网协议）
  - ARP协议：
    通过IP地址获取MAC地址
    同一子网的所有计算机接收到一个包含目标IP地址和一个置空的MAC地址(FF:FF:FF:FF)的数据包，比对IP地址后作出回应，报告自己的MAC地址
    不同子网交由网关处理
  此时我们可以通过IP地址跨域子网间屏障，通过ARP协议根据IP地址再找到目标物理地址，实现互联网上任意两台主机的通信

- 传输层
  端口是使用网卡的程序的编号
  主机+端口 = socket套接字
  传输层使命是实现端口到端口的通信
  - UDP协议：
    数据包由head和data组成，head为8字节，总长不超过65535，一起放于IP数据包的data部分
  - TCP协议：
    有确认机制的UDP，相比前者多了确认过程，更复杂也更可靠

- 应用层
  应用层使命是规定应用程序的数据格式（DHCP,DNS,HTTP,FTP,SSH等）

#### HTTP

- 1.0-1.x

- HTTPS
  ![20170516149491393785322.png](http://opo02jcsr.bkt.clouddn.com/20170516149491393785322.png)

- SPDY
  ![2017051614949163657654.png](http://opo02jcsr.bkt.clouddn.com/2017051614949163657654.png)

- HTTP2.0
  ![20170516149491880919733.png](http://opo02jcsr.bkt.clouddn.com/20170516149491880919733.png)
  ![20170516149491828068808.png](http://opo02jcsr.bkt.clouddn.com/20170516149491828068808.png)
